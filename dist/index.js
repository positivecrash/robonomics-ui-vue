"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var H=require("@polkadot/util-crypto"),Ye=require("file-saver"),Xe=require("@polkadot/ui-keyring"),ie=require("@polkadot/keyring"),Be=require("@polkadot/util"),e=require("vue"),Z=require("vuex"),ce=require("vue-router");function Le(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Ke=Le(Ye),Ae=Le(Xe);function Y(t){try{return ie.encodeAddress(Be.isHex(t)?Be.hexToU8a(t):ie.decodeAddress(t)),!0}catch(o){return console.error("Address is not valid:",o),!1}}function Ce(t,o){if(Y(t)&&Y(o)){const n="32",r=ie.encodeAddress(t,n),a=ie.encodeAddress(o,n);return r===a}else return!1}function Ee(t){if(!t){console.error("For account generation you need to provide password");return}const o=H.mnemonicGenerate(),{json:n}=Ae.default.addUri(o,t);return{mnemonic:o,json:n}}async function qe(t,o){if(o==="ed25519"){const n=H.mnemonicToMiniSecret(t);return H.ed25519PairFromSeed(n)}}function be(t,o){try{var n=o||"backup_"+Date.now();if(typeof t=="object")var r=JSON.stringify(t);if(typeof t=="string")var r=t;Ke.default.saveAs(new Blob([r],{type:"application/json; charset=utf-8"}),`${n}.json`)}catch(a){console.log(a)}}function et(t){return Math.floor(t/(24*1e3*60*60))}function _e(t){return new Date(t).toLocaleDateString()}function X(t){return et(Date.now()-t)}function oe(t){if(t<=-5)return"ok";if(t<=-1&&t>-5)return"warning";if(t>=0)return"error"}const Se=["Adventurous","Bouncy","Brilliant","Cheerful","Chirpy","Colorful","Cuddly","Dazzling","Delightful","Energetic","Excited","Friendly","Fun","Giggly","Glowing","Happy","Jolly","Jovial","Lively","Lovely","Merry","Optimistic","Peppy","Perky","Playful","Quirky","Radiant","Silly","Smiley","Sparkly","Spirited","Sunny","Sweet","Vibrant","Whimsical","Witty","Zany","Zesty","Breezy","Charming","Dapper","Eager","Fantastic","Fluffy","Gleeful","Goofy","Hilarious","Jumpy","Kind","Lush","Marvelous","Mischievous","Neat","Nice","Peachy","Perceptive","Quick","Rosy","Snappy","Snazzy","Snuggly","Sociable","Sprightly","Squeaky","Tidy","Upbeat","Wacky","Warm","Welcoming","Yummy"],De=["Alligator","Anaconda","Antelope","Armadillo","Axolotl","Baboon","Badger","Barracuda","Bat","Beaver","Beluga","Bison","Butterfly","Camel","Capybara","Caribou","Caterpillar","Cheetah","Chinchilla","Chipmunk","Cobra","Cockatoo","Corgi","Crab","Crocodile","Dolphin","Donkey","Duck","Eagle","Elephant","Ferret","Flamingo","Fox","Frog","Giraffe","Goat","Goose","Hedgehog","Hippo","Horse","Jaguar","Jellyfish","Kangaroo","Koala","Lemur","Leopard","Llama","Lobster","Meerkat","Moose","Narwhal","Ocelot","Octopus","Otter","Owl","Panda","Parrot","Peacock","Penguin","Platypus","Puffin","Quokka","Rabbit","Raccoon","Reindeer","Seahorse","Sloth","Squirrel","Starfish","Tiger","Tortoise","Toucan","Turtle","Walrus","Whale","Wolf","Wombat","Zebra"];function ge(){return Se[Math.floor(Math.random()*Se.length)]+" "+De[Math.floor(Math.random()*De.length)]}function J(t){const o=t.split("");return(o.slice(0,6)+"..."+o.slice(-4)).replace(/,/g,"")}function tt(t,o){try{const{mnemonic:n,json:r}=Ee(o),a=r.address,s=r;return{name:ge(),owner:t,controller:a,controllerkey:s,datalogtimeout:10}}catch(n){return console.log(n),!1}}function ot(){var t=new Date,o=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return r+"-"+n+"-"+o}function we(t){return window.location.host+"-"+t.replace(/ /g,"_")+"-"+ot()}const nt={modules:{polkadot:{namespaced:!0,state:()=>{var t,o,n;return{accounts:localStorage.getItem("robonomicsUIPolkadotAccounts")?JSON.parse(localStorage.getItem("robonomicsUIPolkadotAccounts")):[],address:(t=localStorage.getItem("robonomicsUIPolkadotAddress"))!=null?t:"",balanceXRT:null,chain:"32",extension:(o=localStorage.getItem("robonomicsUIPolkadotExtension"))!=null?o:"",extensionObj:JSON.parse(localStorage.getItem("robonomicsUIPolkadotExtensionObj"))?JSON.parse(localStorage.getItem("robonomicsUIPolkadotExtensionObj")):{},wallet:(n=localStorage.getItem("robonomicsUIPolkadotWallet"))!=null?n:"",connection:{network:null,type:localStorage.getItem("robonomicsUIPolkadotConnectionType")||"libp2p",connected:!1,status:null}}},mutations:{setAccounts(t,o){t.accounts=o,localStorage.setItem("robonomicsUIPolkadotAccounts",JSON.stringify(t.accounts))},setAddress(t,o){o&&o!==""?t.address=H.encodeAddress(o,t.chain):t.address=o,localStorage.setItem("robonomicsUIPolkadotAddress",t.address)},setBalanceXRT(t,o){t.balanceXRT=o},setExtension(t,o){var n;t.extension=o,localStorage.setItem("robonomicsUIPolkadotExtension",t.extension),(n=window.walletExtension)!=null&&n.isNovaWallet?t.wallet="nova":t.wallet=t.extension,localStorage.setItem("robonomicsUIPolkadotWallet",t.wallet)},setExtensionObj(t,o){t.extensionObj=o,localStorage.setItem("robonomicsUIPolkadotExtensionObj",JSON.stringify(t.extensionObj))},setChain(t,o){t.chain=o,localStorage.setItem("robonomicsUIPolkadotChain",t.chain)},setConnectionNetwork(t,o){t.connection.network=o,localStorage.setItem("rpc-parachain","wss://"+o+".rpc.robonomics.network/")},setConnectionType(t,o){t.connection.type=o,localStorage.setItem("robonomicsUIPolkadotConnectionType",o)},setConnectionConnected(t,o){t.connection.connected=o},setConnectionStatus(t,o){t.connection.status=o}},actions:{async getAccounts({state:t,commit:o},n=t.chain){let r=[],a=[];if(window.injectedWeb3[t.extension]){const l=await window.injectedWeb3[t.extension].enable("Robonomics");try{r=await l.accounts.get(),a=r.map(i=>({...i,address:H.encodeAddress(i.address,n)})),o("setAccounts",a),o("setExtensionObj",l)}catch(i){console.log(i)}}else o("setAccounts",""),o("setExtensionObj","");return a},waitWeb3Injected(){return new Promise(function(t,o){const n=setTimeout(()=>(clearTimeout(n),clearInterval(r),o(new Error("[robonomics-ui-vue]: waitWeb3Injected(), no extension found"))),3e3),r=setInterval(()=>{if((window==null?void 0:window.injectedWeb3)&&Object.keys(window.injectedWeb3).length>0)return clearTimeout(n),clearInterval(r),t()},200)})},async disconnect({state:t,commit:o}){o("setAddress",""),o("setBalanceXRT",null),o("setAccounts",[]),o("setExtension",""),o("setExtensionObj",{}),window.injectedWeb3[t.extension]&&await window.injectedWeb3[t.extension].disable()},detectNetwork({commit:t}){const o=localStorage.getItem("rpc-parachain");o?t("setConnectionNetwork",URL.parse(o).host.split(".")[0]):t("setConnectionNetwork","kusama")}}},rws:{namespaced:!0,state:()=>({list:JSON.parse(localStorage.getItem("robonomicsUIrwslist")||"[]"),active:localStorage.getItem("robonomicsUIrwsactive")||null,expiredate:null,users:null,links:{activate:null,setup:null,setupnew:null,devices:null},devices:{view:"category"},launch:null,user:{account:localStorage.getItem("robonomicsUIrwsuser")||null,key:null}}),mutations:{setLink(t,{link:o,value:n}){if(typeof o!="string"||!(o in t.links)){console.warn(`Invalid link: ${o}`);return}t.links={...t.links,[o]:n}},setLaunch(t,o){t.launch=o},setExpiredate(t,o){t.expiredate=o},setUsers(t,o){t.users=o},removeUser(t){t.user.account=null,t.user.key=null,localStorage.removeItem("robonomicsUIrwsuser")},setUser(t,o){t.user.account=o,localStorage.setItem("robonomicsUIrwsuser",o)},setUserKey(t,o){t.user.key=o},setActiveSetup(t,o){t.active=o},setSetupsList(t,o){t.list=o}},actions:{checkSetupExists({state:t,rootState:o},n){var a,s,l;const r=((l=(s=(a=o.robonomicsUIvue)==null?void 0:a.polkadot)==null?void 0:s.connection)==null?void 0:l.network)||"kusama";return t.list.some(i=>i.owner===n&&i.network===r)},changeActiveSetup({state:t,commit:o,dispatch:n,rootState:r},a){var l,i,c;const s=((c=(i=(l=r.robonomicsUIvue)==null?void 0:l.polkadot)==null?void 0:i.connection)==null?void 0:c.network)||"kusama";n("checkSetupExists",a).then(d=>{if(!d){const u=t.list.find(m=>m.network===s);a=u?u.owner:null}o("setActiveSetup",a),localStorage.setItem("robonomicsUIrwsactive",a)})},addSetup({state:t,commit:o,dispatch:n,rootState:r},a){var l,i,c;const s=((c=(i=(l=r.robonomicsUIvue)==null?void 0:l.polkadot)==null?void 0:i.connection)==null?void 0:c.network)||"kusama";return n("checkSetupExists",a.owner).then(d=>{if(d)return n("editSetup",a).then(()=>({success:!0}));{const u={...a,network:s};return t.list.push(u),o("setSetupsList",t.list),o("setActiveSetup",u.owner),localStorage.setItem("robonomicsUIrwslist",JSON.stringify(t.list)),localStorage.setItem("robonomicsUIrwsactive",u.owner),{success:!0}}}).catch(d=>({success:!1,error:d.message||"Error adding setup"}))},editSetup({state:t,commit:o,rootState:n},r){var s,l,i;const a=((i=(l=(s=n.robonomicsUIvue)==null?void 0:s.polkadot)==null?void 0:l.connection)==null?void 0:i.network)||"kusama";return new Promise((c,d)=>{const u=t.list.findIndex(m=>m.owner===r.owner&&m.network===a);u>-1?(t.list[u]={...t.list[u],...r},o("setSetupsList",t.list),console.log("editSetup",t.list),localStorage.setItem("robonomicsUIrwslist",JSON.stringify(t.list)),c({success:!0})):d({success:!1,error:"Setup not found"})})},deleteSetup({state:t,commit:o,rootState:n},r){var l,i,c;const a=((c=(i=(l=n.robonomicsUIvue)==null?void 0:l.polkadot)==null?void 0:i.connection)==null?void 0:c.network)||"kusama",s=t.list.filter(d=>!(d.owner===r&&d.network===a));o("setSetupsList",s),localStorage.setItem("robonomicsUIrwslist",JSON.stringify(s)),t.active===r&&o("setActiveSetup",s.length>0?s[0].owner:null)},findSetup({state:t,rootState:o},n){var a,s,l;const r=((l=(s=(a=o.robonomicsUIvue)==null?void 0:a.polkadot)==null?void 0:s.connection)==null?void 0:l.network)||"kusama";return t.list.find(i=>i.owner===n&&i.network===r)||null},findSetupIndex({state:t,rootState:o},n){var a,s,l;const r=((l=(s=(a=o.robonomicsUIvue)==null?void 0:a.polkadot)==null?void 0:s.connection)==null?void 0:l.network)||"kusama";return t.list.findIndex(i=>i.owner===n&&i.network===r)},updateSetupField({state:t,dispatch:o,rootState:n},{owner:r,updates:a}){var i,c,d;const s=((d=(c=(i=n.robonomicsUIvue)==null?void 0:i.polkadot)==null?void 0:c.connection)==null?void 0:d.network)||"kusama",l=t.list.find(u=>u.owner===r&&u.network===s);if(l){const u={...l,...a};return a.users&&(u.users=a.users.filter(m=>m.label)),o("editSetup",u).then(()=>({success:!0})).catch(m=>({success:!1,error:m.message||"Failed to update setup"}))}else return{success:!1,error:`Setup not found for owner: ${r} in network: ${s}`}},uploadSetup({dispatch:t,rootState:o},n){if(n.length>0&&typeof n=="string"){let r=null;try{r=JSON.parse(n)}catch{return{success:!1,error:"Invalid JSON format"}}const a=o.robonomicsUIvue.polkadot.connection.network;if(r){const s=l=>{if(l.network){if(l.network!==a)return{success:!1,error:`Network mismatch! Imported setup is for '${l.network}', but the current network is '${a}'. Please switch networks and try again.`}}else l.network=a;return t("addSetup",l),{success:!0}};if(Array.isArray(r)&&r.length>0)return r.map(s).find(c=>!c.success)||{success:!0};if(typeof r=="object")return s(r)}}return{success:!1,error:"Invalid input data"}},getActiveSetup({state:t,commit:o,rootState:n}){var s,l,i;const r=((i=(l=(s=n.robonomicsUIvue)==null?void 0:s.polkadot)==null?void 0:l.connection)==null?void 0:i.network)||"kusama",a=t.list.filter(c=>c.network===r);a.length>0?(!t.active||!a.find(c=>c.owner===t.active))&&o("setActiveSetup",a[0].owner):o("setActiveSetup",null)},editUserListLabel({state:t,dispatch:o,rootState:n},r){var c,d,u;const a=((u=(d=(c=n.robonomicsUIvue)==null?void 0:c.polkadot)==null?void 0:d.connection)==null?void 0:u.network)||"kusama",s=t.active;if(!s)return{success:!1,error:"No active setup selected"};const l=t.list.find(m=>m.owner===s&&m.network===a);if(!l)return{success:!1,error:"Active setup not found"};l.users||(l.users=[]);const i=l.users.findIndex(m=>m.address===r.address);return i>-1?l.users[i].label=r.label:l.users.push({address:r.address,label:r.label}),o("editSetup",l).then(()=>({success:!0})).catch(m=>({success:!1,error:m.message||"Failed to update user label"}))},updateUserList({state:t,dispatch:o,rootState:n},r){var d,u,m,w;const a=((m=(u=(d=n.robonomicsUIvue)==null?void 0:d.polkadot)==null?void 0:u.connection)==null?void 0:m.network)||"kusama",s=t.active;if(!s)return{success:!1,error:"No active setup selected"};const l=t.list.find(g=>g.owner===s&&g.network===a);if(!l)return{success:!1,error:"Active setup not found"};if(!r||r.length<1)return delete l.users,o("editSetup",l).then(()=>({success:!0})).catch(g=>({success:!1,error:g.message||"Failed to update user list"}));let i=[],c=new Set;((w=l.users)==null?void 0:w.length)>0&&(i=l.users.filter(g=>r.includes(g.address)),c=new Set(i.map(g=>g.address)));try{r.forEach(g=>{c.has(g)||i.push({address:g,label:""})})}catch(g){console.log(g)}return l.users=i,o("editSetup",l).then(()=>({success:!0})).catch(g=>({success:!1,error:g.message||"Failed to update user list"}))},checkNetworkRws({state:t,rootState:o,commit:n}){var s,l,i;const r=(i=(l=(s=o.robonomicsUIvue)==null?void 0:s.polkadot)==null?void 0:l.connection)==null?void 0:i.network;if(t.list.some(c=>!c.network)){const c=t.list.map(d=>d.network?d:{...d,network:r});n("setSetupsList",c),localStorage.setItem("robonomicsUIrwslist",JSON.stringify(c))}}}},ipfs:{namespaced:!0,state:()=>{var t;return{gateways:[],activegateway:(t=localStorage.getItem("robonomicsUIipfsActivegateway"))!=null?t:null}},mutations:{setActiveGateway(t,o){t.activegateway=o,localStorage.setItem("robonomicsUIipfsActivegateway",t.activegateway)},setGateways(t,o){t.gateways=o,t.activegateway||(t.activegateway=t.gateways[0],localStorage.setItem("robonomicsUIipfsActivegateway",t.gateways[0]))}}},app:{namespaced:!0,state:()=>({status:null,libp2p:{connected:null},parachain:{connected:null},relay:{connected:null}}),actions:{setStatus({state:t},{value:o,timeout:n}){t.status=o,n&&setTimeout(()=>{t.status=null},n)},setlibp2p({state:t},o){o.connected?(t.libp2p.connected=!0,t.parachain.connected=!1):(t.libp2p.connected=!1,t.parachain.connected=!0)},setrelay({state:t},o){t.relay.connected=o.connected}}}}},lt=Object.assign({name:"RoboTemplateRwsBuy"},{__name:"Buy",props:{price:{type:[Number,String]},activationtime:{type:[Number,String]},available:{type:[Number,String]},rwsExpiration:{type:Number},chainInfoUploaded:{type:Boolean}},emits:["onActivate"],setup(t,{emit:o}){const n=Z.useStore(),r=o,a=t,s=e.ref("init"),l=e.ref(null),i=e.computed(()=>_e(a.rwsExpiration)),c=e.computed(()=>a.rwsExpiration?X(a.rwsExpiration):null),d=e.computed(()=>{var k;return s.value==="init"?c.value?"Renew subscription":"Buy subscription":(k={ok:"Subscription activated",error:"Something went wrong"}[s.value])!=null?k:"Processing"}),u=e.computed(()=>{var k;return(k={ok:"ok",error:"error"}[s.value])!=null?k:"primary"}),m=e.computed(()=>{var k;return(k={ok:"ok",error:"error"}[s.value])!=null?k:"warning"}),w=k=>{try{return parseFloat(k).toFixed(0)}catch{return k}},g=async k=>{const f={owner:n.state.robonomicsUIvue.polkadot.address,name:k,network:n.state.robonomicsUIvue.polkadot.connection.network},y=await n.dispatch("rws/addSetup",f);y.success?(s.value="ok",l.value="Subscription has been activated. Please, check the list of your setups."):(s.value="error",l.value=y.error||"Failed to activate subscription")},b=async()=>{if(s.value="processing",l.value="Please, sign and wait here for the activation process",!n.state.robonomicsUIvue.polkadot.address){s.value="error",l.value="Please, connect the account to proceed";return}r("onActivate",async(k,f)=>{if(k==="cancel"){s.value="init",l.value="The activation process has been canceled";return}if(k==="error"){s.value="error",l.value=f!=null?f:"Something went wrong during the activation process";return}if(k==="ok"){const y=await n.dispatch("rws/findSetup",n.state.robonomicsUIvue.polkadot.address),p=(y==null?void 0:y.name)||ge();await g(p)}})};return e.watch(()=>n.state.robonomicsUIvue.polkadot.address,()=>{s.value="init",l.value=null},{immediate:!0}),(k,f)=>{const y=e.resolveComponent("robo-account-polkadot"),p=e.resolveComponent("robo-loader"),v=e.resolveComponent("robo-text"),V=e.resolveComponent("robo-polkadot-network-select"),_=e.resolveComponent("robo-grid-item"),I=e.resolveComponent("robo-icon"),x=e.resolveComponent("robo-details"),h=e.resolveComponent("robo-link"),B=e.resolveComponent("robo-grid"),M=e.resolveComponent("robo-button"),C=e.resolveComponent("robo-status"),S=e.resolveComponent("robo-section");return e.openBlock(),e.createBlock(S,{width:"narrow"},{default:e.withCtx(()=>[e.createVNode(B,{gap:"x1",columns:"1"},{default:e.withCtx(()=>[e.createVNode(y,{extensionAllowShift:"",extensionShowIcon:"",selectable:"",selectstyle:"",selectblock:"",selecttitle:"Connect an account"}),t.chainInfoUploaded?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createVNode(B,{gap:"x05",columns:"1"},{default:e.withCtx(()=>[e.createVNode(_,{borderbottom:""},{default:e.withCtx(()=>[e.createVNode(v,{size:"small"},{default:e.withCtx(()=>f[1]||(f[1]=[e.createTextVNode("Chosen network:")])),_:1}),e.createVNode(v,{inline:"",weight:"bold"},{default:e.withCtx(()=>[e.createVNode(V,{clean:"",size:"medium"})]),_:1})]),_:1}),t.rwsExpiration?(e.openBlock(),e.createBlock(_,{key:0,borderbottom:""},{default:e.withCtx(()=>[e.createVNode(v,{size:"small"},{default:e.withCtx(()=>f[2]||(f[2]=[e.createTextVNode("Your current subscription:")])),_:1}),e.createVNode(v,{inline:"",weight:"bold"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(i.value),1)]),_:1}),e.createVNode(x,{style:{"margin-left":"var(--robo-space)"}},{summary:e.withCtx(()=>[e.createVNode(v,{inline:"",weight:"bold",highlight:e.unref(oe)(c.value)},{default:e.withCtx(()=>[e.createVNode(I,{icon:e.unref(oe)(c.value)==="ok"?"circle-check":"circle-exclamation"},null,8,["icon"])]),_:1},8,["highlight"])]),default:e.withCtx(()=>[e.unref(oe)(c.value)==="error"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" Your subscription has expired. Please, renew it to continue using the service. ")],64)):e.createCommentVNode("",!0),e.unref(oe)(c.value)==="warning"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(" Your subscription is almost expired. ")],64)):e.createCommentVNode("",!0),e.unref(oe)(c.value)==="ok"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createTextVNode(" Your subscription is active. ")],64)):e.createCommentVNode("",!0)]),_:1})]),_:1})):e.createCommentVNode("",!0),e.unref(n).state.robonomicsUIvue.polkadot.balanceXRT?(e.openBlock(),e.createBlock(_,{key:1,borderbottom:""},{default:e.withCtx(()=>[e.createVNode(v,{size:"small"},{default:e.withCtx(()=>f[3]||(f[3]=[e.createTextVNode("Your balance:")])),_:1}),e.createVNode(v,{inline:"",weight:"bold"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(n).state.robonomicsUIvue.polkadot.balanceXRT)+" XRT ",1)]),_:1}),e.createVNode(x,{style:{"margin-left":"var(--robo-space)"}},{summary:e.withCtx(()=>[e.createVNode(v,{inline:"",weight:"bold",highlight:Number(w(t.price))+Number(w(1))<e.unref(n).state.robonomicsUIvue.polkadot.balanceXRT?"ok":"error"},{default:e.withCtx(()=>[e.createVNode(I,{icon:Number(w(t.price))+Number(w(1))<e.unref(n).state.robonomicsUIvue.polkadot.balanceXRT?"circle-check":"circle-exclamation"},null,8,["icon"])]),_:1},8,["highlight"])]),default:e.withCtx(()=>[e.createVNode(B,{gap:"x05"},{default:e.withCtx(()=>[e.createVNode(v,{size:"small"},{default:e.withCtx(()=>[e.createTextVNode("To purchase or renew a subscription, you only need to have apprx. "+e.toDisplayString(Number(w(t.price))+Number(w(1)))+" XRT tokens in your account balance. Learn about XRT on Robonomics\u2019 website - https://robonomics.network/xrt/",1)]),_:1}),e.createVNode(v,{weight:"bold",size:"small"},{default:e.withCtx(()=>f[4]||(f[4]=[e.createTextVNode("Where to buy XRT")])),_:1}),e.createVNode(h,{href:"https://app.basilisk.cloud/trade"},{default:e.withCtx(()=>[e.createVNode(v,{size:"small"},{default:e.withCtx(()=>f[5]||(f[5]=[e.createTextVNode("Basilisk")])),_:1})]),_:1}),e.createVNode(h,{href:"https://app.solarbeam.io/exchange/swap"},{default:e.withCtx(()=>[e.createVNode(v,{size:"small"},{default:e.withCtx(()=>f[6]||(f[6]=[e.createTextVNode("Solarbeam")])),_:1})]),_:1}),e.createVNode(h,{href:"https://trade.kraken.com/markets/kraken/xrt/usd"},{default:e.withCtx(()=>[e.createVNode(v,{size:"small"},{default:e.withCtx(()=>f[7]||(f[7]=[e.createTextVNode("Kraken")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):e.createCommentVNode("",!0),t.price?(e.openBlock(),e.createBlock(_,{key:2,borderbottom:""},{default:e.withCtx(()=>[e.createVNode(v,{size:"small"},{default:e.withCtx(()=>f[8]||(f[8]=[e.createTextVNode("Subscription price:")])),_:1}),e.createVNode(v,{inline:"",weight:"bold"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(w(t.price))+" XRT",1)]),_:1})]),_:1})):e.createCommentVNode("",!0),t.activationtime?(e.openBlock(),e.createBlock(_,{key:3,borderbottom:""},{default:e.withCtx(()=>[e.createVNode(v,{size:"small"},{default:e.withCtx(()=>f[9]||(f[9]=[e.createTextVNode("Activation time:")])),_:1}),e.createVNode(v,{inline:"",weight:"bold"},{default:e.withCtx(()=>[e.createTextVNode("~ "+e.toDisplayString(t.activationtime)+" min",1)]),_:1})]),_:1})):e.createCommentVNode("",!0),t.available?(e.openBlock(),e.createBlock(_,{key:4},{default:e.withCtx(()=>[e.createVNode(v,{size:"small"},{default:e.withCtx(()=>f[10]||(f[10]=[e.createTextVNode("Available subscriptions:")])),_:1}),e.createVNode(v,{inline:"",weight:"bold"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.available),1)]),_:1})]),_:1})):e.createCommentVNode("",!0)]),_:1}),e.createVNode(M,{onClick:e.withModifiers(b,["prevent"]),disabled:s.value!=="init"||c.value<-1,loading:s.value==="processing",type:u.value,block:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(d.value),1)]),_:1},8,["disabled","loading","type"])],64)):(e.openBlock(),e.createBlock(v,{key:0,weight:"normal-italic"},{default:e.withCtx(()=>[e.createVNode(p,{size:"1.5"}),f[0]||(f[0]=e.createTextVNode(" Loading data from chain "))]),_:1})),l.value?(e.openBlock(),e.createBlock(C,{key:2,type:m.value,solid:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.value),1)]),_:1},8,["type"])):e.createCommentVNode("",!0)]),_:1})]),_:1})}}}),rt={name:"RoboRwsGenerateSetup"},at=Object.assign(rt,{emits:["onSetupGenerate","onRequestSubscription"],setup(t,{emit:o}){const n=o,r=Z.useStore(),a=e.ref(null),s=e.ref("init"),l=e.ref(null),i=e.ref(null),c=e.ref("subscription"),d=e.computed(()=>r.state.robonomicsUIvue.polkadot.address),u=e.ref(null),m=async()=>{if(s.value="process",l.value=null,!d.value){s.value="error",l.value="Please, connect the owner account to proceed";return}if(!u.value){s.value="error",l.value="No subscription found for this account";return}if(!a.value){s.value="error",l.value="Please, provide a password";return}if(i.value=tt(d.value,a.value),!i.value){s.value="error",l.value="Something went wrong while generating the config";return}c.value=we(i.value.name),n("onSetupGenerate",i.value,async(f,y)=>await w(f,y))},w=async(f,y)=>{if(s.value=f,l.value=y!=null?y:"Setup saved and added to the dapp. Don't forget to save backup in 'Your setups'.",f==="ok"&&i.value)try{const p=await r.dispatch("rws/addSetup",i.value);p.success||(s.value="error",l.value=p.error||"Failed to save setup")}catch(p){s.value="error",l.value=p.message||"An unknown error occurred"}},g=f=>{u.value=f||null},b=e.computed(()=>{var f;return(f={ok:"Saved",error:"Something went wrong"}[s.value])!=null?f:"Submit"}),k=e.computed(()=>{var f;return(f={ok:"ok",error:"error"}[s.value])!=null?f:"primary"});return e.onMounted(()=>{e.watch(()=>d.value,f=>{s.value="init",l.value=null,a.value=null,f?n("onRequestSubscription",f,y=>g(y)):u.value=null},{immediate:!0}),e.watch(()=>a.value,()=>{s.value="init",l.value=null})}),(f,y)=>{const p=e.resolveComponent("robo-text"),v=e.resolveComponent("robo-account-polkadot"),V=e.resolveComponent("robo-section"),_=e.resolveComponent("robo-input-new"),I=e.resolveComponent("robo-loader"),x=e.resolveComponent("robo-button"),h=e.resolveComponent("robo-status"),B=e.resolveComponent("robo-grid");return e.openBlock(),e.createBlock(B,{gap:"x05",columns:"1"},{default:e.withCtx(()=>[e.createVNode(V,null,{default:e.withCtx(()=>[e.createVNode(p,{size:"small",offset:"x025"},{default:e.withCtx(()=>[y[2]||(y[2]=e.createTextVNode(" Owner & Network: ")),d.value?(e.openBlock(),e.createBlock(p,{key:0,highlight:u.value?e.unref(oe)(e.unref(X)(u.value)):"error",inline:""},{default:e.withCtx(()=>[u.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode("No subscription")],64)),u.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(" Subscription til "+e.toDisplayString(e.unref(_e)(u.value)),1)],64)):e.createCommentVNode("",!0)]),_:1},8,["highlight"])):e.createCommentVNode("",!0)]),_:1}),e.createVNode(v,{short:"",extensionAllowShift:"",extensionShowIcon:"",selectable:"",selectstyle:"",selectblock:"",selecttitle:"Connect owner account"})]),_:1}),e.createVNode(V,{disabled:!u.value},{default:e.withCtx(()=>[e.createVNode(V,{offset:"x025"},{default:e.withCtx(()=>[e.createVNode(p,{size:"small",offset:"x025"},{default:e.withCtx(()=>y[3]||(y[3]=[e.createTextVNode("New password:")])),_:1}),e.createVNode(_,{width:"wide",type:"password",modelValue:a.value,"onUpdate:modelValue":y[0]||(y[0]=M=>a.value=M),error:f.errorpassword,onClick:y[1]||(y[1]=M=>f.errorpassword=!1)},null,8,["modelValue","error"])]),_:1})]),_:1},8,["disabled"]),e.createVNode(V,{disabled:!u.value},{default:e.withCtx(()=>[e.createVNode(x,{block:"",disabled:!d.value||!u.value||!a.value||s.value!=="init",type:k.value,onClick:m},{default:e.withCtx(()=>[s.value==="process"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createVNode(I),y[4]||(y[4]=e.createTextVNode(" Processing "))],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(b.value),1)],64))]),_:1},8,["disabled","type"]),l.value?(e.openBlock(),e.createBlock(h,{key:0,type:s.value,offset:"x1"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.value),1)]),_:1},8,["type"])):e.createCommentVNode("",!0)]),_:1},8,["disabled"])]),_:1})}}});var L=(t,o)=>{const n=t.__vccOpts||t;for(const[r,a]of o)n[r]=a;return n};const st={class:"robo-hapass-line"},it={class:"robo-hapass-line"},ct={name:"RoboRwsHaPass"},ut=Object.assign(ct,{emits:["onSaveHaPass"],setup(t,{emit:o}){const n=Z.useStore(),r=e.ref(n.state.robonomicsUIvue.rws.user.account),a=e.ref(null),s=e.ref(!1),l=e.ref("init"),i=e.ref(null),c=o,d=e.computed(()=>n.state.robonomicsUIvue.rws.users),u=e.computed(()=>n.state.robonomicsUIvue.rws.user.key),m=e.computed(()=>n.state.robonomicsUIvue.rws.expiredate),w=e.computed(()=>X(m.value)),g=e.computed(()=>{if(d.value)return d.value.map(p=>J(p))}),b=()=>{s.value=!1,i.value=null,l.value="init",a.value=null},k=()=>{if(w.value>0){l.value="error",i.value="Please, renew your subscription first";return}if(!a.value||a.value===""){i.value="Password can not be empty",l.value="error";return}l.value="process",c("onSaveHaPass",a.value,(p,v)=>{if(p==="cancel"&&!v){i.value="The saving process has been canceled";return}l.value=p,i.value=v})},f=e.computed(()=>{var p;return(p={error:"error",cancel:"warning",ok:"ok"}[l.value])!=null?p:"primary"}),y=e.computed(()=>{var p;return(p={error:"error",ok:"ok",cancel:"warning"}[l.value])!=null?p:null});return e.onMounted(()=>{e.watch(()=>r.value,p=>{n.commit("rws/setUser",p),b()}),e.watch(()=>n.state.robonomicsUIvue.rws.user.account,p=>{r.value=p,b()})}),(p,v)=>{const V=e.resolveComponent("robo-link"),_=e.resolveComponent("robo-text"),I=e.resolveComponent("robo-rws-user-signin"),x=e.resolveComponent("robo-select"),h=e.resolveComponent("robo-copy"),B=e.resolveComponent("robo-input-new"),M=e.resolveComponent("robo-loader"),C=e.resolveComponent("robo-button"),S=e.resolveComponent("robo-status"),T=e.resolveComponent("robo-grid");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(_,{offset:"x1",weight:"normal-italic",size:"small"},{default:e.withCtx(()=>[v[4]||(v[4]=e.createTextVNode(" To log in to the Home Assistant application via browser locally (in the same network where your smart devices work) create or reset the password for your user. Make sure this user has been added to the RWS subscription. ")),e.createVNode(V,{href:"https://www.home-assistant.io/getting-started/onboarding/"},{default:e.withCtx(()=>v[3]||(v[3]=[e.createTextVNode("More info")])),_:1})]),_:1}),d.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createVNode(I),r.value&&u.value?(e.openBlock(),e.createElementBlock("form",{key:0,onSubmit:e.withModifiers(k,["prevent"])},[e.createVNode(T,{gap:"x05",columns:"1"},{default:e.withCtx(()=>[e.createElementVNode("div",st,[e.createVNode(x,{modelValue:r.value,"onUpdate:modelValue":v[0]||(v[0]=D=>r.value=D),onChange:b,options:g.value,values:d.value,label:"Selected user",block:""},null,8,["modelValue","options","values"]),l.value==="ok"?(e.openBlock(),e.createBlock(h,{key:0,text:r.value},null,8,["text"])):e.createCommentVNode("",!0)]),e.createElementVNode("div",it,[e.createVNode(B,{modelValue:a.value,"onUpdate:modelValue":v[1]||(v[1]=D=>a.value=D),onInput:v[2]||(v[2]=D=>s.value=!0),label:"New password",type:"password",width:"wide"},null,8,["modelValue"]),l.value==="ok"?(e.openBlock(),e.createBlock(h,{key:0,text:a.value},null,8,["text"])):e.createCommentVNode("",!0)]),e.createVNode(C,{block:"",disabled:!s.value||l.value==="process"||l.value==="ok",type:f.value},{default:e.withCtx(()=>[l.value==="process"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createVNode(M),v[5]||(v[5]=e.createTextVNode(" Saving"))],64)):e.createCommentVNode("",!0),l.value==="init"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode("Save")],64)):e.createCommentVNode("",!0),l.value==="ok"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createTextVNode("Saved")],64)):e.createCommentVNode("",!0),l.value==="error"||l.value==="cancel"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[e.createTextVNode("Not saved")],64)):e.createCommentVNode("",!0)]),_:1},8,["disabled","type"]),i.value?(e.openBlock(),e.createBlock(S,{key:0,type:y.value,offset:"x1",solid:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(i.value),1)]),_:1},8,["type"])):e.createCommentVNode("",!0)]),_:1})],32)):e.createCommentVNode("",!0)],64)):(e.openBlock(),e.createBlock(S,{key:1,type:"warning",solid:""},{default:e.withCtx(()=>v[6]||(v[6]=[e.createTextVNode("Add users to the subscription first")])),_:1}))],64)}}});var dt=L(ut,[["__scopeId","data-v-4fb0e134"]]);const pt={class:"networkname"},mt={key:0},vt={key:1},ft={name:"RoboRwsSetup"},bt=Object.assign(ft,{props:{onUserDelete:{type:Function},onUserAdd:{type:Function},onSaveHapass:{type:Function},onControllerEdit:{type:Function},onControllerRequest:{type:Function}},setup(t){const o=Z.useStore();ce.useRouter();const n=e.computed(()=>o.state.robonomicsUIvue.rws.active),r=e.computed(()=>o.state.robonomicsUIvue.rws.list);e.computed(()=>r.value.find(d=>d.owner===o.state.robonomicsUIvue.rws.active));const a=e.computed(()=>o.state.robonomicsUIvue.rws.users),s=e.computed(()=>Ce(o.state.robonomicsUIvue.polkadot.address,o.state.robonomicsUIvue.rws.active)),l=e.computed(()=>{var d;return(d=a.value)==null?void 0:d.find(u=>Ce(u,o.state.robonomicsUIvue.polkadot.address))});e.computed(()=>{const d=o.dispatch("rws/findSetupIndex",n.value);if(d!==-1)return r.value[d].users}),e.computed(()=>{var d;return(d=o.state.robonomicsUIvue.rws.list.find(u=>u.owner===o.state.robonomicsUIvue.rws.active))==null?void 0:d.user});const i=e.computed(()=>o.state.robonomicsUIvue.rws.expiredate),c=e.computed(()=>{const d=o.state.robonomicsUIvue.polkadot.connection.network,u=o.state.robonomicsUIvue.rws.list.find(m=>m.owner===o.state.robonomicsUIvue.rws.active&&m.network===d);return u&&u.owner&&u.controller});return e.onMounted(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}),(d,u)=>{var p;const m=e.resolveComponent("robo-text"),w=e.resolveComponent("robo-rws-setup-active-select"),g=e.resolveComponent("robo-account-polkadot"),b=e.resolveComponent("robo-section"),k=e.resolveComponent("robo-rws-setup-active"),f=e.resolveComponent("robo-rws-ha-pass"),y=e.resolveComponent("robo-button");return((p=r.value)==null?void 0:p.length)>0?(e.openBlock(),e.createBlock(b,{key:0,width:"narrow"},{default:e.withCtx(()=>[e.createVNode(m,{title:"3",offset:"x1"},{default:e.withCtx(()=>u[0]||(u[0]=[e.createTextVNode("Saved subscription setups")])),_:1}),e.createVNode(b,{offset:"x1"},{default:e.withCtx(()=>{var v;return[((v=r.value)==null?void 0:v.length)>1?(e.openBlock(),e.createBlock(m,{key:0,size:"small",offset:"x025"},{default:e.withCtx(()=>u[1]||(u[1]=[e.createTextVNode("Added setups")])),_:1})):e.createCommentVNode("",!0),e.createVNode(w),e.createVNode(m,{size:"small",offset:"x025"},{default:e.withCtx(()=>[e.unref(o).state.robonomicsUIvue.polkadot.connection.network?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("span",pt,e.toDisplayString(e.unref(o).state.robonomicsUIvue.polkadot.connection.network),1),u[2]||(u[2]=e.createTextVNode(" Network Connected"))],64)):e.createCommentVNode("",!0),e.unref(o).state.robonomicsUIvue.polkadot.connection.network&&e.unref(o).state.robonomicsUIvue.polkadot.address&&i.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(", ")],64)):e.createCommentVNode("",!0),e.unref(o).state.robonomicsUIvue.polkadot.address&&i.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[u[3]||(u[3]=e.createTextVNode(" Account connected (")),s.value?(e.openBlock(),e.createElementBlock("b",mt,"Admin")):e.createCommentVNode("",!0),!s.value&&l.value?(e.openBlock(),e.createElementBlock("b",vt,"as User")):e.createCommentVNode("",!0),!s.value&&!l.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createTextVNode("not added")],64)):e.createCommentVNode("",!0),u[4]||(u[4]=e.createTextVNode(") "))],64)):e.createCommentVNode("",!0)]),_:1}),e.createVNode(g,{short:"",extensionAllowShift:"",extensionShowIcon:"",selectable:"",selectstyle:"",selectblock:"",selecttitle:e.unref(o).state.robonomicsUIvue.polkadot.address?"Switch a network":"Connect an account / Switch a network"},null,8,["selecttitle"])]}),_:1}),e.createVNode(b,null,{default:e.withCtx(()=>[e.createVNode(b,{card:""},{default:e.withCtx(()=>[e.createVNode(k,{onUserDelete:t.onUserDelete,onUserAdd:t.onUserAdd,onControllerEdit:t.onControllerEdit},null,8,["onUserDelete","onUserAdd","onControllerEdit"])]),_:1})]),_:1}),c.value&&a.value&&a.value.length>0?(e.openBlock(),e.createBlock(b,{key:0,offset:"x3"},{default:e.withCtx(()=>[e.createVNode(m,{title:"3"},{default:e.withCtx(()=>u[5]||(u[5]=[e.createTextVNode("Home assistant")])),_:1}),e.createVNode(f,{onOnSaveHaPass:t.onSaveHapass},null,8,["onOnSaveHaPass"])]),_:1})):e.createCommentVNode("",!0)]),_:1})):(e.openBlock(),e.createBlock(b,{key:1,width:"narrow",gcenter:""},{default:e.withCtx(()=>[e.createVNode(m,{size:"small",weight:"bold",offset:"x05"},{default:e.withCtx(()=>u[6]||(u[6]=[e.createTextVNode("You haven't added any setups yet")])),_:1}),e.unref(o).state.robonomicsUIvue.rws.links.setupnew?(e.openBlock(),e.createBlock(y,{key:0,router:e.unref(o).state.robonomicsUIvue.rws.links.setupnew,iconleft:"rss"},{default:e.withCtx(()=>u[7]||(u[7]=[e.createTextVNode("Add a setup ")])),_:1},8,["router"])):e.createCommentVNode("",!0)]),_:1}))}}}),gt={class:"robo-line-clipoverflow"},wt={name:"RoboRwsSetupActive"},yt=Object.assign(wt,{props:{selectable:{type:Boolean,default:!1},type:{type:String,default:"full",validator:function(t){return["full","popup"].indexOf(t)!==-1}},show:{type:Array},onControllerEdit:{type:Function},onUserAdd:{type:Function},onUserDelete:{type:Function}},setup(t){const o=Z.useStore(),n=ce.useRouter(),r=e.ref(null),a=e.computed(()=>{const u=o.state.robonomicsUIvue.polkadot.connection.network;return o.state.robonomicsUIvue.rws.list.filter(m=>m.network===u)}),s=e.computed(()=>a.value.find(u=>u.owner===o.state.robonomicsUIvue.rws.active)),l=e.computed(()=>o.state.robonomicsUIvue.rws.active),i=e.computed(()=>a.value&&a.value.length>0?a.value.map(u=>u.name):null),c=e.computed(()=>a.value&&a.value.length>0?a.value.map(u=>u.owner):null),d=()=>{o.commit("rws/changeActiveSetup",r.value),n.go()};return e.onMounted(()=>{r.value=o.state.robonomicsUIvue.rws.active}),e.watch(a,()=>{r.value=o.state.robonomicsUIvue.rws.active}),e.watch(l,u=>{r.value=u}),(u,m)=>{const w=e.resolveComponent("robo-icon"),g=e.resolveComponent("robo-grid"),b=e.resolveComponent("robo-rws-setup-active-select"),k=e.resolveComponent("robo-text"),f=e.resolveComponent("robo-rws-setup-active-info"),y=e.resolveComponent("robo-section"),p=e.resolveComponent("robo-details"),v=e.resolveComponent("robo-status"),V=e.resolveComponent("robo-select");return e.openBlock(),e.createElementBlock(e.Fragment,null,[t.type==="popup"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[a.value.length>0?(e.openBlock(),e.createBlock(p,{key:0},{summary:e.withCtx(()=>[e.createVNode(g,{type:"flex",gap:"x05"},{default:e.withCtx(()=>[e.createVNode(w,{icon:"house-signal-solid"}),e.createElementVNode("span",gt,e.toDisplayString(s.value.name),1)]),_:1})]),default:e.withCtx(()=>[e.createVNode(y,null,{default:e.withCtx(()=>[t.selectable?(e.openBlock(),e.createBlock(b,{key:0,class:"selectrws",offset:"x05"})):(e.openBlock(),e.createBlock(k,{key:1,title:"5",offset:"x025",nowrap:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(s.value.name),1)]),_:1})),e.createVNode(k,{size:"small"},{default:e.withCtx(()=>[e.createVNode(f,{show:t.show,onOnControllerEdit:t.onControllerEdit,onUserDelete:t.onUserDelete,onUserAdd:t.onUserAdd},null,8,["show","onOnControllerEdit","onUserDelete","onUserAdd"])]),_:1})]),_:1})]),_:1})):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),t.type==="full"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[a.value.length<1?(e.openBlock(),e.createBlock(v,{key:0,type:"error"},{default:e.withCtx(()=>m[2]||(m[2]=[e.createTextVNode("No setups were found")])),_:1})):s.value?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(v,{key:1,type:"error"},{default:e.withCtx(()=>m[3]||(m[3]=[e.createTextVNode("No Active Setup found")])),_:1})),a.value.length>0?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[a.value.length>1&&t.selectable?(e.openBlock(),e.createBlock(V,{key:0,block:"",size:"small",options:i.value,values:c.value,modelValue:r.value,"onUpdate:modelValue":m[0]||(m[0]=_=>r.value=_),onChange:m[1]||(m[1]=_=>d()),class:"selectrws",offset:"x05"},null,8,["options","values","modelValue"])):e.createCommentVNode("",!0),e.createVNode(k,{size:"small"},{default:e.withCtx(()=>[e.createVNode(f,{show:t.show,onTest:u.testEmit,onOnControllerEdit:t.onControllerEdit,onUserDelete:t.onUserDelete,onUserAdd:t.onUserAdd},null,8,["show","onTest","onOnControllerEdit","onUserDelete","onUserAdd"])]),_:1})],64)):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0)],64)}}});const kt={class:"networkname"},xt={key:0},Ct={name:"RoboRwsSetupActiveInfo"},Nt=Object.assign(Ct,{props:{onUserDelete:{type:Function},onUserAdd:{type:Function},show:{type:Array,default:["name","date","owner","controller","users","backup","link","remove"]}},emits:["onControllerEdit"],setup(t,{emit:o}){const n=Z.useStore(),r=o,a=e.computed(()=>{const z=n.state.robonomicsUIvue.polkadot.connection.network;return n.state.robonomicsUIvue.rws.list.filter(N=>N.network===z)}),s=e.computed(()=>n.state.robonomicsUIvue.rws.active),l=e.computed(()=>a.value.map(z=>z.owner).indexOf(s.value)),i=e.computed(()=>n.state.robonomicsUIvue.polkadot.address),c=e.computed(()=>n.state.robonomicsUIvue.polkadot.connection.network),d=e.computed(()=>n.state.robonomicsUIvue.rws.expiredate),u=e.computed(()=>X(d.value)),m=e.computed(()=>Ce(i.value,s.value)),w=e.computed(()=>window.location.hash==="#"+n.state.robonomicsUIvue.rws.links.setup),g=e.computed(()=>a.value[l.value].controllerkey),b=e.computed(()=>a.value[l.value].name),k=e.computed(()=>a.value[l.value].owner),f=e.computed(()=>a.value[l.value].controller),y=e.computed(()=>{var z;return(z=a.value[l.value])==null?void 0:z.users}),p=e.computed(()=>y.value?y.value.filter(z=>(z==null?void 0:z.label)&&(z==null?void 0:z.label)!==""):null),v=e.ref(null),V=async z=>{try{if(!v.value||v.value.trim()===""){z("error","Please, enter some name");return}const N=v.value.trim(),P=await n.dispatch("rws/updateSetupField",{owner:k.value,updates:{name:N}});P.success?z("ok"):z("error",P.error||"Failed to save name")}catch(N){console.error("Error saving name:",N),z("error",N.message||"An unknown error occurred")}},_=z=>{var N;return(D==null?void 0:D.value)&&((N=D==null?void 0:D.value)==null?void 0:N.length)>1&&(D==null?void 0:D.value.find(P=>P===z))},I=e.ref(a.value[l.value].controller),x=e.ref(null),h=e.ref(null),B=async(z,N,P,A,$)=>{if(P==="error")x.value="error",h.value=A;else if(P==="cancel")x.value="error",h.value="Saving controller account to User list was cancelled";else if(P==="ok"){x.value=P,h.value="Controller setup locally in dapp and saved in chain. Make sure this account is used as a controller in Home Assistant integration.",I.value=z;const K=await n.dispatch("rws/updateSetupField",{owner:k.value,updates:{controller:z,controllerkey:N||void 0}});K.success||(x.value="error",h.value=K.error||"Failed to save controller")}else x.value=P,h.value=A;$&&$(P,A)},M=(z,N,P)=>{if(u.value>0){x.value="error",h.value="Please, renew subscription first";return}Y(z)?_(z)?B(z,N,"ok","Controller setup locally in dapp. Make sure this account used as a controller in Home Assistant integration.",P):m.value?r("onControllerEdit",z,(A,$)=>B(z,N,A,$,P)):(x.value="error",h.value="Controller should be in the User list of subscription (request from Admin)",P&&P(x.value,h.value)):(x.value="error",h.value="Invalid account address",P&&P(x.value,h.value))},C=z=>{x.value="loading",h.value="",M(I.value,g.value||null,z)},S=(z,N)=>{x.value="loading",h.value="",M(z,N)},T=()=>{Y(I.value)&&_(I.value)?(x.value="ok",h.value=""):Y(I.value)?_(I.value)||(x.value="error",h.value="Account should be added in User list"):(x.value="error",h.value="Account is not valid")},D=e.computed(()=>{var z,N;return(N=(z=n.state.robonomicsUIvue)==null?void 0:z.rws)==null?void 0:N.users}),E=e.ref(!1),j=8e3;var F=0;e.watch(()=>D.value,(z,N)=>{n.dispatch("rws/updateUserList",z),F>1&&JSON.stringify(e.toRaw(z))!==JSON.stringify(e.toRaw(N))&&(T(),E.value=!0,setTimeout(()=>{E.value=!1},j+1)),F++});const Q=e.ref(!0),U=e.ref(!0),W=e.ref(!0),R=e.ref(!0),ke=e.ref(!1),ne=e.ref(!1),le=e.ref(!1),te=e.ref(!1),ue=e.ref(null),de=e.ref(null),pe=e.ref(null),me=e.ref(null),Pe=()=>{let z={},N=we(b.value||"subscription");if(n.state.robonomicsUIvue.polkadot.connection.network&&(z.network=n.state.robonomicsUIvue.polkadot.connection.network),Q.value&&b.value&&(z.name=b.value.trim()),U.value&&k.value&&(z.owner=k.value.trim()),W.value&&f.value&&(z.controller=f.value.trim()),R.value&&p.value.length>0&&(z.users=p.value),ke.value&&g.value&&(z.controllerkey=g.value),ne.value&&ue.value&&(z.messaging=ue.value.trim()),le.value&&de.value&&(z.ipfsgate=de.value.trim()),te.value){const A={};pe.value&&(A.public=pe.value.trim()),me.value&&(A.private=me.value.trim()),Object.keys(A).length>0&&(z.pinata=A)}if(Object.keys(z).length===0){console.warn("Backup content is empty. No data to save.");return}const P=Object.keys(z).sort().reduce((A,$)=>(A[$]=z[$],A),{});be(P,N)},Ge=()=>{n.dispatch("rws/deleteSetup",s.value)},ve=e.ref(!0);return e.onMounted(()=>{e.watch(()=>ve.value,z=>{z&&setTimeout(()=>{ve.value=!1},6e3)},{immediate:!0}),e.watch(()=>l.value,()=>{v.value=b.value,ve.value=!0,T()},{immediate:!0})}),(z,N)=>{const P=e.resolveComponent("robo-status"),A=e.resolveComponent("robo-grid"),$=e.resolveComponent("robo-icon"),K=e.resolveComponent("robo-text"),fe=e.resolveComponent("robo-input-new"),$e=e.resolveComponent("robo-link"),Fe=e.resolveComponent("robo-copy"),Qe=e.resolveComponent("robo-account-polkadot-generate"),We=e.resolveComponent("robo-rws-user"),He=e.resolveComponent("robo-rws-user-add"),re=e.resolveComponent("robo-section"),Me=e.resolveComponent("robo-details"),q=e.resolveComponent("robo-input"),Ie=e.resolveComponent("robo-textarea"),Ve=e.resolveComponent("robo-button"),Je=e.resolveComponent("robo-button-approve");return e.openBlock(),e.createElementBlock(e.Fragment,null,[d.value?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(A,{key:0,type:"flex",offset:"x025",gap:"x025",valign:"center"},{default:e.withCtx(()=>[e.createVNode(P,{type:"error",solid:""},{default:e.withCtx(()=>[N[14]||(N[14]=e.createTextVNode("No subscription found in ")),e.createElementVNode("i",kt,e.toDisplayString(c.value),1)]),_:1})]),_:1})),e.createVNode(K,{lines:"dotted",size:"small",class:e.normalizeClass(["setupinfo",ve.value&&"setupinfonew"])},{default:e.withCtx(()=>[e.createVNode(A,{type:"flex",offset:"x025",gap:"x025",valign:"center"},{default:e.withCtx(()=>[e.createVNode($,{icon:e.unref(n).state.robonomicsUIvue.polkadot.connection.network},null,8,["icon"]),N[15]||(N[15]=e.createElementVNode("span",{class:"robo-longline"},"Setup's network:",-1)),e.createVNode(K,{weight:"bold",class:"networkname"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(n).state.robonomicsUIvue.polkadot.connection.network),1)]),_:1})]),_:1}),t.show.includes("name")&&d.value?(e.openBlock(),e.createBlock(A,{key:0,type:"flex",offset:"x025",gap:"x025",valign:"center"},{default:e.withCtx(()=>[e.createVNode($,{icon:"quote"}),N[16]||(N[16]=e.createElementVNode("span",{class:"robo-longline"},"Name in dapp:",-1)),w.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("b",xt,e.toDisplayString(v.value),1)),w.value?(e.openBlock(),e.createBlock(fe,{key:1,modelValue:v.value,"onUpdate:modelValue":N[0]||(N[0]=ee=>v.value=ee),type:"text",width:"fit",view:"line",edit:"",onOnEdit:V,placeholder:"Type here a name"},null,8,["modelValue"])):e.createCommentVNode("",!0)]),_:1})):e.createCommentVNode("",!0),t.show.includes("date")&&d.value?(e.openBlock(),e.createBlock(A,{key:1,type:"flex",offset:"x025",gap:"x025",valign:"center"},{default:e.withCtx(()=>[e.createVNode($,{icon:"calendar"}),N[17]||(N[17]=e.createElementVNode("span",{class:"robo-longline"},"Active until:",-1)),e.createVNode(K,{highlight:e.unref(oe)(u.value),weight:"bold"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(_e)(d.value)),1)]),_:1},8,["highlight"]),u.value>-1&&m.value?(e.openBlock(),e.createBlock($e,{key:0,router:e.unref(n).state.robonomicsUIvue.rws.links.activate},{default:e.withCtx(()=>[e.createVNode($,{icon:"arrow-rotate-left"})]),_:1},8,["router"])):e.createCommentVNode("",!0)]),_:1})):e.createCommentVNode("",!0),t.show.includes("owner")?(e.openBlock(),e.createBlock(A,{key:2,type:"flex",offset:"x025",gap:"x025",valign:"center"},{default:e.withCtx(()=>[e.createVNode($,{icon:"star"}),N[18]||(N[18]=e.createElementVNode("span",{class:"robo-longline"},"Owner:",-1)),e.createElementVNode("b",null,e.toDisplayString(e.unref(J)(s.value)),1),e.createVNode(Fe,{text:s.value},null,8,["text"])]),_:1})):e.createCommentVNode("",!0),t.show.includes("controller")&&w.value?(e.openBlock(),e.createBlock(A,{key:3,type:"flex",offset:"x025",gap:"x025",valign:"center"},{default:e.withCtx(()=>[e.createVNode($,{icon:"settings"}),N[19]||(N[19]=e.createElementVNode("span",{class:"robo-longline"},"Controller:",-1)),e.createVNode(fe,{modelValue:I.value,"onUpdate:modelValue":N[1]||(N[1]=ee=>I.value=ee),statuscode:x.value,statusmsg:h.value,modellabel:I.value?e.unref(J)(I.value):null,placeholder:c.value.charAt(0).toUpperCase()+c.value.slice(1)+" account",type:"text",width:"fit",view:"line",edit:"",style:{"max-width":"42ch"},onOnEdit:C},null,8,["modelValue","statuscode","statusmsg","modellabel","placeholder"])]),_:1})):e.createCommentVNode("",!0),t.show.includes("controller")&&w.value&&m.value?(e.openBlock(),e.createBlock(A,{key:4,offset:"x025"},{default:e.withCtx(()=>[e.createVNode(Qe,{onOnGenerate:S,beforename:"Controller",detailstype:"initial",labelpassword:"A password for new Controller account *"},{link:e.withCtx(()=>[e.createVNode(A,{type:"flex",gap:"x025",valign:"center"},{default:e.withCtx(()=>[e.createVNode($,{icon:"wand-magic"}),e.createVNode(K,{weight:"bold"},{default:e.withCtx(()=>N[20]||(N[20]=[e.createTextVNode("Generate new account for the Controller")])),_:1})]),_:1})]),description:e.withCtx(()=>N[21]||(N[21]=[e.createTextVNode("Beware: by generating this account you will overwrite existing Controller address in subscription.")])),_:1})]),_:1})):e.createCommentVNode("",!0),t.show.includes("users")&&D.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:5},[D.value.length>0?(e.openBlock(),e.createBlock(Me,{key:0,summarystyle:"link",type:"initial",contentCloseOutOfFocus:!1,block:""},{summary:e.withCtx(()=>[e.createVNode(A,{type:"flex",offset:"x025",gap:"x025",valign:"center"},{default:e.withCtx(()=>[e.createVNode($,{icon:"user"}),N[22]||(N[22]=e.createElementVNode("span",null,"Users:",-1)),e.createElementVNode("b",null,e.toDisplayString(D.value.length)+" accounts added",1)]),_:1})]),default:e.withCtx(()=>[e.createVNode(re,{offset:"x05"},{default:e.withCtx(()=>[E.value?(e.openBlock(),e.createBlock(P,{key:0,type:"warning",offset:"x05",solid:"",timeout:j},{default:e.withCtx(()=>N[23]||(N[23]=[e.createTextVNode("User list has been updated")])),_:1})):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(D.value,(ee,O)=>(e.openBlock(),e.createBlock(We,{key:O,useraddress:ee,onOnUserDelete:t.onUserDelete,isAdmin:m.value},null,8,["useraddress","onOnUserDelete","isAdmin"]))),128)),m.value?(e.openBlock(),e.createBlock(He,{key:1,onOnUserAdd:t.onUserAdd},null,8,["onOnUserAdd"])):e.createCommentVNode("",!0)]),_:1})]),_:1})):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),t.show.includes("userstext")&&D.value?(e.openBlock(),e.createBlock(A,{key:6,type:"flex",offset:"x025",gap:"x025",valign:"center"},{default:e.withCtx(()=>[e.createVNode($,{icon:"user"}),N[24]||(N[24]=e.createElementVNode("span",null,"Users:",-1)),e.createElementVNode("b",null,e.toDisplayString(D.value.length)+" accounts added",1)]),_:1})):e.createCommentVNode("",!0),t.show.includes("backup")&&D.value?(e.openBlock(),e.createBlock(Me,{key:7,summarystyle:"link",type:"initial",contentCloseOutOfFocus:!1,block:""},{summary:e.withCtx(()=>[e.createVNode(A,{type:"flex",offset:"x025",gap:"x025",valign:"center"},{default:e.withCtx(()=>[e.createVNode($,{icon:"download"}),N[25]||(N[25]=e.createElementVNode("b",null,"Subscription backup",-1))]),_:1})]),default:e.withCtx(()=>[e.createVNode(re,{class:"setupbackup",offset:"x05"},{default:e.withCtx(()=>{var ee;return[e.createElementVNode("form",{onSubmit:e.withModifiers(Pe,["prevent"])},[b.value?(e.openBlock(),e.createBlock(A,{key:0,type:"flex",gap:"x05",offset:"x05",galign:"start",valign:"center"},{default:e.withCtx(()=>[e.createVNode(q,{modelValue:Q.value,"onUpdate:modelValue":N[2]||(N[2]=O=>Q.value=O),type:"checkbox",id:"backup-name",name:"backupname"},null,8,["modelValue"]),N[26]||(N[26]=e.createElementVNode("label",{for:"backup-name"},"Name",-1))]),_:1})):e.createCommentVNode("",!0),k.value?(e.openBlock(),e.createBlock(A,{key:1,type:"flex",gap:"x05",offset:"x05",galign:"start",valign:"center"},{default:e.withCtx(()=>[e.createVNode(q,{modelValue:U.value,"onUpdate:modelValue":N[3]||(N[3]=O=>U.value=O),type:"checkbox",id:"backup-owner",name:"backupowner"},null,8,["modelValue"]),N[27]||(N[27]=e.createElementVNode("label",{for:"backup-owner"},"Owner address",-1))]),_:1})):e.createCommentVNode("",!0),f.value?(e.openBlock(),e.createBlock(A,{key:2,type:"flex",gap:"x05",offset:"x05",galign:"start",valign:"center"},{default:e.withCtx(()=>[e.createVNode(q,{modelValue:W.value,"onUpdate:modelValue":N[4]||(N[4]=O=>W.value=O),type:"checkbox",id:"backup-controller",name:"backupcontroller"},null,8,["modelValue"]),N[28]||(N[28]=e.createElementVNode("label",{for:"backup-controller"},"Controller address",-1))]),_:1})):e.createCommentVNode("",!0),((ee=p.value)==null?void 0:ee.length)>0?(e.openBlock(),e.createBlock(A,{key:3,type:"flex",gap:"x05",offset:"x05",galign:"start",valign:"center"},{default:e.withCtx(()=>[e.createVNode(q,{modelValue:R.value,"onUpdate:modelValue":N[5]||(N[5]=O=>R.value=O),type:"checkbox",id:"backup-users",name:"backupusers"},null,8,["modelValue"]),N[29]||(N[29]=e.createElementVNode("label",{for:"backup-users"},"Users' names",-1))]),_:1})):e.createCommentVNode("",!0),e.createVNode(re,{offset:"x1"},{default:e.withCtx(()=>[e.createVNode(K,{weight:"bold",offset:"x025"},{default:e.withCtx(()=>N[30]||(N[30]=[e.createTextVNode("Server only settings:")])),_:1}),g.value?(e.openBlock(),e.createBlock(A,{key:0,type:"flex",gap:"x05",offset:"x05",galign:"start",valign:"center"},{default:e.withCtx(()=>[e.createVNode(q,{modelValue:ke.value,"onUpdate:modelValue":N[6]||(N[6]=O=>ke.value=O),type:"checkbox",id:"backup-controllerkey",name:"backupcontrollerkey"},null,8,["modelValue"]),N[31]||(N[31]=e.createElementVNode("label",{for:"backup-controllerkey"},"Controller key",-1))]),_:1})):e.createCommentVNode("",!0),e.createVNode(A,{type:"flex",gap:"x05",offset:"x05",galign:"start",valign:"center"},{default:e.withCtx(()=>[e.createVNode(q,{modelValue:ne.value,"onUpdate:modelValue":N[7]||(N[7]=O=>ne.value=O),type:"checkbox",id:"backup-messaging",name:"backupmessaging"},null,8,["modelValue"]),N[32]||(N[32]=e.createElementVNode("label",{for:"backup-messaging"},"Messaging interval (in minutes):",-1)),e.createVNode(fe,{modelValue:ue.value,"onUpdate:modelValue":N[8]||(N[8]=O=>ue.value=O),disabled:!ne.value,required:ne.value,placeholder:"10",type:"text",width:"fit",view:"line"},null,8,["modelValue","disabled","required"])]),_:1}),e.createVNode(A,{type:"flex",gap:"x05",offset:"x05",galign:"start",valign:"center"},{default:e.withCtx(()=>[e.createVNode(q,{modelValue:le.value,"onUpdate:modelValue":N[9]||(N[9]=O=>le.value=O),type:"checkbox",id:"backup-ipfs",name:"backupipfs"},null,8,["modelValue"]),N[33]||(N[33]=e.createElementVNode("label",{for:"backup-ipfs"},"IPFS Gateway:",-1)),e.createVNode(fe,{modelValue:de.value,"onUpdate:modelValue":N[10]||(N[10]=O=>de.value=O),disabled:!le.value,required:le.value,placeholder:"http://url:port",type:"text",width:"fit",view:"line"},null,8,["modelValue","disabled","required"])]),_:1}),e.createVNode(A,{gap:"x05",offset:"x05",galign:"start",valign:"center",columns:"1"},{default:e.withCtx(()=>[e.createVNode(A,{type:"flex",gap:"x05",galign:"start",valign:"center"},{default:e.withCtx(()=>[e.createVNode(q,{modelValue:te.value,"onUpdate:modelValue":N[11]||(N[11]=O=>te.value=O),type:"checkbox",id:"backup-pinata",name:"backuppinata"},null,8,["modelValue"]),N[34]||(N[34]=e.createElementVNode("label",null,"Pinata keys:",-1))]),_:1}),e.createVNode(A,{gap:"x05",galign:"start",valign:"center",columns:"1"},{default:e.withCtx(()=>[e.createVNode(Ie,{modelValue:pe.value,"onUpdate:modelValue":N[12]||(N[12]=O=>pe.value=O),disabled:!te.value,required:te.value,placeholder:"Pinata public key"},null,8,["modelValue","disabled","required"]),e.createVNode(Ie,{modelValue:me.value,"onUpdate:modelValue":N[13]||(N[13]=O=>me.value=O),disabled:!te.value,required:te.value,placeholder:"Pinata private key"},null,8,["modelValue","disabled","required"])]),_:1})]),_:1})]),_:1}),e.createVNode(Ve,{block:""},{default:e.withCtx(()=>N[35]||(N[35]=[e.createTextVNode("Download backup")])),_:1})],32)]}),_:1})]),_:1})):e.createCommentVNode("",!0),t.show.includes("link")&&!w.value?(e.openBlock(),e.createBlock(re,{key:8,offset:"x05"},{default:e.withCtx(()=>[e.createVNode(Ve,{title:"Edit subscription",router:e.unref(n).state.robonomicsUIvue.rws.links.setup,size:"small",clean:""},{default:e.withCtx(()=>[e.createVNode($,{icon:"pencil"}),N[36]||(N[36]=e.createTextVNode()),N[37]||(N[37]=e.createElementVNode("span",null,"Go to setup",-1))]),_:1},8,["router"])]),_:1})):e.createCommentVNode("",!0),t.show.includes("remove")?(e.openBlock(),e.createBlock(re,{key:9,offset:"x05"},{default:e.withCtx(()=>[e.createVNode(Je,{onClickApprove:Ge,approvetext:`Remove \xAB${b.value}\xBB subscription setup from the dapp?`,approvebuttontext:"Remove",clean:"",type:"error",size:"small"},{default:e.withCtx(()=>N[38]||(N[38]=[e.createTextVNode(" Remove setup from the dapp ")])),_:1},8,["approvetext"])]),_:1})):e.createCommentVNode("",!0)]),_:1},8,["class"])],64)}}});var _t=L(Nt,[["__scopeId","data-v-457f637e"]]);const ht={name:"RoboRwsSetupActiveSelect"},Mt=Object.assign(ht,{setup(t){const o=Z.useStore(),n=ce.useRouter(),r=e.ref(null),a=e.computed(()=>{const d=o.state.robonomicsUIvue.polkadot.connection.network;return o.state.robonomicsUIvue.rws.list.filter(u=>u.network===d)}),s=e.computed(()=>o.state.robonomicsUIvue.rws.active),l=e.computed(()=>a.value&&a.value.length>0?a.value.map(d=>d.name):null),i=e.computed(()=>a.value&&a.value.length>0?a.value.map(d=>d.owner):null),c=()=>{o.commit("rws/changeActiveSetup",r.value),n.go()};return e.onMounted(()=>{r.value=o.state.robonomicsUIvue.rws.active}),e.watch(a,()=>{r.value=o.state.robonomicsUIvue.rws.active}),e.watch(s,d=>{r.value=d}),(d,u)=>{const m=e.resolveComponent("robo-select"),w=e.resolveComponent("robo-text");return e.openBlock(),e.createElementBlock(e.Fragment,null,[a.value.length>1?(e.openBlock(),e.createBlock(m,{key:0,block:"",options:l.value,values:i.value,modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=g=>r.value=g),onChange:u[1]||(u[1]=g=>c()),class:"selectrws",offset:"x05"},null,8,["options","values","modelValue"])):e.createCommentVNode("",!0),a.value.length===1?(e.openBlock(),e.createBlock(w,{key:1,weight:"bold",title:"5",offset:"x05"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.value[0].name),1)]),_:1})):e.createCommentVNode("",!0)],64)}}});const It={class:"generativeline"},Vt={name:"RoboTemplateRwsSetupForm"},Bt=Object.assign(Vt,{setup(t){const o=Z.useStore(),n=ce.useRouter(),r=e.ref(null),a=e.ref(null),s=e.ref(null),l=()=>{r.value=ge()},i=()=>{if(s.value=null,!Y(a.value)){s.value="Owner address is not valid";return}const c=r.value&&r.value.trim()!==""?r.value.trim():ge(),d={owner:a.value,name:c,network:o.state.robonomicsUIvue.polkadot.connection.network};o.dispatch("rws/addSetup",d).then(u=>{u.success?n.push({path:o.state.robonomicsUIvue.rws.links.setup}):s.value=u.error||"Something went wrong while adding the setup"}).catch(u=>{s.value="Unexpected error: "+u.message,console.error(u)})};return(c,d)=>{const u=e.resolveComponent("robo-polkadot-network-select"),m=e.resolveComponent("robo-input-new"),w=e.resolveComponent("robo-icon"),g=e.resolveComponent("robo-button"),b=e.resolveComponent("robo-status"),k=e.resolveComponent("robo-grid");return e.openBlock(),e.createBlock(k,{gap:"x05",columns:"1"},{default:e.withCtx(()=>[e.createVNode(u,{clean:"",size:"large",icon:""}),e.createElementVNode("div",It,[e.createVNode(m,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=f=>r.value=f),width:"wide",label:"Name of setup (dapp only)",required:""},null,8,["modelValue"]),e.createVNode(g,{clean:"",class:"generativeline-tog",onClick:e.withModifiers(l,["prevent"])},{default:e.withCtx(()=>[e.createVNode(w,{icon:"wand-magic"})]),_:1})]),e.createVNode(m,{modelValue:a.value,"onUpdate:modelValue":d[1]||(d[1]=f=>a.value=f),width:"wide",label:"Owner",required:""},null,8,["modelValue"]),e.createVNode(g,{onClick:e.withModifiers(i,["prevent"]),block:""},{default:e.withCtx(()=>d[2]||(d[2]=[e.createTextVNode("Add setup")])),_:1}),s.value?(e.openBlock(),e.createBlock(b,{key:0,type:"error",solid:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(s.value),1)]),_:1})):e.createCommentVNode("",!0)]),_:1})}}});var St=L(Bt,[["__scopeId","data-v-fa44865c"]]);const Dt={name:"RoboRwsSetupNew"},Tt=Object.assign(Dt,{props:{onSetupGenerate:{type:Function},onRequestSubscription:{type:Function}},setup(t){const o=Z.useStore(),n=ce.useRouter(),r=e.ref(null),a=async s=>{r.value=null;try{const l=await o.dispatch("rws/uploadSetup",s);l.success?n.push(o.state.robonomicsUIvue.rws.links.setup):r.value=l.error||"Something went wrong while uploading"}catch(l){r.value="Unexpected error: "+l.message,console.error(l)}};return(s,l)=>{const i=e.resolveComponent("robo-text"),c=e.resolveComponent("RoboRwsGenerateSetup"),d=e.resolveComponent("robo-section"),u=e.resolveComponent("robo-polkadot-network-select"),m=e.resolveComponent("robo-status"),w=e.resolveComponent("RoboFileUpload"),g=e.resolveComponent("RoboTemplateRwsSetupForm");return e.openBlock(),e.createBlock(d,{width:"narrow"},{default:e.withCtx(()=>[e.createVNode(i,{title:"1"},{default:e.withCtx(()=>l[0]||(l[0]=[e.createTextVNode("Add a setup into dapp")])),_:1}),e.createVNode(d,{offset:"x2"},{default:e.withCtx(()=>[e.createVNode(i,{title:"5",offset:"x025"},{default:e.withCtx(()=>l[1]||(l[1]=[e.createTextVNode("Generate new setup")])),_:1}),e.createVNode(i,{size:"small",offset:"x025"},{default:e.withCtx(()=>l[2]||(l[2]=[e.createTextVNode("Requires owner's sign in the extension, generates new Controller address (don't forget to update Home Assistant settings)")])),_:1}),e.createVNode(d,{offset:"x0",card:""},{default:e.withCtx(()=>[e.createVNode(c,{onOnSetupGenerate:t.onSetupGenerate,onOnRequestSubscription:t.onRequestSubscription},null,8,["onOnSetupGenerate","onOnRequestSubscription"])]),_:1})]),_:1}),e.createVNode(d,{offset:"x2"},{default:e.withCtx(()=>[e.createVNode(i,{title:"5",offset:"x025"},{default:e.withCtx(()=>l[3]||(l[3]=[e.createTextVNode("Upload a setup")])),_:1}),e.createVNode(u,{clean:"",size:"large",icon:""}),r.value?(e.openBlock(),e.createBlock(m,{key:0,type:"error",solid:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(r.value),1)]),_:1})):e.createCommentVNode("",!0),e.createVNode(w,{onloadfunc:a,title:"Upload .json with setup",drop:""})]),_:1}),e.createVNode(d,{offset:"x2"},{default:e.withCtx(()=>[e.createVNode(i,{title:"5",offset:"x025"},{default:e.withCtx(()=>l[4]||(l[4]=[e.createTextVNode("Add setup mannually")])),_:1}),e.createVNode(g)]),_:1})]),_:1})}}});const zt={name:"RoboRwsUser"},jt=Object.assign(zt,{props:{useraddress:{type:String,default:null},isAdmin:{type:Boolean,default:!0}},emits:["onUserDelete"],setup(t,{emit:o}){const n=Z.useStore(),r=t,a=e.ref("init"),s=e.ref(null),l=o,i=e.computed(()=>n.state.robonomicsUIvue.rws.expiredate),c=e.computed(()=>X(i.value)),d=(f,y)=>{f==="ok"?(a.value="removed",s.value=null):(a.value=f,s.value=y!=null?y:null)},u=()=>{if(c.value>0){a.value="error",s.value="Please, renew your subscription first";return}a.value="loading",l("onUserDelete",r.useraddress,(f,y)=>d(f,y))},m=e.ref(""),w=e.computed(()=>n.state.robonomicsUIvue.rws.list),g=e.computed(()=>n.state.robonomicsUIvue.rws.active),b=f=>{n.dispatch("rws/editUserListLabel",{address:r.useraddress,label:m.value}).then(y=>{f(y?"ok":"error")})},k=async()=>{const f=await n.dispatch("rws/findSetupIndex",g.value);if(f>-1){const y=w.value[f];if(y!=null&&y.users){const p=y.users.findIndex(v=>v.address===r.useraddress);p>-1&&(m.value=y.users[p].label)}}};return e.watch(()=>g.value,()=>{k()},{immediate:!0}),(f,y)=>{const p=e.resolveComponent("robo-copy"),v=e.resolveComponent("robo-text"),V=e.resolveComponent("robo-input-new"),_=e.resolveComponent("robo-grid"),I=e.resolveComponent("robo-loader"),x=e.resolveComponent("robo-icon"),h=e.resolveComponent("robo-button-approve"),B=e.resolveComponent("robo-status"),M=e.resolveComponent("robo-section");return t.useraddress&&a.value!=="removed"?(e.openBlock(),e.createBlock(M,{key:0,class:"user",disabled:a.value==="loading"},{default:e.withCtx(()=>[e.createVNode(_,{type:"flex",galign:"stretch",gap:"x1"},{default:e.withCtx(()=>[e.createVNode(_,{type:"flex",gap:"x1"},{default:e.withCtx(()=>[e.createVNode(v,{nowrap:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(J)(t.useraddress))+" ",1),e.createVNode(p,{text:t.useraddress},null,8,["text"])]),_:1}),e.createVNode(V,{modelValue:m.value,"onUpdate:modelValue":y[0]||(y[0]=C=>m.value=C),placeholder:"Label (dapp only)",type:"text",width:"fit",view:"line",edit:"",onOnEdit:b},null,8,["modelValue"])]),_:1}),t.isAdmin?(e.openBlock(),e.createBlock(h,{key:0,onClickApprove:u,approvetext:`Delete account from the subscription? <br/> <span class='robo-longline'>${t.useraddress}</span>`,approvebuttontext:"Remove",clean:"",type:"error",size:"small"},{default:e.withCtx(()=>[a.value==="loading"?(e.openBlock(),e.createBlock(I,{key:0})):(e.openBlock(),e.createBlock(x,{key:1,icon:"trash"}))]),_:1},8,["approvetext"])):e.createCommentVNode("",!0)]),_:1}),a.value==="cancel"||a.value==="error"?(e.openBlock(),e.createBlock(B,{key:0,type:"warning",solid:""},{default:e.withCtx(()=>{var C;return[a.value==="cancel"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode("The removal of the user has been canceled")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString((C=s.value)!=null?C:"Something went wrong during user removing"),1)],64))]}),_:1})):e.createCommentVNode("",!0)]),_:1},8,["disabled"])):e.createCommentVNode("",!0)}}});var Lt=L(jt,[["__scopeId","data-v-5324530c"]]);const At={name:"RoboRwsUserAdd"},Et=Object.assign(At,{emits:["onUserAdd"],setup(t,{emit:o}){const n=Z.useStore(),r=e.ref("init"),a=e.ref(null),s=e.ref(null),l=e.ref(null),i=o,c=e.computed(()=>{var g,b;return(b=(g=n.state.robonomicsUIvue)==null?void 0:g.rws)==null?void 0:b.users}),d=e.computed(()=>n.state.robonomicsUIvue.rws.expiredate),u=e.computed(()=>X(d.value)),m=(g,b)=>{r.value=g!=null?g:"init",a.value=b!=null?b:null},w=()=>{r.value="loading",a.value=null;try{if(u.value>0){r.value="error",a.value="Please, renew your subscription first";return}if(s.value&&s.value!=""&&Y(s.value)){if(s.value=ie.encodeAddress(s.value,32),c.value.includes(s.value)){r.value="error",a.value="This account is already has been added to the subscription";return}i("onUserAdd",s.value,(g,b)=>m(g,b)),e.watch(c,g=>{try{g.includes(s.value)&&n.dispatch("rws/editUserListLabel",{address:s.value,label:l.value}).then(()=>{r.value="init",a.value=null,s.value=null,l.value=null})}catch(b){console.log(b)}})}else r.value="error",a.value="Please, enter valid address for user"}catch(g){console.log(g)}};return e.watch(s,()=>{r.value="init",a.value=null}),(g,b)=>{const k=e.resolveComponent("robo-input-new"),f=e.resolveComponent("robo-grid"),y=e.resolveComponent("robo-loader"),p=e.resolveComponent("robo-icon"),v=e.resolveComponent("robo-button"),V=e.resolveComponent("robo-status"),_=e.resolveComponent("robo-section");return e.openBlock(),e.createBlock(_,{class:"user",disabled:r.value==="loading"},{default:e.withCtx(()=>[e.createVNode(f,{type:"flex",galign:"stretch",gap:"x1"},{default:e.withCtx(()=>[e.createVNode(f,{type:"flex",gap:"x1"},{default:e.withCtx(()=>[e.createVNode(k,{class:"useraddress",modelValue:s.value,"onUpdate:modelValue":b[0]||(b[0]=I=>s.value=I),placeholder:"Account address",type:"text",width:"fit",view:"line"},null,8,["modelValue"]),e.createVNode(k,{modelValue:l.value,"onUpdate:modelValue":b[1]||(b[1]=I=>l.value=I),placeholder:"Label (dapp only)",type:"text",width:"fit",view:"line"},null,8,["modelValue"])]),_:1}),e.createVNode(v,{onClick:w,clean:"",size:"small"},{default:e.withCtx(()=>[r.value==="loading"?(e.openBlock(),e.createBlock(y,{key:0})):(e.openBlock(),e.createBlock(p,{key:1,icon:"plus"}))]),_:1})]),_:1}),r.value==="cancel"||r.value==="error"?(e.openBlock(),e.createBlock(V,{key:0,type:"warning",solid:"",class:"status"},{default:e.withCtx(()=>{var I;return[r.value==="cancel"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode("Adding of the user has been canceled")],64)):e.createCommentVNode("",!0),r.value==="error"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString((I=a.value)!=null?I:"Something went wrong during user adding"),1)],64)):e.createCommentVNode("",!0)]}),_:1})):e.createCommentVNode("",!0)]),_:1},8,["disabled"])}}});var Ut=L(Et,[["__scopeId","data-v-e9eaf48e"]]);function ye(t,o,n,r,a,s,l){const i=window.indexedDB||window.webkitIndexedDB;if(!i)return;let c=null;const d=i.open(t,o);d.addEventListener("error",u=>{console.warn(u)}),d.addEventListener("success",u=>{if(c=u.target.result,c.objectStoreNames.contains(n)){let m=c.transaction(n,r);m.addEventListener("error",g=>{console.warn(g)});const w=m.objectStore(n);a(w)}}),d.addEventListener("upgradeneeded",u=>{c=u.target.result;const m=u.oldVersion,w=u.newVersion||c.version;if(console.log("DB updated from version",m,"to",w),!c.objectStoreNames.contains(n)){let g;try{g=c.createObjectStore(n,{keyPath:s.index,autoIncrement:s.autoIncrement})}catch(b){console.log(b);return}if(l)try{l.forEach(b=>{g.createIndex(b.index,b.index,{unique:b.unique})})}catch(b){console.log(b)}}})}function Ne(t,o,n,r,a){return new Promise(s=>{let l=[];ye(t,o,n,"readonly",i=>{i.openCursor().addEventListener("success",c=>{const d=c.target.result;d?(l.push(d.value),d.continue()):s(l)})},r,a)})}function Te(t){let o=[];return Object.values(t).forEach(n=>{o.push(n)}),Uint8Array.from(o)}async function Ot(t,o,n){const r=window.crypto.subtle||window.crypto.webkitSubtle;if(!r){console.error("Web Crypto API not supported");return}return await r.decrypt({name:"AES-GCM",iv:t},o,n).then(s=>{let i=new TextDecoder().decode(s);return i=JSON.parse(i),i.publicKey=Te(i.publicKey),i.secretKey=Te(i.secretKey),i}).catch(function(s){console.error(s)})}const Rt={class:"robo-dotlabel red"},Zt={name:"RoboRwsUserKeys"},Pt=Object.assign(Zt,{setup(t){const o=Z.useStore(),n=e.ref(null);e.computed(()=>o.state.robonomicsUIvue.rws.user.account),e.computed(()=>o.state.robonomicsUIvue.rws.user.key);const r=a=>{ye("dbrws",1,"dbrwsuser","readwrite",s=>{const l=s.delete(a);l.onsuccess=()=>{const i=new BroadcastChannel("IDBUser");i.postMessage("changed"),i.close()},l.onerror=i=>{i.target.error&&(errormsg.value=i.target.error)}},{index:"user",autoIncrement:!1},[{index:"user",unique:!0}])};return e.onMounted(async()=>{n.value=await Ne("dbrws",1,"dbrwsuser",{index:"user",autoIncrement:!1},[{index:"user",unique:!0}]);const a=new BroadcastChannel("IDBUser");a.onmessage=async s=>{s.data==="changed"&&(n.value=await Ne("dbrws",1,"dbrwsuser",{index:"user",autoIncrement:!1},[{index:"user",unique:!0}]))}}),(a,s)=>{var m;const l=e.resolveComponent("robo-icon"),i=e.resolveComponent("robo-text"),c=e.resolveComponent("robo-button"),d=e.resolveComponent("robo-grid"),u=e.resolveComponent("robo-details");return((m=n.value)==null?void 0:m.length)>0?(e.openBlock(),e.createBlock(u,{key:0},{summary:e.withCtx(()=>{var w;return[e.createVNode(l,{icon:"user"}),e.createElementVNode("span",Rt,e.toDisplayString((w=n.value)==null?void 0:w.length),1)]}),default:e.withCtx(()=>[e.createVNode(i,{title:"5",offset:"x025"},{default:e.withCtx(()=>s[0]||(s[0]=[e.createTextVNode("Locally saved keys")])),_:1}),e.createVNode(i,{size:"small",weight:"normal-italic"},{default:e.withCtx(()=>s[1]||(s[1]=[e.createTextVNode(" These keys are stored locally on your device for accessing datalog. Remove them if you do not trust the device you are using to view this application. ")])),_:1}),e.createVNode(d,{gap:"x025",offset:"x05",divider:"dotted"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,w=>(e.openBlock(),e.createElementBlock("div",{key:w.user,style:{width:"100%"}},[e.createVNode(d,{type:"flex",offset:"x025",galign:"stretch",valign:"center"},{default:e.withCtx(()=>[e.createVNode(i,{weight:"bold"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(J)(w.user)),1)]),_:2},1024),e.createVNode(c,{onClick:e.withModifiers(g=>r(w.user),["prevent"]),clean:"",type:"error"},{default:e.withCtx(()=>[e.createVNode(l,{icon:"xmark"})]),_:2},1032,["onClick"])]),_:2},1024)]))),128))]),_:1})]),_:1})):e.createCommentVNode("",!0)}}});var Gt=L(Pt,[["__scopeId","data-v-4bba36f7"]]);const $t={name:"RoboRwsUserSignin"},Ft=Object.assign($t,{setup(t){const o=Z.useStore(),n=e.computed(()=>o.state.robonomicsUIvue.rws.users),r=e.computed(()=>{if(n.value)return n.value.map(v=>J(v))}),a=e.computed(()=>o.state.robonomicsUIvue.rws.user.key),s="ed25519",l=e.ref(null),i=e.ref(null),c=e.ref(null),d=e.ref(!1),u=e.ref(window.crypto.subtle||window.crypto.webkitSubtle),m=e.ref(!1),w=async v=>{let V=[];V=await Ne("dbrws",1,"dbrwsuser",{index:"user",autoIncrement:!1},[{index:"user",unique:!0}]);const _=V.findIndex(I=>I.user===v);if(_!==-1){const I=await Ot(V[_].iv,V[_].key,V[_].pair);o.commit("rws/setUserKey",I)}else b()},g=()=>{o.commit("rws/removeUser"),m.value=!1},b=()=>{o.commit("rws/setUserKey",null)},k=async()=>{var v;if(((v=n.value)==null?void 0:v.length)<1){g(),m.value=!1;return}if(!u.value||!l.value){b(),m.value=!1;return}if(l.value){if(o.commit("rws/setUser",l.value),!n.value.find(V=>V===l.value)){g(),m.value=!1;return}await w(l.value),m.value=!1;return}},f=async v=>{const V=window.crypto.getRandomValues(new Uint8Array(12)),_=await u.value.generateKey({name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),x=new TextEncoder().encode(JSON.stringify(v)),h=await u.value.encrypt({name:"AES-GCM",iv:V},_,x);return{iv:V,key:_,encryptedPair:h}},y=()=>{const v=new BroadcastChannel("IDBUser");v.postMessage("changed"),v.close()},p=async()=>{if(c.value=null,!l.value||!i.value){c.value="Please, enter user address & pass phrase";return}try{const v=await qe(i.value,s);if(H.encodeAddress(v.publicKey)!==H.encodeAddress(l.value)){c.value="The entered pass phrase does not match the user address";return}if(o.commit("rws/setUser",l.value),o.commit("rws/setUserKey",v),u.value)if(!d.value)ye("dbrws",1,"dbrwsuser","readwrite",_=>{const I=_.delete(l.value);I.onsuccess=()=>{y()}},{index:"user",autoIncrement:!1},[{index:"user",unique:!0}]);else{const{iv:_,key:I,encryptedPair:x}=await f(v);let h={};h.user=l.value,h.iv=_,h.key=I,h.pair=x;try{ye("dbrws",1,"dbrwsuser","readwrite",B=>{const M=B.put(h);M.onsuccess=()=>{y()},M.onerror=C=>{C.target.error&&(c.value=C.target.error)}},{index:"user",autoIncrement:!1},[{index:"user",unique:!0}])}catch(B){console.log(B),c.value=B}}}catch(v){console.log(v),c.value=v;return}};return e.watch(()=>o.state.robonomicsUIvue.rws.user.account,v=>{l.value=v},{immediate:!0}),e.watch(()=>l.value,async v=>{if(m.value=!0,!v){g();return}b(),await k()},{immediate:!0}),e.watch(()=>n.value,()=>{n.value.find(v=>v===l.value)||g()},{immediate:!0}),e.watch(()=>a.value,v=>{v&&(i.value=null)},{immediate:!0}),e.onMounted(async()=>{const v=new BroadcastChannel("IDBUser");v.onmessage=async V=>{V.data==="changed"&&await k()}}),(v,V)=>{var D,E;const _=e.resolveComponent("robo-loader"),I=e.resolveComponent("robo-text"),x=e.resolveComponent("robo-status"),h=e.resolveComponent("robo-icon"),B=e.resolveComponent("robo-button"),M=e.resolveComponent("robo-select"),C=e.resolveComponent("robo-input-new"),S=e.resolveComponent("robo-input"),T=e.resolveComponent("robo-grid");return m.value?(e.openBlock(),e.createBlock(I,{key:0,align:"center"},{default:e.withCtx(()=>[e.createVNode(_,{size:"3"})]),_:1})):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!n.value||((D=n.value)==null?void 0:D.length)<1?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createVNode(x,{type:"warning",offset:"x05"},{default:e.withCtx(()=>V[5]||(V[5]=[e.createTextVNode("No accounts found in the subscription")])),_:1}),e.createVNode(B,{router:e.unref(o).state.robonomicsUIvue.rws.links.setup,size:"small",block:""},{default:e.withCtx(()=>[e.createVNode(h,{icon:"pencil"}),V[6]||(V[6]=e.createElementVNode("span",null,"Got to setup",-1))]),_:1},8,["router"])],64)):e.createCommentVNode("",!0),((E=n.value)==null?void 0:E.length)>0&&!a.value?(e.openBlock(),e.createElementBlock("form",{key:1,onSubmit:e.withModifiers(p,["prevent"]),class:"signin"},[e.createVNode(T,{gap:"x025",columns:"1"},{default:e.withCtx(()=>[e.createVNode(M,{modelValue:l.value,"onUpdate:modelValue":V[0]||(V[0]=j=>l.value=j),onChange:V[1]||(V[1]=j=>c.value=null),options:r.value,values:n.value,label:"Select a user",block:""},null,8,["modelValue","options","values"]),e.createVNode(C,{modelValue:i.value,"onUpdate:modelValue":V[2]||(V[2]=j=>i.value=j),disabled:l.value&&a.value,onInput:V[3]||(V[3]=j=>c.value=null),type:"password",placeholder:"Seed phrase for encryption",label:"Pass phrase",width:"wide"},null,8,["modelValue","disabled"]),l.value&&a.value?(e.openBlock(),e.createBlock(I,{key:0,weight:"bold",size:"small"},{default:e.withCtx(()=>V[7]||(V[7]=[e.createTextVNode("Your key has been already saved locally, you may sign in")])),_:1})):e.createCommentVNode("",!0),u.value?(e.openBlock(),e.createBlock(T,{key:1,type:"flex",galign:"start",gap:"x05",offset:"x1"},{default:e.withCtx(()=>[e.createVNode(S,{type:"checkbox",id:"keepsigned",modelValue:d.value,"onUpdate:modelValue":V[4]||(V[4]=j=>d.value=j)},null,8,["modelValue"]),V[8]||(V[8]=e.createElementVNode("label",{for:"keepsigned"},"Keep me signed in (only for trusted devices)",-1))]),_:1})):e.createCommentVNode("",!0),e.createVNode(B,{block:""},{default:e.withCtx(()=>V[9]||(V[9]=[e.createTextVNode("Sign in")])),_:1}),c.value?(e.openBlock(),e.createBlock(x,{key:2,type:"error",solid:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(c.value),1)]),_:1})):e.createCommentVNode("",!0)]),_:1})],32)):e.createCommentVNode("",!0)],64))}}});var Qt=L(Ft,[["__scopeId","data-v-255f6189"]]);const Wt={name:"RoboSmarthomeDashboard"},Ht=Object.assign(Wt,{props:{config:{type:[Object,String]},datalog:{type:[Object,String]},launchStatus:{type:Array},updateTime:{type:Number,default:null}},setup(t){const o=Z.useStore(),n=e.computed(()=>o.state.robonomicsUIvue.rws.list),r=e.computed(()=>o.state.robonomicsUIvue.rws.users);return(a,s)=>{const l=e.resolveComponent("robo-text"),i=e.resolveComponent("robo-button"),c=e.resolveComponent("robo-section"),d=e.resolveComponent("robo-rws-user-signin"),u=e.resolveComponent("robo-smarthome-controls"),m=e.resolveComponent("robo-smarthome-entities"),w=e.resolveComponent("robo-layout-section");return e.openBlock(),e.createBlock(w,null,{default:e.withCtx(()=>{var g;return[!n.value||((g=n.value)==null?void 0:g.length)<1?(e.openBlock(),e.createBlock(c,{key:0,width:"narrow",gcenter:""},{default:e.withCtx(()=>[e.createVNode(l,{size:"small",weight:"bold",offset:"x05"},{default:e.withCtx(()=>s[0]||(s[0]=[e.createTextVNode("Your smart devices dashboard will appear here")])),_:1}),e.createVNode(i,{router:e.unref(o).state.robonomicsUIvue.rws.links.setupnew},{default:e.withCtx(()=>s[1]||(s[1]=[e.createTextVNode("Add a setup")])),_:1},8,["router"])]),_:1})):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!r.value||r.value.length<1?(e.openBlock(),e.createBlock(c,{key:0,width:"narrow",gcenter:""},{default:e.withCtx(()=>[e.createVNode(l,{size:"small",weight:"bold",offset:"x05"},{default:e.withCtx(()=>s[2]||(s[2]=[e.createTextVNode("No users found in current subscription")])),_:1}),e.createVNode(i,{router:e.unref(o).state.robonomicsUIvue.rws.links.setup},{default:e.withCtx(()=>s[3]||(s[3]=[e.createTextVNode("Edit a setup")])),_:1},8,["router"])]),_:1})):(e.openBlock(),e.createBlock(c,{key:1,width:"narrow"},{default:e.withCtx(()=>[e.createVNode(d)]),_:1})),e.unref(o).state.robonomicsUIvue.rws.user.key?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createVNode(u,{config:t.config,datalog:t.datalog,updateTime:t.updateTime},null,8,["config","datalog","updateTime"]),t.config&&t.datalog?(e.openBlock(),e.createBlock(c,{key:0,offset:"x2"},{default:e.withCtx(()=>[e.createVNode(m,{config:t.config,datalog:t.datalog},null,8,["config","datalog"])]),_:1})):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0)],64))]}),_:1})}}});const Jt={class:"masonry"},Yt={key:0,class:"device-expand"},Xt={class:"masonry"},Kt=Object.assign({name:"RoboSmarthomeEntities"},{__name:"Entities",props:{config:{type:[Object,String]},datalog:{type:[Object,String]}},setup(t){const o=Z.useStore(),n=t,r={lighting:"Lighting",switches:"Switches & Outlets",climate:"Climate & HVAC",security:"Security & Locks",media:"Media & Entertainment",sensors:"Sensors & Detectors",tracking:"Device Tracking",other:"Other Devices",automation:"Automations"},a={lighting:["light"],switches:["switch","outlet","fan","cover"],sensors:["sensor","binary_sensor"],climate:["climate","humidifier","water_heater"],security:["alarm_control_panel","lock","camera"],media:["media_player"],tracking:["device_tracker"],other:["button","number","select","text","update","weather"]},s=["lighting","switches","sensors","climate","security","media","tracking","other"],l=e.ref([]),i=e.ref({}),c=e.ref(3),d=e.computed(()=>n.config.services),u=e.computed(()=>o.state.robonomicsUIvue.rws.devices.view==="category");function m(){var B;const x=((B=n.datalog)==null?void 0:B.entities)||{};i.value=Object.fromEntries(Object.entries(x).filter(([M])=>M.startsWith("automation.")).map(([M,C])=>{var T;const S=(T=C.attributes)!=null&&T.last_triggered?new Date(C.attributes.last_triggered):new Date(0);return[M,{...C,lastUpdated:S}]}));const h=n.datalog.devices||{};return Object.entries(h).map(([M,C])=>{const S={};return C.entities.forEach(T=>{const D=x[T]||{},E=D.history&&D.history.length?new Date(D.history[D.history.length-1].date):new Date(0);S[T]={state:D.state||"Unknown",units:D.units||null,attributes:D.attributes||{},lastUpdated:E}}),{id:M,name:C.name,area_id:C.area_id,manufacturer:C.manufacturer,model:C.model,entities:S}})}function w(){const x=window.innerWidth;x>1200?c.value=4:x>900?c.value=3:x>680?c.value=2:c.value=1}let g;e.watch(()=>n.datalog,x=>{x&&(l.value=m(),w(),window.addEventListener("resize",()=>{clearTimeout(g),g=setTimeout(()=>{w()},300)}))},{immediate:!0}),e.onMounted(()=>{l.value=m(),w()}),e.onUnmounted(()=>{window.removeEventListener("resize",w)});function b(x){const h={};return x.forEach(B=>{const M=Object.keys(B.entities).map(S=>S.split(".")[0]),C=Object.keys(a).filter(S=>a[S].some(T=>M.includes(T)));C.length||C.push("other"),C.forEach(S=>{h[S]||(h[S]=[]),h[S].push(B)})}),h}const k=e.computed(()=>{const x=b(l.value),h=Object.keys(x).sort((M,C)=>{const S=s.indexOf(M),T=s.indexOf(C);return S===-1&&T===-1?M.localeCompare(C):S===-1?1:T===-1?-1:S-T}),B={};return h.forEach(M=>{B[M]=x[M]}),B}),f=e.computed(()=>{const x={};l.value.forEach(B=>{const M=B.area_id||"unknown";x[M]||(x[M]=[]),x[M].push(B)});const h=Object.entries(x).sort(([B],[M])=>B==="unknown"?1:M==="unknown"?-1:B.localeCompare(M));return Object.fromEntries(h)});e.computed(()=>u.value?k.value:f.value);function y(x,h){if(!h)return x;const B=Object.entries(x).filter(([M])=>{var C;return(C=a[h])==null?void 0:C.includes(M.split(".")[0])}).sort(([M],[C])=>{var j,F;const S=M.split(".")[0],T=C.split(".")[0],D=(j=a[h])!=null&&j.includes(S)?-1:1,E=(F=a[h])!=null&&F.includes(T)?-1:1;return D-E});return Object.fromEntries(B)}function p(x,h){return h?Object.fromEntries(Object.entries(x).filter(([B])=>{var C;const M=B.split(".")[0];return!((C=a[h])!=null&&C.includes(M))})):{}}function v(x,h){const B=y(x.entities,h),M=Object.keys(B)[0];if(!M)return{state:"unknown",date:0};const C=B[M];let S=(C.state||"unknown").toLowerCase(),T=0;if(C.history&&C.history.length){const D=C.history[C.history.length-1];S=(D.state||S).toLowerCase(),T=new Date(D.date).getTime()}else C.lastUpdated&&(T=new Date(C.lastUpdated).getTime());return{state:S,date:T}}function V(x,h){return x.slice().sort((B,M)=>{const C=v(B,h),S=v(M,h),T=["unknown","unavailable"].includes(C.state)?1:0,D=["unknown","unavailable"].includes(S.state)?1:0;return T!==D?T-D:C.date!==S.date?S.date-C.date:B.name.localeCompare(M.name)})}function _(x){const h=Object.entries(x).sort(([,B],[,M])=>{var j,F;const C=Q=>Q==="on"?0:["unknown","unavailable"].includes(Q)?2:1,S=C(B.state),T=C(M.state);if(S!==T)return S-T;const D=((j=B==null?void 0:B.lastUpdated)==null?void 0:j.getTime())||0;return(((F=M==null?void 0:M.lastUpdated)==null?void 0:F.getTime())||0)-D});return Object.fromEntries(h)}function I(x,h){const B=Array.from({length:h},()=>[]);return x.forEach((M,C)=>{B[C%h].push(M)}),B}return(x,h)=>{const B=e.resolveComponent("robo-text"),M=e.resolveComponent("robo-smarthome-entity"),C=e.resolveComponent("robo-grid"),S=e.resolveComponent("robo-section"),T=e.resolveComponent("robo-tab"),D=e.resolveComponent("robo-tabs");return u.value?(e.openBlock(),e.createBlock(D,{key:0},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(k.value,(E,j)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:j},[(E==null?void 0:E.length)>0?(e.openBlock(),e.createBlock(T,{key:0,label:r[j]||j,labelnumber:E.length},{default:e.withCtx(()=>[e.createElementVNode("div",Jt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I(V(E,j),c.value),(F,Q)=>(e.openBlock(),e.createElementBlock("div",{key:Q,class:"masonry-column"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(F,U=>(e.openBlock(),e.createElementBlock("div",{key:U.id,class:"masonry-item"},[e.createVNode(S,{card:"",shadow:""},{default:e.withCtx(()=>[e.createVNode(S,null,{default:e.withCtx(()=>[e.createVNode(B,{class:"device-title",title:"5"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(U.name),1)]),_:2},1024),e.createVNode(C,{class:"device-content",columns:1,gap:"x1",offset:"x1"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(y(U.entities,j),(W,R)=>(e.openBlock(),e.createBlock(M,{key:R,entityID:R,entityData:W,services:d.value[R.split(".")[0]]},null,8,["entityID","entityData","services"]))),128))]),_:2},1024)]),_:2},1024),Object.keys(p(U.entities,j)).length?(e.openBlock(),e.createElementBlock("details",Yt,[h[0]||(h[0]=e.createElementVNode("summary",null,"Extended",-1)),e.createVNode(C,{class:"device-content",columns:1,gap:"x1",offset:"x1"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p(U.entities,j),(W,R)=>(e.openBlock(),e.createBlock(M,{key:R,entityID:R,entityData:W,services:d.value[R.split(".")[0]]},null,8,["entityID","entityData","services"]))),128))]),_:2},1024)])):e.createCommentVNode("",!0)]),_:2},1024)]))),128))]))),128))])]),_:2},1032,["label","labelnumber"])):e.createCommentVNode("",!0)],64))),128)),Object.keys(i.value).length?(e.openBlock(),e.createBlock(T,{key:0,label:r.automation,labelnumber:Object.keys(i.value).length},{default:e.withCtx(()=>[e.createVNode(C,{columns:1,gap:"x05"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(_(i.value),(E,j)=>(e.openBlock(),e.createBlock(S,{key:j,card:"",shadow:""},{default:e.withCtx(()=>[e.createVNode(B,{class:e.normalizeClass(["device-title","automation-title-state-"+E.state]),title:"5"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(j),1)]),_:2},1032,["class"]),e.createVNode(B,{class:"device-content",size:"small"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(E),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["label","labelnumber"])):e.createCommentVNode("",!0)]),_:1})):(e.openBlock(),e.createBlock(D,{key:1},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.value,(E,j)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:j},[(E==null?void 0:E.length)>0?(e.openBlock(),e.createBlock(T,{key:0,label:j==="unknown"?"No Area":j,labelnumber:E.length},{default:e.withCtx(()=>[e.createElementVNode("div",Xt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I(V(E,null),c.value),(F,Q)=>(e.openBlock(),e.createElementBlock("div",{key:Q,class:"masonry-column"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(F,U=>(e.openBlock(),e.createElementBlock("div",{key:U.id,class:"masonry-item"},[e.createVNode(S,{card:"",shadow:""},{default:e.withCtx(()=>[e.createVNode(S,null,{default:e.withCtx(()=>[e.createVNode(B,{class:"device-title",title:"5"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(U.name),1)]),_:2},1024),e.createVNode(C,{class:"device-content",columns:1,gap:"x1",offset:"x1"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(y(U.entities,null),(W,R)=>(e.openBlock(),e.createBlock(M,{key:R,entityID:R,entityData:W,services:d.value[R.split(".")[0]]},null,8,["entityID","entityData","services"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]))),128))])]),_:2},1032,["label","labelnumber"])):e.createCommentVNode("",!0)],64))),128))]),_:1}))}}});var qt=L(Kt,[["__scopeId","data-v-12e061aa"]]);const eo={key:0,class:"networkname narrowhidden"},to={key:1,class:"waiting narrowhidden"},oo={class:"narrowhidden"},no={key:2,class:"waiting"},lo={name:"RoboSmarthomeControls"},ro=Object.assign(lo,{props:{config:{type:[Object,String]},datalog:{type:[Object,String]},updateTime:{type:Number,default:null}},setup(t){const o=Z.useStore(),n=t,r=e.computed(()=>o.state.robonomicsUIvue.rws.list),a=e.computed(()=>o.state.robonomicsUIvue.rws.active),s=e.computed(()=>r.value.map(M=>M.owner).indexOf(a.value)),l=e.computed(()=>o.state.robonomicsUIvue.rws.user.account),i=e.computed(()=>o.state.robonomicsUIvue.rws.user.key),c=e.computed(()=>r.value[s.value].controller),d=e.computed(()=>o.state.robonomicsUIvue.rws.expiredate),u=e.computed(()=>{var M;return(M=r.value[s.value])==null?void 0:M.users}),m=e.computed(()=>{if(n.updateTime&&n.config&&n.datalog)return"ok";setTimeout(()=>{if(!n.config||!n.datalog)return"error"},1e4)}),w=e.ref(null),g=e.ref(null),b=e.ref(null),k=e.computed(()=>o.state.robonomicsUIvue.polkadot.connection.connected),f=()=>{o.commit("polkadot/setConnectionNetwork",w.value),o.commit("polkadot/setConnectionType",g.value),o.commit("polkadot/setConnectionConnected",!1),o.commit("polkadot/setConnectionStatus",null),window.location.reload()};e.watch(()=>o.state.robonomicsUIvue.polkadot.connection.type,M=>{g.value=M},{immediate:!0}),e.watch(()=>o.state.robonomicsUIvue.polkadot.connection.status,M=>{b.value=M},{immediate:!0}),e.watch(()=>o.state.robonomicsUIvue.polkadot.connection.network,M=>{w.value=M},{immediate:!0});const y=M=>u==null?void 0:u.value.find(C=>C.address===M),p=()=>{o.commit("rws/removeUser")},v=e.computed(()=>X(d.value)<0&&y(c.value)&&y(l.value)),V=e.ref(!1),_=()=>{V.value=!1,setTimeout(()=>{V.value=!0},5*60*1e3)},I=e.computed(()=>n.updateTime?new Date(n.updateTime).toLocaleString("en-US",{hour12:!1}):null),x=e.ref(Date.now());setInterval(()=>{x.value=Date.now()},6e4);const h=e.computed(()=>{if(!n.updateTime)return"";const M=x.value-n.updateTime,C=Math.floor(M/1e3);if(C<60)return"Just now";const S=Math.floor(C/60);if(S<60)return S===1?"1 minute ago":`${S} minutes ago`;const T=Math.floor(S/60);if(T<24)return T===1?"1 hour ago":`${T} hours ago`;const D=Math.floor(T/24);return D===1?"1 day ago":`${D} days ago`});e.watch(()=>n.datalog,M=>{M||_()},{immediate:!0});const B=e.ref(o.state.robonomicsUIvue.rws.devices.view);return e.watch(()=>B.value,M=>{o.state.robonomicsUIvue.rws.devices.view=M}),(M,C)=>{const S=e.resolveComponent("robo-icon"),T=e.resolveComponent("robo-text"),D=e.resolveComponent("robo-grid"),E=e.resolveComponent("robo-select"),j=e.resolveComponent("robo-button"),F=e.resolveComponent("robo-details"),Q=e.resolveComponent("robo-section");return e.openBlock(),e.createBlock(D,{type:"flex",gap:"x2",galign:"stretch",valign:"center"},{default:e.withCtx(()=>[e.createVNode(D,{type:"flex",gap:"x2"},{default:e.withCtx(()=>[e.createVNode(Q,null,{default:e.withCtx(()=>[e.createVNode(F,{class:"devices-dashboard-details",summarystyle:"link"},{summary:e.withCtx(()=>[e.createVNode(T,{size:"small",class:"dotted",weight:"bold"},{default:e.withCtx(()=>[e.createVNode(D,{type:"flex",gap:"x025"},{default:e.withCtx(()=>[e.createVNode(S,{icon:e.unref(o).state.robonomicsUIvue.polkadot.connection.network,class:e.normalizeClass(k.value?null:"waiting")},null,8,["icon","class"]),k.value&&e.unref(o).state.robonomicsUIvue.polkadot.connection.type?(e.openBlock(),e.createElementBlock("div",eo,[e.createTextVNode(e.toDisplayString(e.unref(o).state.robonomicsUIvue.polkadot.connection.type)+" ",1),e.unref(o).state.robonomicsUIvue.polkadot.connection.status?(e.openBlock(),e.createBlock(T,{key:0,inline:""},{default:e.withCtx(()=>[e.createTextVNode("("+e.toDisplayString(e.unref(o).state.robonomicsUIvue.polkadot.connection.status)+")",1)]),_:1})):e.createCommentVNode("",!0)])):(e.openBlock(),e.createElementBlock("div",to,"Connecting")),k.value?(e.openBlock(),e.createBlock(S,{key:2,icon:"check",color:"var(--robo-color-green)",size:"small"})):e.createCommentVNode("",!0)]),_:1})]),_:1})]),default:e.withCtx(()=>[e.createVNode(D,{columns:1,gap:"x025",offset:"x025"},{default:e.withCtx(()=>[e.createVNode(E,{modelValue:w.value,"onUpdate:modelValue":C[0]||(C[0]=U=>w.value=U),options:["Polkadot","Kusama"],values:["polkadot","kusama"],size:"small",label:"Network",block:""},null,8,["modelValue"]),e.createVNode(E,{modelValue:g.value,"onUpdate:modelValue":C[1]||(C[1]=U=>g.value=U),options:["Libp2p","Parachain"],values:["libp2p","parachain"],size:"small",label:"Connection type",block:""},null,8,["modelValue"]),e.createVNode(j,{size:"small",block:"",onClick:e.withModifiers(f,["prevent"])},{default:e.withCtx(()=>C[5]||(C[5]=[e.createTextVNode("Reconnect")])),_:1})]),_:1})]),_:1})]),_:1}),e.createVNode(Q,null,{default:e.withCtx(()=>[e.createVNode(F,{class:"devices-dashboard-details",summarystyle:"link",popupMinWidth:"350px"},{summary:e.withCtx(()=>[e.createVNode(T,{size:"small",class:"dotted",weight:"bold"},{default:e.withCtx(()=>[e.createVNode(D,{type:"flex",gap:"x025",valign:"center"},{default:e.withCtx(()=>[e.createVNode(S,{icon:"user"}),C[6]||(C[6]=e.createElementVNode("div",{class:"narrowhidden"},"Subscription checks",-1)),e.createVNode(S,{icon:v.value?"check":"ban",color:v.value?"var(--robo-color-green)":"var(--robo-color-red)",size:"small"},null,8,["icon","color"])]),_:1})]),_:1})]),default:e.withCtx(()=>[e.createVNode(D,{columns:1,gap:"x025"},{default:e.withCtx(()=>[e.createVNode(T,{size:"small"},{default:e.withCtx(()=>[C[10]||(C[10]=e.createTextVNode(" Subscription: ")),d.value?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(T,{key:0,highlight:"error",inline:""},{default:e.withCtx(()=>C[7]||(C[7]=[e.createTextVNode("not found")])),_:1})),d.value&&e.unref(X)(d.value)>-1?(e.openBlock(),e.createBlock(T,{key:1,highlight:"warning",inline:""},{default:e.withCtx(()=>C[8]||(C[8]=[e.createTextVNode("expired")])),_:1})):e.createCommentVNode("",!0),d.value&&e.unref(X)(d.value)<0?(e.openBlock(),e.createBlock(T,{key:2,highlight:"ok",inline:""},{default:e.withCtx(()=>C[9]||(C[9]=[e.createTextVNode("active")])),_:1})):e.createCommentVNode("",!0)]),_:1}),c.value?(e.openBlock(),e.createBlock(D,{key:0,type:"flex",gap:"x025",valign:"center"},{default:e.withCtx(()=>[e.createVNode(T,{size:"small"},{default:e.withCtx(()=>[e.createTextVNode("Controller: "+e.toDisplayString(e.unref(J)(c.value)),1)]),_:1}),e.createVNode(S,{icon:y(c.value)?"check":"ban",color:y(c.value)?"var(--robo-color-green)":"var(--robo-color-red)",size:"small"},null,8,["icon","color"]),e.createVNode(j,{router:e.unref(o).state.robonomicsUIvue.rws.links.setup,title:"Go to setups",clean:"",size:"small"},{default:e.withCtx(()=>[e.createVNode(S,{icon:"settings"})]),_:1},8,["router"])]),_:1})):e.createCommentVNode("",!0),l.value&&i.value?(e.openBlock(),e.createBlock(D,{key:1,type:"flex",gap:"x025",valign:"center"},{default:e.withCtx(()=>[e.createVNode(T,{size:"small"},{default:e.withCtx(()=>[e.createTextVNode("User: "+e.toDisplayString(e.unref(J)(l.value)),1)]),_:1}),e.createVNode(S,{icon:y(l.value)?"check":"ban",color:y(l.value)?"var(--robo-color-green)":"var(--robo-color-red)",size:"small"},null,8,["icon","color"]),e.createVNode(j,{onClick:e.withModifiers(p,["prevent"]),title:"Change user",clean:"",size:"small"},{default:e.withCtx(()=>[e.createVNode(S,{icon:"arrow-up-right-from-square"})]),_:1})]),_:1})):e.createCommentVNode("",!0)]),_:1})]),_:1})]),_:1}),e.createVNode(Q,null,{default:e.withCtx(()=>[I.value?(e.openBlock(),e.createBlock(F,{key:0,class:"devices-dashboard-details",summarystyle:"link",popupMinWidth:"350px"},{summary:e.withCtx(()=>[e.createVNode(T,{size:"small",class:"dotted",weight:"bold"},{default:e.withCtx(()=>[e.createVNode(D,{type:"flex",gap:"x025",valign:"center"},{default:e.withCtx(()=>[e.createVNode(S,{icon:"exchange",class:e.normalizeClass((!t.updateTime||!t.config||!t.datalog)&&!V.value?"waiting":null)},null,8,["class"]),e.createElementVNode("div",oo,[t.updateTime&&t.config&&t.datalog?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode("Updated "+e.toDisplayString(h.value),1)],64)):e.createCommentVNode("",!0),t.updateTime&&(!t.config||!t.datalog)&&V.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode("Not updated")],64)):e.createCommentVNode("",!0),(!t.updateTime||!t.config||!t.datalog)&&!V.value?(e.openBlock(),e.createElementBlock("span",no,"Trying to get data")):e.createCommentVNode("",!0)]),m.value==="ok"?(e.openBlock(),e.createBlock(S,{key:0,icon:"check",color:"var(--robo-color-green)",size:"small"})):e.createCommentVNode("",!0),m.value==="error"?(e.openBlock(),e.createBlock(S,{key:1,icon:"warning",color:"var(--robo-color-orange)",size:"small"})):e.createCommentVNode("",!0)]),_:1})]),_:1})]),default:e.withCtx(()=>[e.createVNode(D,{columns:1,gap:"x025"},{default:e.withCtx(()=>[e.createVNode(T,{size:"small"},{default:e.withCtx(()=>[C[11]||(C[11]=e.createTextVNode("Updated: ")),e.createVNode(T,{inline:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(I.value),1)]),_:1})]),_:1}),t.config?(e.openBlock(),e.createBlock(T,{key:0,size:"small"},{default:e.withCtx(()=>[C[12]||(C[12]=e.createTextVNode("Config is ready ")),e.createVNode(j,{onClick:C[2]||(C[2]=e.withModifiers(U=>e.unref(be)(t.config,e.unref(we)("Config "+r.value[s.value].name)),["prevent"])),clean:""},{default:e.withCtx(()=>[e.createVNode(S,{icon:"download",size:"small"})]),_:1})]),_:1})):e.createCommentVNode("",!0),t.config?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(T,{key:1,highlight:"warning"},{default:e.withCtx(()=>C[13]||(C[13]=[e.createTextVNode("Config is missing")])),_:1})),t.datalog?(e.openBlock(),e.createBlock(T,{key:2,size:"small"},{default:e.withCtx(()=>[C[14]||(C[14]=e.createTextVNode("Datalog is ready ")),e.createVNode(j,{onClick:C[3]||(C[3]=e.withModifiers(U=>e.unref(be)(t.datalog,e.unref(we)("Datalog "+r.value[s.value].name)),["prevent"])),clean:""},{default:e.withCtx(()=>[e.createVNode(S,{icon:"download",size:"small"})]),_:1})]),_:1})):e.createCommentVNode("",!0),t.datalog?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(T,{key:3,highlight:"warning"},{default:e.withCtx(()=>C[15]||(C[15]=[e.createTextVNode("Datalog is missing")])),_:1}))]),_:1})]),_:1})):e.createCommentVNode("",!0)]),_:1})]),_:1}),t.datalog?(e.openBlock(),e.createBlock(Q,{key:0},{default:e.withCtx(()=>[e.createVNode(E,{modelValue:B.value,"onUpdate:modelValue":C[4]||(C[4]=U=>B.value=U),options:["Category","Area"],values:["category","area"],size:"small",label:"Sort by"},null,8,["modelValue"])]),_:1})):e.createCommentVNode("",!0)]),_:1})}}});var ao=L(ro,[["__scopeId","data-v-22755dd7"]]);const so={name:"RoboSmarthomeEntity"},io=Object.assign(so,{props:{entityID:{type:String},entityData:{type:Object},services:{type:Object}},setup(t){Z.useStore();const o=n=>"RoboSmarthomeEntityDefault";return(n,r)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o(n.entityType)),{key:n.entityType,entityData:t.entityData,entityID:t.entityID,services:t.services},null,8,["entityData","entityID","services"]))}});function G(t,o){return!t||!o?null:Object.keys(t).includes(o)}const co={class:"robo-entity-default-part"},uo={class:"robo-entity-default-part"},po={key:2},mo=Object.assign({name:"RoboSmarthomeEntityDefault"},{__name:"Default",props:{entityData:{type:Object},entityID:{type:String},services:{type:Object}},emits:["onClose"],setup(t,{emit:o}){const n=Z.useStore(),r=t,a=e.ref("init"),s=e.ref(null),l=e.ref(null),i=e.ref(null),c=e.computed(()=>r.services&&Object.keys(r.services).length>0),d=e.computed(()=>r.entityData.units&&r.entityData.units!=="None"&&r.entityData.state&&r.entityData.state!=="unavailable"&&r.entityData.state!=="unknown"?r.entityData.units:null),u=e.computed(()=>{var y,p;return((y=r.entityData)==null?void 0:y.state)==="unknown"||((p=r.entityData)==null?void 0:p.state)==="unavailable"}),m=()=>!r.entityData||!r.services?null:r.entityID&&r.entityID.startsWith("select.")?"select":G(r.services,"turn_on")&&G(r.services,"turn_off")||G(r.services,"lock")&&G(r.services,"unlock")||G(r.services,"enable")&&G(r.services,"disable")||G(r.services,"open_cover")&&G(r.services,"close_cover")||G(r.services,"activate")&&G(r.services,"deactivate")?"toggle":r.entityID?r.entityID.split(".")[0]:null,w=()=>{if(!r.entityData||!r.services)return null;let y=m();if(y==="select")return"select_option";if(y==="toggle")if(l.value){if(G(r.services,"turn_on"))return"turn_on";if(G(r.services,"lock"))return"lock";if(G(r.services,"enable"))return"enable";if(G(r.services,"open_cover"))return"open_cover";if(G(r.services,"activate"))return"activate"}else{if(G(r.services,"turn_off"))return"turn_off";if(G(r.services,"unlock"))return"unlock";if(G(r.services,"disable"))return"disable";if(G(r.services,"close_cover"))return"close_cover";if(G(r.services,"deactivate"))return"deactivate"}return y},g=e.computed(()=>{var p,v;let y=(v=(p=r.entityData)==null?void 0:p.attributes)==null?void 0:v.options;return y?Array.isArray(y)?y:typeof y=="string"?y.replace(/[\[\]']/g,"").split(",").map(V=>V.trim()):null:null}),b=()=>{if(!r.entityData||!r.services)return null;let y=w(),p=null;y==="select_option"&&(p={option:i.value});const v=r.entityID.split(".")[0];if(v&&y&&r.entityID){const V={platform:v,name:y,params:{entity_id:r.entityID}};p&&(V.params={...V.params,...p}),k(V)}else console.error("Can't create API request. Not enough data.")},k=y=>{a.value="waiting",s.value="Waiting for request complete",n.commit("rws/setLaunch",JSON.stringify({launch:y,tx:{tx_status:"pending"}}))},f=y=>{var v,V,_,I,x,h;const p=JSON.parse(y);((V=(v=p==null?void 0:p.launch)==null?void 0:v.params)==null?void 0:V.entity_id)===r.entityID&&G(r.services,(_=p==null?void 0:p.launch)==null?void 0:_.name)&&(((I=p==null?void 0:p.tx)==null?void 0:I.tx_status)==="success"&&(a.value="ok",s.value="All done!"),((x=p==null?void 0:p.tx)==null?void 0:x.tx_status)==="declined"&&(a.value="warning",s.value="Request was declined"),((h=p==null?void 0:p.tx)==null?void 0:h.tx_status)==="error"&&(a.value="error",s.value="Request was not complete"))};return e.watch(()=>n.state.robonomicsUIvue.rws.launch,y=>{f(y)}),e.watch(()=>r.entityData,()=>{var y,p;l.value=["on","locked","enabled","closed","activated","heat"].includes((y=r.entityData)==null?void 0:y.state.toLowerCase()),i.value=(p=r.entityData)==null?void 0:p.state,a.value="init",s.value=null},{immediate:!0}),(y,p)=>{const v=e.resolveComponent("robo-text"),V=e.resolveComponent("robo-toggle"),_=e.resolveComponent("robo-select"),I=e.resolveComponent("robo-grid");return e.openBlock(),e.createBlock(I,{type:"flex",gap:"x05",offset:"x025",galign:"stretch"},{default:e.withCtx(()=>[e.createElementVNode("div",co,[e.createVNode(v,{size:"small",weight:"bold"},{default:e.withCtx(()=>{var x,h;return[e.createTextVNode(e.toDisplayString(((h=(x=t.entityData)==null?void 0:x.attributes)==null?void 0:h.friendly_name)||"Unnamed Entity"),1)]}),_:1}),c.value&&t.entityData.state?(e.openBlock(),e.createBlock(v,{key:0,size:"small"},{default:e.withCtx(()=>[e.createTextVNode(" State: "+e.toDisplayString(t.entityData.state)+" ",1),d.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(d.value),1)],64)):e.createCommentVNode("",!0)]),_:1})):e.createCommentVNode("",!0)]),e.createElementVNode("div",uo,[c.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[m()==="toggle"?(e.openBlock(),e.createBlock(V,{key:0,modelValue:l.value,"onUpdate:modelValue":p[0]||(p[0]=x=>l.value=x),status:a.value,statusComment:s.value,disabled:u.value,onChange:b},null,8,["modelValue","status","statusComment","disabled"])):m()==="select"&&g.value?(e.openBlock(),e.createBlock(_,{key:1,options:g.value,values:g.value,modelValue:i.value,"onUpdate:modelValue":p[1]||(p[1]=x=>i.value=x),disabled:u.value,size:"small",onChange:b},null,8,["options","values","modelValue","disabled"])):(e.openBlock(),e.createElementBlock("div",po,[e.createTextVNode(e.toDisplayString(m())+" ",1),e.createVNode(v,{size:"tiny"},{default:e.withCtx(()=>p[2]||(p[2]=[e.createTextVNode("Unsupported service")])),_:1})]))],64)):(e.openBlock(),e.createBlock(v,{key:0,size:"small",weight:"bold",nowrap:12},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.entityData.state)+" ",1),d.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(d.value),1)],64)):e.createCommentVNode("",!0)]),_:1}))])]),_:1})}}});var vo=L(mo,[["__scopeId","data-v-832ba248"]]);const fo={name:"RoboAccountPolkadotGenerate"},bo=Object.assign(fo,{props:{beforename:{type:String},aftergenerating:{type:Function},beforegenerating:{type:Function},detailstype:{type:String,default:"popup",validator:function(t){return["tooltip","popup","inital"].indexOf(t)!==-1}},labelpassword:{type:String,default:"Password *"},labelbutton:{type:String,default:"Create"}},emits:["onGenerate"],setup(t,{emit:o}){const n=t,r=o,a=e.ref(""),s=e.ref(""),l=e.ref(""),i=e.ref(null),c=e.ref(null),d=e.ref(null),u=e.computed(()=>d.value?"ok":i.value?"error":"primary"),m=e.computed(()=>d.value?"Created, check downloads":i.value?"Error, not generated":n.labelbutton),w=()=>{if(s.value){n.beforegenerating&&n.beforegenerating();const{mnemonic:b,json:k}=Ee(s.value);a.value=k.address,l.value=b;const f=k.address;n.beforename?c.value=n.beforename+"-"+f:c.value=f,be(k,c.value),r("onGenerate",a.value,k),d.value=!0,c.value=null,n.aftergenerating&&n.aftergenerating()}else i.value=!0},g=()=>{a.value=null,s.value=null,i.value=null,d.value=null};return(b,k)=>{const f=e.resolveComponent("robo-text"),y=e.resolveComponent("robo-input-new"),p=e.resolveComponent("robo-button"),v=e.resolveComponent("robo-section"),V=e.resolveComponent("robo-grid"),_=e.resolveComponent("robo-details");return e.openBlock(),e.createBlock(_,{class:"account-polkadot-generate",block:"",type:t.detailstype,summarystyle:"link",afterCloseDetails:g,contentCloseOutOfFocus:!1},{summary:e.withCtx(()=>[e.renderSlot(b.$slots,"link",{},void 0,!0)]),default:e.withCtx(()=>[e.createVNode(f,{title:"5"},{default:e.withCtx(()=>[e.renderSlot(b.$slots,"title",{},void 0,!0)]),_:3}),e.createVNode(V,{gap:"x05",columns:"1"},{default:e.withCtx(()=>[e.createVNode(f,{size:"small"},{default:e.withCtx(()=>[e.renderSlot(b.$slots,"description",{},void 0,!0)]),_:3}),e.createVNode(y,{width:"wide",label:t.labelpassword,type:"password",modelValue:s.value,"onUpdate:modelValue":k[0]||(k[0]=I=>s.value=I),error:i.value,onClick:k[1]||(k[1]=I=>i.value=!1),placeholder:"Create a password"},null,8,["label","modelValue","error"]),e.createVNode(p,{onClick:k[2]||(k[2]=I=>w()),type:u.value,block:"",disabled:d.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(m.value),1)]),_:1},8,["type","disabled"]),i.value?(e.openBlock(),e.createBlock(f,{key:0,highlight:"error"},{default:e.withCtx(()=>k[3]||(k[3]=[e.createTextVNode("Create password and store it savely")])),_:1})):e.createCommentVNode("",!0),d.value?(e.openBlock(),e.createBlock(v,{key:1,offset:"x1"},{default:e.withCtx(()=>[a.value?(e.openBlock(),e.createBlock(f,{key:0,weight:"bold",size:"small"},{default:e.withCtx(()=>k[4]||(k[4]=[e.createTextVNode("Account generated:")])),_:1})):e.createCommentVNode("",!0),a.value?(e.openBlock(),e.createBlock(f,{key:1,highlight:"ok",weight:"bold",class:"robo-line-clipoverflow",offset:"x05"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.value),1)]),_:1})):e.createCommentVNode("",!0),l.value?(e.openBlock(),e.createBlock(f,{key:2,weight:"bold",size:"small"},{default:e.withCtx(()=>k[5]||(k[5]=[e.createTextVNode("Remember to save the seed:")])),_:1})):e.createCommentVNode("",!0),l.value?(e.openBlock(),e.createBlock(f,{key:3,highlight:"ok",weight:"bold",offset:"x05"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.value),1)]),_:1})):e.createCommentVNode("",!0),e.createVNode(f,{size:"small",weight:"bold",offset:"x05"},{default:e.withCtx(()=>[e.renderSlot(b.$slots,"successmsg",{},void 0,!0)]),_:3})]),_:3})):e.createCommentVNode("",!0)]),_:3})]),_:3},8,["type"])}}});var go=L(bo,[["__scopeId","data-v-0d6a879f"]]),Ue="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9ItCh0LvQvtC5XzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNDUgMTQ1IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNDUgMTQ1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6dXJsKCNTVkdJRF8xXyk7fQoJLnN0MXtmaWxsOiNGRkZGRkY7fQo8L3N0eWxlPgo8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzFfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjE0MS43MDYiIHkxPSIzMTQuMDgxMyIgeDI9IjMuNDA0IiB5Mj0iNDQuOTEzIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDAgMjUxLjg5KSI+Cgk8c3RvcCAgb2Zmc2V0PSIwLjIwNTgiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDAwMDAiLz4KCTxzdG9wICBvZmZzZXQ9IjAuMzY5OCIgc3R5bGU9InN0b3AtY29sb3I6IzU0MUU3RSIvPgoJPHN0b3AgIG9mZnNldD0iMC40NzE0IiBzdHlsZT0ic3RvcC1jb2xvcjojM0Y1MUQxIi8+Cgk8c3RvcCAgb2Zmc2V0PSIwLjYwOTEiIHN0eWxlPSJzdG9wLWNvbG9yOiM3M0FGRTMiLz4KCTxzdG9wICBvZmZzZXQ9IjAuODAxMSIgc3R5bGU9InN0b3AtY29sb3I6IzkwRDdGRiIvPgo8L2xpbmVhckdyYWRpZW50Pgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMCw0MEMwLDE3LjksMTcuOSwwLDQwLDBoNjVjMjIuMSwwLDQwLDE3LjksNDAsNDB2NjVjMCwyMi4xLTE3LjksNDAtNDAsNDBINDBjLTIyLjEsMC00MC0xNy45LTQwLTQwVjQweiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNNzEuNSwyNC42YzAuMi0xLjEsMS44LTEuMSwyLDBsNS44LDMzYzAuNyw0LjEsNCw3LjQsOC4xLDguMWwzMyw1LjhjMS4xLDAuMiwxLjEsMS44LDAsMmwtMzMsNS44CgljLTQuMSwwLjctNy40LDQtOC4xLDguMWwtNS44LDMzYy0wLjIsMS4xLTEuOCwxLjEtMiwwbC01LjgtMzNjLTAuNy00LjEtNC03LjQtOC4xLTguMWwtMzMtNS44Yy0xLjEtMC4yLTEuMS0xLjgsMC0ybDMzLTUuOAoJYzQuMS0wLjcsNy40LTQsOC4xLTguMUw3MS41LDI0LjZ6Ii8+Cjwvc3ZnPgo=",Oe="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjE1IDE1IDE0MCAxNDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE3MCAxNzA7em9vbTogMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+LmJnMHtmaWxsOiNGRjhDMDB9IC5zdDB7ZmlsbDojRkZGRkZGfTwvc3R5bGU+PGc+PGNpcmNsZSBjbGFzcz0iYmcwIiBjeD0iODUiIGN5PSI4NSIgcj0iNzAiPjwvY2lyY2xlPjxnPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04NSwzNC43Yy0yMC44LDAtMzcuOCwxNi45LTM3LjgsMzcuOGMwLDQuMiwwLjcsOC4zLDIsMTIuM2MwLjksMi43LDMuOSw0LjIsNi43LDMuM2MyLjctMC45LDQuMi0zLjksMy4zLTYuNyBjLTEuMS0zLjEtMS42LTYuNC0xLjUtOS43QzU4LjEsNTcuNiw2OS41LDQ2LDgzLjYsNDUuM2MxNS43LTAuOCwyOC43LDExLjcsMjguNywyNy4yYzAsMTQuNS0xMS40LDI2LjQtMjUuNywyNy4yIGMwLDAtNS4zLDAuMy03LjksMC43Yy0xLjMsMC4yLTIuMywwLjQtMywwLjVjLTAuMywwLjEtMC42LTAuMi0wLjUtMC41bDAuOS00LjRMODEsNzMuNGMwLjYtMi44LTEuMi01LjYtNC02LjIgYy0yLjgtMC42LTUuNiwxLjItNi4yLDRjMCwwLTExLjgsNTUtMTEuOSw1NS42Yy0wLjYsMi44LDEuMiw1LjYsNCw2LjJjMi44LDAuNiw1LjYtMS4yLDYuMi00YzAuMS0wLjYsMS43LTcuOSwxLjctNy45IGMxLjItNS42LDUuOC05LjcsMTEuMi0xMC40YzEuMi0wLjIsNS45LTAuNSw1LjktMC41YzE5LjUtMS41LDM0LjktMTcuOCwzNC45LTM3LjdDMTIyLjgsNTEuNiwxMDUuOCwzNC43LDg1LDM0Ljd6IE04Ny43LDEyMS43IGMtMy40LTAuNy02LjgsMS40LTcuNSw0LjljLTAuNywzLjQsMS40LDYuOCw0LjksNy41YzMuNCwwLjcsNi44LTEuNCw3LjUtNC45QzkzLjMsMTI1LjcsOTEuMiwxMjIuNCw4Ny43LDEyMS43eiI+PC9wYXRoPjwvZz48L2c+PC9zdmc+Cg==",Re="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9ItCh0LvQvtC5XzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMzQgMTM0IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMzQgMTM0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0M0QzRDNDtmaWx0ZXI6dXJsKCNBZG9iZV9PcGFjaXR5TWFza0ZpbHRlcik7fQoJLnN0MXttYXNrOnVybCgjbWFzazBfNjk5XzUxMDFfMDAwMDAwMjk3Mzk2MzU2NDI3OTYxNTQyMDAwMDAwMTE5NzU5NzE0MjU4NTcyNzY4MTlfKTt9Cgkuc3Qye2ZpbGw6dXJsKCNTVkdJRF8xXyk7fQoJLnN0M3tmaWxsOnVybCgjU1ZHSURfMDAwMDAxNTAwNzA5MDkyMDI5NDExNzQxNTAwMDAwMTQzNDY0MTQ4NzQyMTY0OTMyMTFfKTt9Cgkuc3Q0e2ZpbGw6dXJsKCNTVkdJRF8wMDAwMDAyMDM5NzUwMjkzNTU3MDMwNDIxMDAwMDAwNzY1OTMyNTg2NzQ0MTAwOTAzMV8pO30KCS5zdDV7ZmlsbDp1cmwoI1NWR0lEXzAwMDAwMTI3NzQyODgzNzM5MTgyMjU0MTAwMDAwMDA3MDk2ODU0MTczMjQ5NDExMjQ5Xyk7fQoJLnN0NntmaWxsOnVybCgjU1ZHSURfMDAwMDAxMTkwOTcwNzg5Mjc2ODE3ODMyMzAwMDAwMTA4NzU5NjY3NDk4OTY0ODU1NjFfKTt9Cgkuc3Q3e2ZpbGw6dXJsKCNTVkdJRF8wMDAwMDE1NTg2OTIzMjg3MjUwMjI5NDAyMDAwMDAxNjA3NzI1NjcxNzc5MzA2OTQ0M18pO30KCS5zdDh7ZmlsbDp1cmwoI1NWR0lEXzAwMDAwMDcwODEyMzkxMzM0ODkyOTQwMzYwMDAwMDEwODQwNTY5NzM2MDYwMTE2OTExXyk7fQoJLnN0OXtmaWxsOnVybCgjU1ZHSURfMDAwMDAwMDU5NzU4MzIxMTg5MzcyMDAzMTAwMDAwMTEyNzcyODIzNzE4NDk1NzE3NjBfKTt9Cjwvc3R5bGU+CjxkZWZzPgoJPGZpbHRlciBpZD0iQWRvYmVfT3BhY2l0eU1hc2tGaWx0ZXIiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iMjQuOCIgeT0iMCIgd2lkdGg9Ijg4LjUiIGhlaWdodD0iMTM0Ij4KCQk8ZmVDb2xvck1hdHJpeCAgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjEgMCAwIDAgMCAgMCAxIDAgMCAwICAwIDAgMSAwIDAgIDAgMCAwIDEgMCIvPgoJPC9maWx0ZXI+CjwvZGVmcz4KPG1hc2sgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iMjQuOCIgeT0iMCIgd2lkdGg9Ijg4LjUiIGhlaWdodD0iMTM0IiBpZD0ibWFzazBfNjk5XzUxMDFfMDAwMDAwMjk3Mzk2MzU2NDI3OTYxNTQyMDAwMDAwMTE5NzU5NzE0MjU4NTcyNzY4MTlfIj4KCTxyZWN0IHg9Ii01LjciIHk9Ii05IiBjbGFzcz0ic3QwIiB3aWR0aD0iMTUwLjgiIGhlaWdodD0iMTUwLjgiLz4KPC9tYXNrPgo8ZyBjbGFzcz0ic3QxIj4KCQoJCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iNy43MTEiIHkxPSI4NS44NjEyIiB4Mj0iMTI4LjYyNyIgeTI9Ijg1Ljg2MTIiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMCAxMzMuODkpIj4KCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRkZENEIyIi8+CgkJPHN0b3AgIG9mZnNldD0iMC4zNiIgc3R5bGU9InN0b3AtY29sb3I6IzlBQ0VCNyIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNjciIHN0eWxlPSJzdG9wLWNvbG9yOiM0N0M4QkIiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjg5IiBzdHlsZT0ic3RvcC1jb2xvcjojMTRDNUJFIi8+CgkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzAwQzRCRiIvPgoJPC9saW5lYXJHcmFkaWVudD4KCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik05My4zLDYzLjRsMC0xOC42TDI0LjgsOS4zdjU0LjFsNDMuOCwyMy40bDE2LTcuMUwzNi40LDU0LjFsMC0yMC41TDkzLjMsNjMuNHoiLz4KCQoJCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMDAwMDAxMDgyNzk2MTYxMjQ1MDYwMjEwNzAwMDAwMTQ1OTk5MDM5NDQ2NTgwOTI5NjlfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjQzLjkxMjMiIHkxPSI3Mi4xNDkiIHgyPSI0My45MTIzIiB5Mj0iMTE4Ljk5MzMiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMCAxMzMuODkpIj4KCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojMDBGRUNGIi8+CgkJPHN0b3AgIG9mZnNldD0iOC4wMDAwMDBlLTAyIiBzdHlsZT0ic3RvcC1jb2xvcjojMDBFNUQwIi8+CgkJPHN0b3AgIG9mZnNldD0iMC4yNCIgc3R5bGU9InN0b3AtY29sb3I6IzAwQTVEMSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNDgiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDQwRDQiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjU0IiBzdHlsZT0ic3RvcC1jb2xvcjojMDAyNUQ1Ii8+CgkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6IzAwMDAwMCIvPgoJPC9saW5lYXJHcmFkaWVudD4KCTxwYXRoIHN0eWxlPSJmaWxsOnVybCgjU1ZHSURfMDAwMDAxMDgyNzk2MTYxMjQ1MDYwMjEwNzAwMDAwMTQ1OTk5MDM5NDQ2NTgwOTI5NjlfKTsiIGQ9Ik01MS40LDQxLjV2Ni40bC0xNSw2LjRsMC4xLTIwLjkKCQlMNTEuNCw0MS41eiIvPgoJCgkJPGxpbmVhckdyYWRpZW50IGlkPSJTVkdJRF8wMDAwMDEyNjMxNjA4NzQ3NDUwNjI4MTc0MDAwMDAxNTE5MjAxOTIyMzQ3NjY5MjQwOF8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMzYuNDQ3IiB5MT0iNTYuMzkwNSIgeDI9IjE1OS41ODg1IiB5Mj0iNTYuMzkwNSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAtMSAwIDEzMy44OSkiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGREVDOUYiLz4KCQk8c3RvcCAgb2Zmc2V0PSI4LjAwMDAwMGUtMDIiIHN0eWxlPSJzdG9wLWNvbG9yOiNFNEQ4QTQiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjI0IiBzdHlsZT0ic3RvcC1jb2xvcjojQTRBNkIyIi8+CgkJPHN0b3AgIG9mZnNldD0iMC40NyIgc3R5bGU9InN0b3AtY29sb3I6IzNGNTdDOCIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNjEiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDI1RDUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojMDAwMDAwIi8+Cgk8L2xpbmVhckdyYWRpZW50PgoJPHBhdGggc3R5bGU9ImZpbGw6dXJsKCNTVkdJRF8wMDAwMDEyNjMxNjA4NzQ3NDUwNjI4MTc0MDAwMDAxNTE5MjAxOTIyMzQ3NjY5MjQwOF8pOyIgZD0iTTUxLjUsOTQuM2wzMy4yLTE0LjZMMzYuNCw1NC4zbDE0LjktNi40CgkJbDYyLDMyLjRsLTYxLjcsMjYuOUw1MS41LDk0LjN6Ii8+CgkKCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzAwMDAwMTE2MjI0NDQ1MTM0MjM0NjkzMDMwMDAwMDAzNzAwNjI1MzUzMDEzNTkxNjg0XyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIxMS4yNjUyIiB5MT0iMjYuNzc2NCIgeDI9IjE2OC43MjMyIiB5Mj0iMjYuNzc2NCIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAtMSAwIDEzMy44OSkiPgoJCTxzdG9wICBvZmZzZXQ9IjUuMDAwMDAwZS0wMiIgc3R5bGU9InN0b3AtY29sb3I6IzYyQTVGRiIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNDUiIHN0eWxlPSJzdG9wLWNvbG9yOiMxMDMyRDEiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojMDAwMDAwIi8+Cgk8L2xpbmVhckdyYWRpZW50PgoJPHBhdGggc3R5bGU9ImZpbGw6dXJsKCNTVkdJRF8wMDAwMDExNjIyNDQ0NTEzNDIzNDY5MzAzMDAwMDAwMzcwMDYyNTM1MzAxMzU5MTY4NF8pOyIgZD0iTTM2LjUsOTBsMTQuOC02LjRsMC4zLDIzLjVsNjEuNy0yNi45CgkJdjIwLjFMMzYuNCwxMzRMMzYuNSw5MHoiLz4KCQoJCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMDAwMDAxMjE5NzUzNjA2NDExMzk5NzM5ODAwMDAwMDk3Mzg1NjM4MDk4MTg4MTk1MDdfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9Ijc0Ny4zNzE4IiB5MT0iMTUuNjY3NyIgeDI9IjkzNy41NTk2IiB5Mj0iMTMuMjAzNSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAtMSAwIDEzMy44OSkiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiNGRkQ0QjIiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjM2IiBzdHlsZT0ic3RvcC1jb2xvcjojOUFDRUI3Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC42NyIgc3R5bGU9InN0b3AtY29sb3I6IzQ3QzhCQiIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuODkiIHN0eWxlPSJzdG9wLWNvbG9yOiMxNEM1QkUiLz4KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojMDBDNEJGIi8+Cgk8L2xpbmVhckdyYWRpZW50PgoJPHBhdGggc3R5bGU9ImZpbGw6dXJsKCNTVkdJRF8wMDAwMDEyMTk3NTM2MDY0MTEzOTk3Mzk4MDAwMDAwOTczODU2MzgwOTgxODgxOTUwN18pOyIgZD0iTTI0LjgsODMuOUwzNi40LDkwbC0wLjEsNDMuOWwtMTEuNS01LjgKCQlWODMuOXoiLz4KCQoJCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMDAwMDAwNzMwMDAyODUxMzY1OTcxNzIzMDAwMDAwMDU3ODQyMzEyNjI3NDI2MjkyNzNfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIxLjk5NzciIHkxPSI1MC4xODA0IiB4Mj0iNzUuOTg1MiIgeTI9IjUwLjE4MDQiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMCAxMzMuODkpIj4KCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojMDBGRUNGIi8+CgkJPHN0b3AgIG9mZnNldD0iOC4wMDAwMDBlLTAyIiBzdHlsZT0ic3RvcC1jb2xvcjojMDBFNUQwIi8+CgkJPHN0b3AgIG9mZnNldD0iMC4yNSIgc3R5bGU9InN0b3AtY29sb3I6IzAwQTVEMSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNDkiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDQwRDQiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjU2IiBzdHlsZT0ic3RvcC1jb2xvcjojMDAyNUQ1Ii8+Cgk8L2xpbmVhckdyYWRpZW50PgoJPHBhdGggc3R5bGU9ImZpbGw6dXJsKCNTVkdJRF8wMDAwMDA3MzAwMDI4NTEzNjU5NzE3MjMwMDAwMDAwNTc4NDIzMTI2Mjc0MjYyOTI3M18pOyIgZD0iTTM5LjUsNzcuNGwxMS44LDYuMkwzNi40LDkwbC0xMS42LTYuMQoJCUwzOS41LDc3LjR6Ii8+CgkKCQk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzAwMDAwMTE4Mzg0MjUzNzA3NTE1NDQwNDgwMDAwMDA2MzI4NjE0NjE1NDk3OTA2NjE4XyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI3NC4xNTU2IiB5MT0iODMuNjkxNyIgeDI9IjIwNy4wNDI5IiB5Mj0iODYuMDk2NyIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAtMSAwIDEzMy44OSkiPgoJCTxzdG9wICBvZmZzZXQ9IjAiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMEZFQ0YiLz4KCQk8c3RvcCAgb2Zmc2V0PSI1LjAwMDAwMGUtMDIiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMEU1RDAiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjE1IiBzdHlsZT0ic3RvcC1jb2xvcjojMDBBNUQxIi8+CgkJPHN0b3AgIG9mZnNldD0iMC4yOSIgc3R5bGU9InN0b3AtY29sb3I6IzAwNDBENCIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuMzMiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDI1RDUiLz4KCTwvbGluZWFyR3JhZGllbnQ+Cgk8cGF0aCBzdHlsZT0iZmlsbDp1cmwoI1NWR0lEXzAwMDAwMTE4Mzg0MjUzNzA3NTE1NDQwNDgwMDAwMDA2MzI4NjE0NjE1NDk3OTA2NjE4Xyk7IiBkPSJNMTEzLjMsNTQuN2wtMC4xLTE4LjhsLTE5LjksOC44djE4LjcKCQlMMTEzLjMsNTQuN3oiLz4KCQoJCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMDAwMDAwNDkxOTIxOTYzODk5OTk1MDE3NDAwMDAwMTgwMjMyMTQ0MTM1OTE0MTc3NjRfIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjI0LjgzMzQiIHkxPSIxMTEuNTE3OCIgeDI9IjE4OS42ODYxIiB5Mj0iMTExLjUxNzgiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMCAxMzMuODkpIj4KCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojRkZENEFGIi8+CgkJPHN0b3AgIG9mZnNldD0iMC4xIiBzdHlsZT0ic3RvcC1jb2xvcjojRTZENUJBIi8+CgkJPHN0b3AgIG9mZnNldD0iMC4zMSIgc3R5bGU9InN0b3AtY29sb3I6I0E3RDZENSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNjEiIHN0eWxlPSJzdG9wLWNvbG9yOiM0M0Q5RkYiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjYzIiBzdHlsZT0ic3RvcC1jb2xvcjojMzdCMUQwIi8+CgkJPHN0b3AgIG9mZnNldD0iMC42NSIgc3R5bGU9InN0b3AtY29sb3I6IzJCOENBNSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNjciIHN0eWxlPSJzdG9wLWNvbG9yOiMyMTZCN0QiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjciIHN0eWxlPSJzdG9wLWNvbG9yOiMxODRFNUIiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjcyIiBzdHlsZT0ic3RvcC1jb2xvcjojMTAzNTNGIi8+CgkJPHN0b3AgIG9mZnNldD0iMC43NSIgc3R5bGU9InN0b3AtY29sb3I6IzBBMjIyOCIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNzgiIHN0eWxlPSJzdG9wLWNvbG9yOiMwNjEzMTYiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjgyIiBzdHlsZT0ic3RvcC1jb2xvcjojMDIwODA5Ii8+CgkJPHN0b3AgIG9mZnNldD0iMC44OCIgc3R5bGU9InN0b3AtY29sb3I6IzAxMDIwMiIvPgoJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiMwMDAwMDAiLz4KCTwvbGluZWFyR3JhZGllbnQ+Cgk8cGF0aCBzdHlsZT0iZmlsbDp1cmwoI1NWR0lEXzAwMDAwMDQ5MTkyMTk2Mzg5OTk5NTAxNzQwMDAwMDE4MDIzMjE0NDEzNTkxNDE3NzY0Xyk7IiBkPSJNMjQuOCw5LjNMNDUsMGw2OC4zLDM1LjlsLTIwLDguOAoJCUwyNC44LDkuM3oiLz4KPC9nPgo8L3N2Zz4K",Ze="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9ItCh0LvQvtC5XzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNDAgMTQwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNDAgMTQwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0Q1RkY1Qzt9Cgkuc3Qxe2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6I0ZENDg0ODt9Cgkuc3Qye2ZpbGw6bm9uZTtzdHJva2U6I0ZENDg0ODtzdHJva2Utd2lkdGg6MC4yNjU4O30KCS5zdDN7ZmlsbDojMTYyQkVCO3N0cm9rZTojRkQ0ODQ4O3N0cm9rZS13aWR0aDowLjI2NTg7fQoJLnN0NHtmaWxsOiNGRDQ4NDg7fQoJLnN0NXtmaWxsOiNGRkZGRkY7ZmlsdGVyOnVybCgjQWRvYmVfT3BhY2l0eU1hc2tGaWx0ZXIpO30KCQoJCS5zdDZ7bWFzazp1cmwoI3BhdGgtMTAtaW5zaWRlLTFfNDY4NF8xNzAzNF8wMDAwMDAxMzE4NDU5NDYxNzI4MDQwNDIxMDAwMDAxMzQ2MTE3MzE0NjQ0Mjc4OTMwMV8pO2ZpbGw6bm9uZTtzdHJva2U6I0Q1RkY1QztzdHJva2Utd2lkdGg6MC41MzE3O30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIzLjMsMGg5My4zQzEyOS42LDAsMTQwLDEwLjQsMTQwLDIzLjN2OTMuM2MwLDEyLjktMTAuNCwyMy4zLTIzLjMsMjMuM0gyMy4zQzEwLjQsMTQwLDAsMTI5LjYsMCwxMTYuN1YyMy4zCglDMCwxMC40LDEwLjQsMCwyMy4zLDB6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik05Ni41LDc1LjNjMC45LDEuOSwzLjUsMi42LDUsMS4xbDIuOC0yLjhjMi44LTIuOCw3LjUtMi44LDEwLjMsMGMyLjgsMi44LDIuOCw3LjUsMCwxMC4zbC0yMi4zLDIyLjMKCWMtNS40LDYuMy0xMy40LDEwLjQtMjIuMywxMC40Yy05LjMsMC0xNy43LTQuNC0yMy0xMS4yTDI1LjUsODRjLTIuOC0yLjgtMi44LTcuNSwwLTEwLjNjMi44LTIuOCw3LjUtMi44LDEwLjMsMGwyLjcsMi43CgljMS41LDEuNSw0LDAuOCw0LjktMS4xbDAsMGMwLjItMC40LDAuMy0wLjgsMC4zLTEuMmwwLTMzLjNjMC00LDMuMy03LjMsNy4zLTcuM2M0LDAsNy4zLDMuMyw3LjMsNy4zdjE2LjhjMCwxLjUsMS41LDIuNCwyLjksMmwwLDAKCWMwLjktMC4zLDEuNS0xLjEsMS41LTJWMzAuNmMwLTQsMy4zLTcuMyw3LjMtNy4zYzQsMCw3LjMsMy4zLDcuMyw3LjN2MjcuMWMwLDAuOSwwLjYsMS43LDEuNSwybDAsMGMxLjQsMC40LDIuOS0wLjUsMi45LTJWNDAuOAoJYzAtNCwzLjMtNy4zLDcuMy03LjNjNCwwLDcuMywzLjMsNy4zLDcuM3YzMy4zQzk2LjIsNzQuNiw5Ni4zLDc1LDk2LjUsNzUuM0w5Ni41LDc1LjN6Ii8+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik05My4zLDkwLjRjMCwwLTEwLjUsMTQuNi0yMy4zLDE0LjZDNTcsMTA1LDQ2LjYsOTAuNCw0Ni42LDkwLjRTNTcsNzUuOCw2OS45LDc1LjgKCUM4Mi44LDc1LjgsOTMuMyw5MC40LDkzLjMsOTAuNHoiLz4KPHBhdGggY2xhc3M9InN0MiIgZD0iTTgwLjgsOTAuNGMwLDYtNC45LDEwLjktMTAuOSwxMC45Yy02LDAtMTAuOS00LjktMTAuOS0xMC45czQuOS0xMC45LDEwLjktMTAuOUM3NS45LDc5LjUsODAuOCw4NC40LDgwLjgsOTAuNHoKCSIvPgo8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNzYuNCw5MC40YzAsMy42LTIuOSw2LjUtNi41LDYuNWMtMy42LDAtNi41LTIuOS02LjUtNi41YzAtMy42LDIuOS02LjUsNi41LTYuNUM3My41LDgzLjksNzYuNCw4Ni44LDc2LjQsOTAuNAoJeiIvPgo8cGF0aCBjbGFzcz0ic3QyIiBkPSJNODUuMiw5MC40YzAsOC40LTYuOCwxNS4zLTE1LjMsMTUuM3MtMTUuMy02LjgtMTUuMy0xNS4zczYuOC0xNS4zLDE1LjMtMTUuM1M4NS4yLDgyLDg1LjIsOTAuNHoiLz4KPHBhdGggY2xhc3M9InN0MiIgZD0iTTg5LjYsOTAuNGMwLDEwLjgtOC44LDE5LjYtMTkuNywxOS42Yy0xMC45LDAtMTkuNy04LjgtMTkuNy0xOS42czguOC0xOS42LDE5LjctMTkuNgoJQzgwLjgsNzAuOCw4OS42LDc5LjYsODkuNiw5MC40eiIvPgo8cGF0aCBjbGFzcz0ic3QzIiBkPSJNNzIuMSw5MC40YzAsMS4yLTEsMi4xLTIuMSwyLjFjLTEuMiwwLTIuMS0xLTIuMS0yLjFjMC0xLjIsMS0yLjEsMi4xLTIuMUM3MS4xLDg4LjMsNzIuMSw4OS4yLDcyLjEsOTAuNHoiLz4KPGVsbGlwc2UgY2xhc3M9InN0NCIgY3g9IjY5LjkiIGN5PSI5MC40IiByeD0iMi45IiByeT0iMi45Ii8+CjxkZWZzPgoJPGZpbHRlciBpZD0iQWRvYmVfT3BhY2l0eU1hc2tGaWx0ZXIiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iNDYuMyIgeT0iNzUuNiIgd2lkdGg9IjQ3LjMiIGhlaWdodD0iMjkuNyI+CgkJPGZlQ29sb3JNYXRyaXggIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIxIDAgMCAwIDAgIDAgMSAwIDAgMCAgMCAwIDEgMCAwICAwIDAgMCAxIDAiLz4KCTwvZmlsdGVyPgo8L2RlZnM+CjxtYXNrIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjQ2LjMiIHk9Ijc1LjYiIHdpZHRoPSI0Ny4zIiBoZWlnaHQ9IjI5LjciIGlkPSJwYXRoLTEwLWluc2lkZS0xXzQ2ODRfMTcwMzRfMDAwMDAwMTMxODQ1OTQ2MTcyODA0MDQyMTAwMDAwMTM0NjExNzMxNDY0NDI3ODkzMDFfIj4KCTxwYXRoIGNsYXNzPSJzdDUiIGQ9Ik05My4zLDkwLjRjMCwwLTEwLjUsMTQuNi0yMy4zLDE0LjZDNTcsMTA1LDQ2LjYsOTAuNCw0Ni42LDkwLjRTNTcsNzUuOCw2OS45LDc1LjgKCQlDODIuOCw3NS44LDkzLjMsOTAuNCw5My4zLDkwLjR6Ii8+CjwvbWFzaz4KPHBhdGggY2xhc3M9InN0NiIgZD0iTTkzLjMsOTAuNGMwLDAtMTAuNSwxNC42LTIzLjMsMTQuNkM1NywxMDUsNDYuNiw5MC40LDQ2LjYsOTAuNFM1Nyw3NS44LDY5LjksNzUuOAoJQzgyLjgsNzUuOCw5My4zLDkwLjQsOTMuMyw5MC40eiIvPgo8L3N2Zz4K";const ae=[{wallet:"subwallet-js",extension:"subwallet-js",name:"SubWallet",picture:"SubWalletLogo.svg",install:"https://subwallet.app/download.html"},{wallet:"talisman",extension:"talisman",name:"Talisman",picture:"TalismanLogo.svg",install:"https://app.talisman.xyz/spiritkeys"},{wallet:"polkadot-js",extension:"polkadot-js",name:"Polkadot{.js}",picture:"PolkadotJSLogo.svg",install:"https://polkadot.js.org/extension/"},{wallet:"nova",extension:"polkadot-js",name:"Nova Wallet",picture:"NovaWalletLogo.svg",install:"https://novawallet.io"}],se={Kusama:"2",Polkadot:"0",Robonomics:"32"};const wo={key:1,class:"robo-dotlabel green"},yo=["innerHTML"],ko={name:"RoboAccountPolkadot"},xo=Object.assign(ko,{props:{chain:{type:String,default:null},extensionAllowShift:{type:Boolean,default:!1},extensionShowIcon:{type:Boolean,default:!1},generationAllow:{type:Boolean,default:!0},inline:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},selectstyle:{type:Boolean,default:!1},selectblock:{type:Boolean,default:!1},selecttitle:{type:String,default:null},showAccountsAs:{type:String,default:"name",validator:function(t){return["name","address","connected"].indexOf(t)!==-1}},type:{type:String,default:null,validator:function(t){return["sr25519","ed25519"].indexOf(t)!==-1}}},emits:["beforeInjected","afterInjected","onAddressChange","update:modelValue"],setup(t,{emit:o}){const n=Z.useStore(),r=t,a=o,s=e.computed(()=>({["robo-account-polkadot"]:!0,["robo-polkadot-account--inline"]:r.inline,["robo-polkadot-account--selectstyle"]:r.selectstyle,["robo-polkadot-account--selectblock"]:r.selectblock}));e.computed(()=>{var _;return(_=window==null?void 0:window.walletExtension)==null?void 0:_.isNovaWallet});let l=e.ref(null),i=e.ref(null);const c=e.computed(()=>{var _;return(_=n.state.robonomicsUIvue.polkadot.extension)!=null?_:""}),d=e.computed(()=>{var _;return(_=n.state.robonomicsUIvue.polkadot.wallet)!=null?_:""});e.computed(()=>{const _=n.state.robonomicsUIvue.polkadot.wallet,I=ae.find(x=>x.wallet===_);return I?new URL({"../polkadot/extensions/NovaWalletLogo.svg":Ue,"../polkadot/extensions/PolkadotJSLogo.svg":Oe,"../polkadot/extensions/SubWalletLogo.svg":Re,"../polkadot/extensions/TalismanLogo.svg":Ze,"../polkadot/extensions/index.js":ae}[`../polkadot/extensions/${I.picture}`],self.location):null});const u=e.computed(()=>n.state.robonomicsUIvue.polkadot.balanceXRT);let m=()=>r.chain&&Object.values(se).indexOf(r.chain)>-1?r.chain:n.state.robonomicsUIvue.polkadot.chain!==""?n.state.robonomicsUIvue.polkadot.chain:"32",w=e.ref(m()),g=e.ref(n.state.robonomicsUIvue.polkadot.address);const b=e.computed(()=>{if(r.showAccountsAs==="name")return i.value.name;if(r.showAccountsAs==="address")return i.value.address});let k=()=>{if(l.value!=null&&g.value)return l.value.find(_=>_.address===g.value)},f=(_,I)=>{if(I.length>0){if(_===""||!Y(_))return I[0].address;{const x=H.encodeAddress(_,w.value);return I.filter(h=>h.address===x).length==0?I[0].address:x}}else return""},y=(_="normal")=>{let I=[],x="";return l.value&&w.value&&Object.keys(l.value).map(h=>{x=H.encodeAddress(l.value[h].address,w.value),_==="short"&&(x=J(x)),I.push(x)}),I},p=()=>{let _=[];return l.value&&Object.keys(l.value).map(I=>{_.push(l.value[I].name)}),_};const v=e.computed(()=>{var _;return!!(r.type&&i.value&&((_=i.value)==null?void 0:_.type)!==r.type)}),V=async()=>{await n.dispatch("polkadot/disconnect")};return e.watch(()=>n.state.robonomicsUIvue.polkadot.address,_=>{Y(_)&&(g.value=H.encodeAddress(_,w.value))}),e.watch(()=>n.state.robonomicsUIvue.polkadot.extension,async _=>{c.value=_,d.value=n.state.robonomicsUIvue.polkadot.wallet,l.value=await n.dispatch("polkadot/getAccounts")}),e.watch(()=>n.state.robonomicsUIvue.polkadot.chain,async _=>{w.value=_}),e.watch(l,_=>{g.value=f(g.value,_),i.value=k()}),e.watch(g,_=>{n.commit("polkadot/setAddress",_),i.value=k(),a("onAddressChange")}),e.watch(w,async _=>{n.commit("polkadot/setChain",_),w.value=_,l.value=await n.dispatch("polkadot/getAccounts"),Object.values(se).indexOf(_)>-1&&(g.value=H.encodeAddress(g.value,_)),g.value=f(g.value,l.value)}),e.onMounted(async()=>{try{a("beforeInjected"),await n.dispatch("polkadot/waitWeb3Injected").then(()=>{a("afterInjected")}),l.value=await n.dispatch("polkadot/getAccounts",w.value),g.value=f(g.value,l.value),i.value=k()}catch{console.warn("[robonomics-ui-vue]: RoboAccountPolkadot error")}}),(_,I)=>{const x=e.resolveComponent("robo-icon"),h=e.resolveComponent("robo-text"),B=e.resolveComponent("robo-grid"),M=e.resolveComponent("robo-polkadot-network-select"),C=e.resolveComponent("robo-section"),S=e.resolveComponent("robo-account-polkadot-extension"),T=e.resolveComponent("robo-status"),D=e.resolveComponent("robo-select"),E=e.resolveComponent("robo-copy"),j=e.resolveComponent("robo-account-polkadot-chain"),F=e.resolveComponent("robo-button"),Q=e.resolveComponent("robo-details");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(Q,{class:e.normalizeClass(s.value),summarystyle:t.selectstyle?"select":"text",fitContent:"",popupMinWidth:"300px"},{summary:e.withCtx(()=>[e.createVNode(B,{type:"flex",gap:t.showAccountsAs==="connected"?"x0":"x05"},{default:e.withCtx(()=>[e.createVNode(x,{icon:e.unref(n).state.robonomicsUIvue.polkadot.connection.network},null,8,["icon"]),t.showAccountsAs!=="connected"?(e.openBlock(),e.createBlock(h,{key:0,size:"small",weight:"bold",class:"robo-line-clipoverflow"},{default:e.withCtx(()=>[e.unref(g)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(e.unref(i)?b.value:e.unref(J)(e.unref(g))),1)],64)):t.selecttitle?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.selecttitle),1)],64)):e.createCommentVNode("",!0)]),_:1})):e.createCommentVNode("",!0),t.showAccountsAs==="connected"&&e.unref(g)&&_.network?(e.openBlock(),e.createElementBlock("span",wo,[e.createVNode(x,{icon:"check",size:"supertiny"})])):e.createCommentVNode("",!0)]),_:1},8,["gap"])]),default:e.withCtx(()=>{var U,W;return[e.createVNode(C,{offset:"x05"},{default:e.withCtx(()=>[e.createVNode(M,{block:"",class:"robo-polkadot-account--networkselect"})]),_:1}),t.extensionAllowShift?(e.openBlock(),e.createBlock(C,{key:0,offset:"x05"},{default:e.withCtx(()=>[e.createVNode(B,{type:"grid",offset:"x05",gap:"x1",columns:4},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(ae),R=>(e.openBlock(),e.createBlock(S,{key:R.id,wallet:R.wallet},null,8,["wallet"]))),128))]),_:1})]),_:1})):e.createCommentVNode("",!0),c.value&&!e.unref(g)?(e.openBlock(),e.createBlock(T,{key:1,type:"warning"},{default:e.withCtx(()=>I[1]||(I[1]=[e.createTextVNode("Account not found")])),_:1})):e.createCommentVNode("",!0),((U=e.unref(l))==null?void 0:U.length)>1&&e.unref(g)&&t.selectable?(e.openBlock(),e.createBlock(D,{key:2,values:e.unref(y)(),options:e.unref(p)(),modelValue:e.unref(g),"onUpdate:modelValue":I[0]||(I[0]=R=>e.isRef(g)?g.value=R:g=R),block:"",size:"small"},null,8,["values","options","modelValue"])):e.createCommentVNode("",!0),e.unref(g)?(e.openBlock(),e.createBlock(C,{key:3,offset:"x05"},{default:e.withCtx(()=>[e.createVNode(h,{lines:"dotted",size:"small"},{default:e.withCtx(()=>[e.createVNode(B,{type:"flex",gap:"x025",galign:"start",valign:"center"},{default:e.withCtx(()=>[e.createElementVNode("span",{innerHTML:e.unref(J)(e.unref(g))},null,8,yo),e.createVNode(E,{text:e.unref(g)},null,8,["text"])]),_:1}),u.value?(e.openBlock(),e.createBlock(B,{key:0,type:"flex",gap:"x025",galign:"start",valign:"center"},{default:e.withCtx(()=>[I[2]||(I[2]=e.createElementVNode("span",null,"Balance:",-1)),e.createElementVNode("span",null,e.toDisplayString(u.value)+" XRT",1)]),_:1})):e.createCommentVNode("",!0),e.unref(i)?(e.openBlock(),e.createBlock(B,{key:1,type:"flex",gap:"x025",galign:"start",valign:"center"},{default:e.withCtx(()=>{var R;return[I[3]||(I[3]=e.createElementVNode("span",null,"Type:",-1)),e.createElementVNode("span",null,e.toDisplayString((R=e.unref(i))==null?void 0:R.type),1)]}),_:1})):e.createCommentVNode("",!0),e.unref(i)?(e.openBlock(),e.createBlock(B,{key:2,type:"flex",gap:"x025",galign:"start",valign:"center"},{default:e.withCtx(()=>[I[4]||(I[4]=e.createElementVNode("span",null,"Format:",-1)),e.createVNode(j,{clean:""})]),_:1})):e.createCommentVNode("",!0)]),_:1})]),_:1})):e.createCommentVNode("",!0),d.value&&((W=e.unref(l))==null?void 0:W.length)>0?(e.openBlock(),e.createBlock(F,{key:4,onClick:e.withModifiers(V,["prevent"]),type:"error",size:"tiny",outline:"",block:""},{default:e.withCtx(()=>I[5]||(I[5]=[e.createTextVNode("Disconnect accounts")])),_:1})):e.createCommentVNode("",!0)]}),_:1},8,["class","summarystyle"]),v.value?(e.openBlock(),e.createBlock(h,{key:0,size:"tiny",weight:"bold",highlight:"error"},{default:e.withCtx(()=>{var U;return[e.createTextVNode("Your account's type is "+e.toDisplayString((U=e.unref(i))==null?void 0:U.type)+", you need here "+e.toDisplayString(r.type)+". Try another account.",1)]}),_:1})):e.createCommentVNode("",!0)],64)}}});var Co=L(xo,[["__scopeId","data-v-e69b7964"]]);const No={name:"RoboAccountPolkadotChain"},_o=Object.assign(No,{props:{chain:{type:String,default:null},clean:{type:Boolean,default:!1},size:{type:String,default:"small",validator(t){return["small","medium","large"].includes(t)}}},setup(t){const o=Z.useStore(),n=e.computed(()=>o.state.robonomicsUIvue.polkadot),r=t;let a=()=>{var l;return r.chain&&Object.values(se).indexOf(r.chain)>-1?r.chain:(l=n.chain)!=null?l:"32"},s=e.ref(a());return e.onMounted(()=>{e.watch(()=>s.value,l=>{o.commit("polkadot/setChain",l)})}),(l,i)=>{const c=e.resolveComponent("robo-select");return e.openBlock(),e.createBlock(c,{values:Object.values(e.unref(se)),options:Object.keys(e.unref(se)),size:r.size,modelValue:e.unref(s),"onUpdate:modelValue":i[0]||(i[0]=d=>e.isRef(s)?s.value=d:s=d),clean:t.clean},null,8,["values","options","size","modelValue","clean"])}}});const ho=["src"],Mo={name:"RoboAccountPolkadotExtension"},Io=Object.assign(Mo,{props:{wallet:{type:String,default:null,validator:function(t){return["polkadot-js","talisman","subwallet-js","nova"].indexOf(t)!==-1}}},setup(t){const o=Z.useStore(),n=t,r=e.ref(null),a=e.ref(!1),s=e.computed(()=>ae.find(w=>w.wallet===n.wallet)),l=w=>new URL({"../polkadot/extensions/NovaWalletLogo.svg":Ue,"../polkadot/extensions/PolkadotJSLogo.svg":Oe,"../polkadot/extensions/SubWalletLogo.svg":Re,"../polkadot/extensions/TalismanLogo.svg":Ze,"../polkadot/extensions/index.js":ae}[`../polkadot/extensions/${w}`],self.location),i=async()=>{await r.value.enable().then(async w=>{o.commit("polkadot/setExtension",s.value.extension);const g=await w.accounts.get();g.length>0&&o.commit("polkadot/setAddress",g[0].address)}).catch(w=>{console.warn("[robonomics-ui-vue]:",w)})},c=e.computed(()=>{var w;return(w=window==null?void 0:window.walletExtension)==null?void 0:w.isNovaWallet}),d=e.computed(()=>o.state.robonomicsUIvue.polkadot.wallet===n.wallet),u=e.computed(()=>({["robo-account-polkadot-extension"]:!0,["robo-account-polkadot-extension--connected"]:a.value})),m=e.computed(()=>{if(n.wallet==="nova"){if(r.value&&c.value)return!0}else return!!r.value});return e.onMounted(async()=>{try{await o.dispatch("polkadot/waitWeb3Injected"),r.value=window==null?void 0:window.injectedWeb3[s.value.extension]}catch{console.warn("[robonomics-ui-vue]: no extension found in robo-account-polkadot-extension")}d.value&&m.value&&(a.value=!0),e.watch(()=>o.state.robonomicsUIvue.polkadot.wallet,()=>{d.value&&m.value?a.value=!0:a.value=!1})}),(w,g)=>{const b=e.resolveComponent("robo-icon"),k=e.resolveComponent("robo-button");return c.value&&t.wallet==="nova"||!c.value?(e.openBlock(),e.createBlock(k,{key:0,onClick:g[0]||(g[0]=f=>m.value&&!a.value?i():null),href:!m.value&&!a.value?s.value.install:null,disabled:a.value?"ok":null,title:s.value.name,class:e.normalizeClass(u.value),clean:""},{default:e.withCtx(()=>[e.createElementVNode("img",{src:l(s.value.picture)},null,8,ho),e.createElementVNode("span",{class:e.normalizeClass(["robo-dotlabel",m.value?"green":null])},[e.createVNode(b,{icon:m.value?"check":"arrow-down",size:"supertiny"},null,8,["icon"])],2)]),_:1},8,["href","disabled","title","class"])):e.createCommentVNode("",!0)}}});var Vo=L(Io,[["__scopeId","data-v-7fa84a8f"]]);const Bo=Object.assign({name:"RoboPolkadotNetworkSelect",inheritAttrs:!1},{__name:"NetworkSelect",props:{icon:{type:Boolean},size:{type:String}},setup(t){const o=Z.useStore(),n=t,r=e.ref(["kusama","polkadot"]),a=e.ref(["Kusama","Polkadot"]),s=e.ref(o.state.robonomicsUIvue.polkadot.connection.network),l=()=>{o.commit("polkadot/setConnectionNetwork",s.value),window.location.reload()};return(i,c)=>{const d=e.resolveComponent("robo-icon"),u=e.resolveComponent("robo-text"),m=e.resolveComponent("robo-select"),w=e.resolveComponent("robo-grid");return e.openBlock(),e.createBlock(w,{gap:n.icon&&"x05",offset:n.icon&&"x05",type:"flex",valign:"center"},{default:e.withCtx(()=>[n.icon?(e.openBlock(),e.createBlock(u,{key:0,size:n.size||"small"},{default:e.withCtx(()=>[e.createVNode(d,{icon:e.unref(o).state.robonomicsUIvue.polkadot.connection.network},null,8,["icon"])]),_:1},8,["size"])):e.createCommentVNode("",!0),e.createVNode(m,e.mergeProps(i.$attrs,{values:r.value,options:a.value,modelValue:s.value,"onUpdate:modelValue":c[0]||(c[0]=g=>s.value=g),size:n.size||"small",onChange:l}),null,16,["values","options","modelValue","size"])]),_:1},8,["gap","offset"])}}});var So=L(Bo,[["__scopeId","data-v-77da4917"]]);const Do={name:"RoboAppStatus"},To=Object.assign(Do,{setup(t){const o=Z.useStore();return(n,r)=>{const a=e.resolveComponent("robo-text");return e.unref(o).state.robonomicsUIvue.app.status?(e.openBlock(),e.createBlock(a,{key:0,size:"tiny",class:"robo-appstatus"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(o).state.robonomicsUIvue.app.status),1)]),_:1})):e.createCommentVNode("",!0)}}});var zo=L(To,[["__scopeId","data-v-e61ba076"]]);const jo={key:1,class:"robo-button-badge"},Lo={name:"RoboButton"},Ao=Object.assign(Lo,{props:{approve:{type:String},block:{type:Boolean,default:!1},clean:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},href:{type:String,default:null},loading:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},router:{type:[Object,String],default:null},size:{type:String,default:"normal",validator:function(t){return["tiny","small","normal","large"].indexOf(t)!==-1}},input:{type:Boolean,default:!1},type:{type:String,default:"primary",validator:function(t){return["primary","ok","error","na"].indexOf(t)!==-1}}},setup(t){const o=e.useSlots(),n=t,r=e.computed(()=>{if(n.href)return"a";if(n.router)return"router-link";if(!n.href&&!n.router)return"button"}),a=e.computed(()=>({["robo-button"]:!0,[`robo-button-${n.type}`]:!0,["robo-button-solid"]:!n.outline,["robo-button-outline"]:n.outline,["robo-button-block"]:n.block,["robo-button-clean"]:n.clean,[`robo-button-size-${n.size}`]:n.size})),s=e.computed(()=>n.disabled||n.loading?!0:null),l=e.computed(()=>{if(n.href){const i=document.createElement("a");if(i.href=n.href,i.host!==window.location.host)return!0}});return(i,c)=>{const d=e.resolveComponent("robo-loader");return e.openBlock(),e.createBlock(e.resolveDynamicComponent(r.value),e.mergeProps({to:n.router?{path:n.router}:null,href:n.href?n.href:null,class:a.value,disabled:s.value,target:l.value?"_blank":null,rel:l.value?"noopener":null},i.$attrs),{default:e.withCtx(()=>[e.renderSlot(i.$slots,"iconleft",{},void 0,!0),n.loading?(e.openBlock(),e.createBlock(d,{key:0})):e.createCommentVNode("",!0),e.renderSlot(i.$slots,"default",{},void 0,!0),e.renderSlot(i.$slots,"iconright",{},void 0,!0),e.unref(o).badge?(e.openBlock(),e.createElementBlock("span",jo,[e.renderSlot(i.$slots,"badge",{},void 0,!0)])):e.createCommentVNode("",!0)]),_:3},16,["to","href","class","disabled","target","rel"])}}});var Eo=L(Ao,[["__scopeId","data-v-388a422c"]]);const Uo={name:"RoboButtonApprove"},Oo=Object.assign(Uo,{props:{approvetext:{type:String},approvebuttontext:{type:String}},emits:["ClickApprove"],setup(t,{emit:o}){const n=o,r=e.ref(!1),a=e.ref(!1),s=()=>{r.value=!1,a.value=!1},l=()=>{r.value=!0},i=()=>{n("ClickApprove"),s()};return(c,d)=>{const u=e.resolveComponent("robo-button"),m=e.resolveComponent("robo-text"),w=e.resolveComponent("robo-grid"),g=e.resolveComponent("robo-details");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(u,e.mergeProps(c.$attrs,{onClick:e.withModifiers(l,["prevent"])}),{default:e.withCtx(()=>[e.renderSlot(c.$slots,"default",{},void 0,!0)]),_:3},16),e.createVNode(g,{class:"robo-button-approval-details",type:"popup",open:r.value,afterCloseDetails:s,doClose:a.value},{default:e.withCtx(()=>[e.createVNode(m,{title:"5",innerHTML:t.approvetext},null,8,["innerHTML"]),e.createVNode(w,{class:"actions",type:"flex",gap:"x05",offset:"x05",galign:"stretch"},{default:e.withCtx(()=>[e.createVNode(u,{outline:"",size:"small",onClick:d[0]||(d[0]=e.withModifiers(b=>{a.value=!0},["prevent"]))},{default:e.withCtx(()=>d[1]||(d[1]=[e.createTextVNode("Cancel")])),_:1}),e.createVNode(u,{outline:"",type:"error",size:"small",onClick:e.withModifiers(i,["prevent"])},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.approvebuttontext),1)]),_:1})]),_:1})]),_:1},8,["open","doClose"])],64)}}});var Ro=L(Oo,[["__scopeId","data-v-5c4e925e"]]);const Zo={name:"RoboCopy"},Po=Object.assign(Zo,{props:{size:{type:String,default:"normal",validator:function(t){return["small","normal","big"].indexOf(t)!==-1}},text:{type:String,default:null}},setup(t){const o=t;let n=e.ref(!1),r=()=>{navigator.clipboard.writeText(o.text),n.value=!0,setTimeout(function(){n.value=!1},1500)};return(a,s)=>{const l=e.resolveComponent("robo-icon"),i=e.resolveComponent("robo-grid"),c=e.resolveComponent("robo-button");return o.text?(e.openBlock(),e.createBlock(c,{key:0,onClick:e.withModifiers(e.unref(r),["prevent"]),class:"robo-copy",size:o.size,clean:"",disabled:e.unref(n)?"ok":null},{default:e.withCtx(()=>[e.createVNode(i,{type:"flex",gap:"x025"},{default:e.withCtx(()=>[e.createVNode(l,{icon:e.unref(n)?"check":"copy"},null,8,["icon"])]),_:1})]),_:1},8,["onClick","size","disabled"])):e.createCommentVNode("",!0)}}});const Go=["aria-expanded"],$o={key:0,class:"robo-details-popup-title"},Fo={class:"robo-details-content-inside"},Qo={name:"RoboDetails"},Wo=Object.assign(Qo,{props:{afterCloseDetails:{type:Function},block:{type:Boolean,default:!1},contentCloseOutOfFocus:{type:Boolean,default:!0},contentOffset:{type:Boolean,default:!1},contentTextalign:{type:String,default:"left",validator:function(t){return["justify","left","right","center"].includes(t)}},fitContent:{type:Boolean,default:!1},popupMaxHeight:{type:String},popupMinWidth:{type:String},popupOverlay:{type:Boolean,default:!0},popupTitle:{type:String,default:null},summarystyle:{type:String,default:"text",validator:function(t){return["text","link","select","info"].includes(t)}},summarysize:{type:String,default:"normal",validator:function(t){return["tiny","small","normal","large"].indexOf(t)!==-1}},textStyle:{type:String,default:"inherit",validator:function(t){return["inherit","initial"].includes(t)}},toggler:{type:Boolean,default:!1},tooltipCloseButton:{type:Boolean,default:!0},tooltipPlacement:{type:String,default:"bottom-start",validator:function(t){return["bottom-start","bottom-end","top-start","top-end","start-top","start-bottom","end-top","end-bottom","fix"].includes(t)}},tooltipRatio:{type:String,default:"auto",validator:function(t){return["auto","none"].includes(t)}},type:{type:String,default:"tooltip",validator:function(t){return["tooltip","popup","inital"].includes(t)}},doClose:{type:Boolean,default:!1}},setup(t){const o=t,n=e.ref(null),r=e.ref(null);let a=e.ref(o.tooltipPlacement);const s=e.ref(o.summarystyle==="select"||o.summarystyle==="info"?!0:o.toggler||o.toggler),l=e.computed(()=>{let b={["robo-details"]:!0,[`robo-details--${o.type}`]:o.type,["robo-details--closeOutOfFocus"]:o.type==="popup"?!1:o.contentCloseOutOfFocus,["robo-details--offset"]:o.contentOffset,[`robo-details--content-align--${o.contentTextalign}`]:o.contentTextalign,["robo-details--loading"]:o.summaryLoading,[`robo-details--textStyle-${o.textStyle}`]:o.textStyle,[`robo-details--summarystyle-${o.summarystyle}`]:o.summarystyle,[`robo-details--summarysize-${o.summarysize}`]:o.summarysize,["robo-details--block"]:o.block,["robo-details--fitContent"]:o.fitContent};return o.type==="tooltip"&&Object.assign(b,{["robo-details--tooltip-closable"]:o.tooltipCloseButton,[`robo-details--tooltip--${a.value}`]:a.value}),b}),i=e.computed(()=>{if(s.value)return o.summarystyle==="info"?"circle-info":"select-arrow";if(o.type==="initial")return w.value?"arrowhead-top":"arrowhead-bottom"}),c=b=>{var k=b.getBoundingClientRect(),f={};return f.top=k.top<0,f.left=k.left<0,f.bottom=k.bottom>(window.innerHeight||document.documentElement.clientHeight),f.right=k.right>(window.innerWidth||document.documentElement.clientWidth),f.any=f.top||f.left||f.bottom||f.right,f.all=f.top&&f.left&&f.bottom&&f.right,f},d=b=>{let k;b==="any"?setTimeout(function(){k=c(r.value),b==="top"&&k.top&&(a.value="fix"),k.any&&(a.value="fix")},20):setTimeout(function(){k=c(r.value),(b==="top"&&k.top||b==="bottom"&&k.bottom||b==="left"&&k.left||b==="right"&&k.right)&&(a.value="fix")},10)},u=()=>{o.type==="tooltip"&&setTimeout(function(){if(n.value.open){let b=r.value,k=b.offsetWidth||b.clientWidth,f=b.offsetHeight,y=f/k,p;if(o.tooltipRatio==="auto"){if(y>1.3&&y<3&&(o.fitContent||(b.style.width=f+"px",b.style.maxHeight=k+10+"px"),p=c(b),p.left||p.right)){let v=b.getBoundingClientRect();b.style.width=window.innerWidth-v.left-40+"px"}if(y>3&&(o.fitContent||(b.style.width=k*3+"px",b.style.maxHeight=f/3+"px"),p=c(b),p.left||p.right)){let v=b.getBoundingClientRect();b.style.width=window.innerWidth-v.left-40+"px"}o.popupMaxHeight&&(b.style.maxHeight=o.popupMaxHeight),o.popupMinWidth&&(b.style.minWidth=o.popupMinWidth)}p=c(b),p.right&&!p.left&&(a.value=a.value.replace("start","end"),d("left")),!p.right&&p.left&&(a.value=a.value.replace("end","start"),d("right")),p.top&&!p.bottom&&(a.value=a.value.replace("top","bottom"),d("bottom")),!p.top&&p.bottom&&(a.value=a.value.replace("bottom","top"),d("top")),d("any")}},5)},m=()=>{n.value.open=!1,w.value=!1,o.afterCloseDetails&&o.afterCloseDetails()},w=e.ref(null),g=()=>{setTimeout(function(){var b;w.value=(b=n==null?void 0:n.value)==null?void 0:b.open},100)};return e.watch(()=>o.doClose,b=>{b&&m()}),e.onMounted(()=>{var b;w.value=(b=n==null?void 0:n.value)==null?void 0:b.open,document.body.onclick=k=>{const f=k.target.closest('.robo-details--closeOutOfFocus[tabindex="0"]');document.body.querySelectorAll('.robo-details--closeOutOfFocus[tabindex="0"]').forEach(y=>{y!==f&&(y.open=!1)})}}),(b,k)=>{const f=e.resolveComponent("robo-icon"),y=e.resolveComponent("robo-grid");return e.openBlock(),e.createElementBlock("details",e.mergeProps({class:l.value,tabindex:"0",ref_key:"details",ref:n},b.$attrs,{onClick:g}),[e.createElementVNode("summary",{class:"robo-details-summary","aria-expanded":!!w.value,tabindex:"0",role:"button",onClick:u},[e.createVNode(y,{type:"flex",gap:"x025",valign:"center",galign:"stretch"},{default:e.withCtx(()=>[e.renderSlot(b.$slots,"summary",{},void 0,!0),e.createVNode(f,{icon:i.value,class:e.normalizeClass(s.value?"robo-details-summary-toggler":null)},null,8,["icon","class"])]),_:3})],8,Go),e.createElementVNode("div",{class:"robo-details-content",ref_key:"content",ref:r},[t.popupTitle?(e.openBlock(),e.createElementBlock("h3",$o,e.toDisplayString(t.popupTitle),1)):e.createCommentVNode("",!0),(o.type==="tooltip"&&t.tooltipCloseButton||o.type==="popup")&&t.summarystyle!=="info"?(e.openBlock(),e.createBlock(f,{key:1,class:"robo-details-content-close",onClick:m,tabindex:"0",icon:"xmark"})):e.createCommentVNode("",!0),e.createElementVNode("div",Fo,[e.renderSlot(b.$slots,"default",{},void 0,!0)])],512),o.type==="popup"&&t.popupOverlay?(e.openBlock(),e.createElementBlock("div",{key:0,class:"robo-overlay","aria-hidden":"true",onClick:m})):e.createCommentVNode("",!0)],16)}}});var Ho=L(Wo,[["__scopeId","data-v-055324dc"]]);const Jo=["disabled"],Yo=["accept"],Xo={name:"RoboFileUpload"},Ko=Object.assign(Xo,{props:{accept:{type:String,default:".json"},disabled:{type:Boolean,default:!1},drop:{type:Boolean,default:!1},onloadfunc:{type:Function}},setup(t){const o=e.useSlots(),n=t,r=e.computed(()=>({["robo-fileupload"]:!0,["robo-fileupload-drop"]:n.drop})),a=e.ref(!1),s=c=>{const u=c.target.files[0],m=new FileReader;try{m.readAsText(u),a.value=!0,m.onload=function(){n.onloadfunc(m.result),setTimeout(()=>{a.value=!1},500)}}catch(w){console.log(w)}},l=()=>{const c=document.createElement("div");return("draggable"in c||"ondragstart"in c&&"ondrop"in c)&&"FormData"in window&&"FileReader"in window},i=(c,d,u)=>{c.split(" ").forEach(m=>d.addEventListener(m,u))};return e.onMounted(()=>{if(n.drop&&l()){const c=document.querySelector(".robo-fileupload-drop");i("drag dragstart dragend dragover dragenter dragleave drop",c,d=>{d.preventDefault()}),c.addEventListener("drop",d=>{try{if(d.dataTransfer.items&&d.dataTransfer.items.length>0){const u=d.dataTransfer.items[0];if(u.kind==="file"&&u.type==="application/json"){const m=u.getAsFile(),w=new FileReader;w.readAsText(m),w.onload=function(){n.onloadfunc(w.result)}}}}catch(u){console.log(u)}}),i("dragover dragenter",c,()=>{c.classList.add("is-dragover")}),i("dragleave dragend drop",c,()=>{c.classList.remove("is-dragover")})}}),(c,d)=>{const u=e.resolveComponent("robo-text"),m=e.resolveComponent("robo-loader"),w=e.resolveComponent("robo-icon"),g=e.resolveComponent("robo-button");return e.openBlock(),e.createElementBlock("form",{enctype:"multipart/form-data",onSubmit:d[1]||(d[1]=e.withModifiers(()=>{},["prevent"])),class:e.normalizeClass(r.value),disabled:t.disabled},[t.drop&&e.unref(o).label?(e.openBlock(),e.createBlock(u,{key:0,class:"drop-label",size:"small",weight:"bold"},{default:e.withCtx(()=>[e.renderSlot(c.$slots,"label",{},void 0,!0)]),_:3})):e.createCommentVNode("",!0),e.createElementVNode("div",null,[t.drop?(e.openBlock(),e.createBlock(u,{key:0,size:"small",weight:"normal-italic"},{default:e.withCtx(()=>d[2]||(d[2]=[e.createElementVNode("div",null,"Drop .json here or",-1)])),_:1})):e.createCommentVNode("",!0),e.createVNode(g,{size:"small",outline:!t.drop,disabled:t.disabled},{default:e.withCtx(()=>[a.value?(e.openBlock(),e.createBlock(m,{key:0})):(e.openBlock(),e.createBlock(w,{key:1,icon:"save"})),e.unref(o).label&&!t.drop?(e.openBlock(),e.createBlock(u,{key:2},{default:e.withCtx(()=>[e.renderSlot(c.$slots,"label",{},void 0,!0)]),_:3})):e.createCommentVNode("",!0),t.drop?(e.openBlock(),e.createBlock(u,{key:3},{default:e.withCtx(()=>d[3]||(d[3]=[e.createTextVNode("Select a file")])),_:1})):e.createCommentVNode("",!0),e.createElementVNode("input",e.mergeProps({onChange:d[0]||(d[0]=b=>s(b)),type:"file"},c.$attrs,{accept:t.accept}),null,16,Yo)]),_:3},8,["outline","disabled"])])],42,Jo)}}});var qo=L(Ko,[["__scopeId","data-v-3a533588"]]);const en={name:"RoboGrid"},tn=Object.assign(en,{props:{disabled:{type:Boolean,default:!1},divider:{type:String,validator(t){return["solid","dotted","dashed"].includes(t)}},columns:{type:[Number,String],default:null},flexfluid:{type:Boolean,default:!1},minColumnWidth:{type:String,default:"auto"},maxColumnWidth:{type:String,default:"auto"},minRowHeight:{type:String,default:"auto"},maxRowHeight:{type:String,default:"auto"},gap:{type:String,default:"x0",validator(t){return["x0","x025","x05","x1","x2","x3","x4"].includes(t)}},galign:{type:String,default:"start",validator(t){return["start","end","center","stretch"].includes(t)}},offset:{type:String,default:"x0",validator(t){return["x0","x025","x05","x1","x2","x4"].includes(t)}},rows:{type:[Number,String],default:null},type:{type:String,default:"grid",validator(t){return["grid","flex","masonry"].includes(t)}},valign:{type:String,default:"start",validator(t){return["start","end","center","stretch"].includes(t)}}},setup(t){e.useCssVars(p=>({"771bf388":m.value,b9ee6cf4:f.value,"6b05a015":w.value,"1db85f43":d.value,"6acd8a4a":u.value,"08792b28":g.value,"7fbb5f80":b.value,"888ba05e":k.value,"60ebfbf2":e.unref(c)(3),"60ebfbd3":e.unref(c)(2),"60ebfbb4":e.unref(c)(1)}));const o=t;let n=()=>{if(o.columns){const p=o.columns;return!isNaN(parseFloat(p))&&isFinite(p)&&o.type!=="flex"?o.type==="masonry"||typeof p=="string"?p:`repeat(${p}, 1fr)`:p}else if(o.minColumnWidth||o.maxColumnWidth){let p="auto",v="1fr";return o.minColumnWidth&&(p=`min(100%, ${o.minColumnWidth})`),o.maxColumnWidth&&(v=`${o.maxColumnWidth}`),`repeat(auto-fit, minmax(${p}, ${v} ))`}},r=()=>{if(o.rows){const p=o.rows;if(!isNaN(parseFloat(p))&&isFinite(p)&&o.type!=="flex")return o.type==="masonry"||typeof p=="string"?p:`repeat(${p}, 1fr)`}else if(o.minRowHeight||o.maxRowHeight){let p="auto",v="1fr";return o.minRowHeight&&(p=`min(100%, ${o.minRowHeight})`),o.maxRowHeight&&(v=`${o.maxRowHeight}`),`repeat(auto-fit, minmax(${p}, ${v} ))`}},a=p=>{var v;return(v={x0:"none",x025:"calc(var(--gap-layout) * 0.25)",x05:"calc(var(--gap-layout) * 0.5)",x1:"var(--gap-layout)",x2:"calc(var(--gap-layout) * 2)",x3:"calc(var(--gap-layout) * 3)",x4:"calc(var(--gap-layout) * 4)"}[p])!=null?v:"none"},s=p=>{var v;return(v={masonry:"block",grid:"grid",flex:"flex"}[p])!=null?v:"none"},l=p=>{var v;return o.type=="flex"?(v={start:"flex-start",end:"flex-end",center:"center",stretch:"space-between"}[p])!=null?v:"none":p},i=p=>{var v;return o.type=="flex"?(v={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"}[p])!=null?v:"none":p},c=p=>o.columns>p?p:o.columns;const d=e.computed(()=>o.rows?"auto":n()),u=e.computed(()=>o.columns?"auto":r()),m=e.computed(()=>a(o.gap)),w=e.computed(()=>a(o.offset)),g=e.computed(()=>s(o.type)),b=e.computed(()=>l(o.galign)),k=e.computed(()=>i(o.valign)),f=e.computed(()=>{var p;return(p=o.divider)!=null?p:"none"}),y=e.computed(()=>({["robo-grid"]:!0,[`robo-grid-type--${o.type}`]:o.type,["robo-grid-flexfluid"]:o.flexfluid,["robo-grid-disabled"]:o.disabled,["robo-grid-divider"]:o.divider}));return(p,v)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(y.value)},[e.renderSlot(p.$slots,"default",{},void 0,!0)],2))}});var on=L(tn,[["__scopeId","data-v-df29343a"]]);const nn=e.defineComponent({name:"RoboGridItem",props:{align:{type:String,default:null,validator(t){return["left","center","right","stretch"].includes(t)}},back:{type:Boolean,default:!1},borderbottom:{type:Boolean,default:!1},collapseIcon:{type:String,default:"bars"},collapseText:{type:String},mediaMobile:{type:String,default:"transfer",validator(t){return["transfer","collapse-right","collapse-left","hide"].includes(t)}},sticky:{type:String,default:"none",validator(t){return["collapse","all","none"].includes(t)}},valign:{type:String,default:null,validator(t){return["top","center","bottom","stretch"].includes(t)}}},data(){return{collapseClass:"none",collapse:this.mediaMobile==="collapse-left"||this.mediaMobile==="collapse-right"}},computed:{classList(){return{["robo-grid-item"]:!0,["robo-grid-item--mobile-collapse"]:this.mediaMobile=="collapse-left"||this.mediaMobile=="collapse-right",[`robo-grid-item--mobile-${this.mediaMobile}`]:this.mediaMobile,[`robo-grid-item--valign-${this.valign}`]:this.valign,[`robo-grid-item--align-${this.align}`]:this.align,[`robo-grid-item--${this.collapseClass}`]:this.collapseClass,[`robo-grid-item--sticky-${this.sticky}`]:this.sticky,["robo-grid-item--borderbottom"]:this.borderbottom,["robo-grid-item--back"]:this.back}}},methods:{toggleCollapse(){return this.collapseClass==="close"||this.collapseClass==="none"?this.collapseClass="open":this.collapseClass="close"}}}),ln={key:0},rn={class:"robo-grid-item-content"},an={key:0,class:"robo-grid-item-close-wrap","aria-hidden":"true"},sn={key:0},cn={key:1},un={class:"robo-grid-item-content-inside"};function dn(t,o,n,r,a,s){const l=e.resolveComponent("robo-button"),i=e.resolveComponent("robo-icon");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(t.classList)},[t.collapseText?(e.openBlock(),e.createBlock(l,{key:0,onClick:t.toggleCollapse,class:"robo-grid-item-toggler",outlined:"",size:"small","icon-left":t.mediaMobile==="collapse-left"?t.collapseIcon:null,"icon-right":t.mediaMobile==="collapse-right"?t.collapseIcon:null},{default:e.withCtx(()=>[t.collapseText?(e.openBlock(),e.createElementBlock("span",ln,e.toDisplayString(t.collapseText),1)):e.createCommentVNode("",!0)]),_:1},8,["onClick","icon-left","icon-right"])):e.createCommentVNode("",!0),e.createElementVNode("div",rn,[t.collapse?(e.openBlock(),e.createElementBlock("div",an,[t.collapseIcon?(e.openBlock(),e.createElementBlock("span",sn,[e.createVNode(i,{icon:t.collapseIcon},null,8,["icon"])])):e.createCommentVNode("",!0),t.collapseText?(e.openBlock(),e.createElementBlock("span",cn,e.toDisplayString(t.collapseText),1)):e.createCommentVNode("",!0),e.createVNode(i,{class:"robo-grid-item-close",icon:"circle-xmark",size:"big",onClick:t.toggleCollapse},null,8,["onClick"])])):e.createCommentVNode("",!0),e.createElementVNode("div",un,[e.renderSlot(t.$slots,"default",{},void 0,!0)])]),t.collapseClass==="open"?(e.openBlock(),e.createElementBlock("div",{key:1,class:"robo-grid-item-overlay robo-overlay",onClick:o[0]||(o[0]=(...c)=>t.toggleCollapse&&t.toggleCollapse(...c)),"aria-hidden":"true"})):e.createCommentVNode("",!0)],2)}var pn=L(nn,[["render",dn],["__scopeId","data-v-5540fed4"]]);const mn=Object.assign({name:"RoboIcon"},{__name:"Icon",props:{color:{type:String,default:"inherit"},icon:{type:String,required:!0},size:{type:String,default:"normal",validator:t=>["supertiny","tiny","small","normal","medium","big","huge"].includes(t)}},setup(t){const o=t,n=e.computed(()=>({"robo-icon":!0,[`robo-icon--size-${o.size}`]:o.size,[`robo-icon--${o.icon}`]:o.icon})),r=e.computed(()=>({"--icon-color":o.color,"--icon-size":a(o.size),"--icon-content":`var(--icon-${o.icon})`})),a=s=>{var l;return(l={supertiny:"calc(var(--robo-font-size) * 0.4)",tiny:"calc(var(--robo-font-size) * 0.6)",small:"calc(var(--robo-font-size) * 0.8)",normal:"inherit",medium:"calc(var(--robo-font-size) * 1.5)",big:"calc(var(--robo-font-size) * 3)",huge:"calc(var(--robo-font-size) * 6)"}[s])!=null?l:"inherit"};return(s,l)=>o.icon?(e.openBlock(),e.createElementBlock("span",e.mergeProps({key:0},s.$attrs,{class:n.value,style:r.value}),null,16)):e.createCommentVNode("",!0)}});const he=e.defineComponent({name:"RoboInput",props:{block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},fitcontent:{type:Boolean,default:!1},label:{type:String,default:null},loading:{type:Boolean,default:!1},offset:{type:String,default:"x0",validator(t){return["x0","x05","x1","x2","x4"].includes(t)}},modelValue:{type:String,required:!0},placeholder:{type:String,default:null},repeat:{type:Boolean,default:!1},view:{type:String,default:"classic",validator(t){return["classic","text","text-edit"].includes(t)}},tip:{type:String,default:null},tipchanged:{type:Boolean,default:!1}},data(){return{focusedStatus:!1,inputType:this.$attrs.type,showPasswordPressed:!1,changed:!1}},emits:["update:modelValue"],computed:{classes(){return{["robo-input"]:!0,["robo-input--labeled"]:this.label,["robo-input--focused"]:this.focusedStatus,["robo-input--disabled"]:this.disabled,[`robo-input-offset-${this.offset}`]:this.offset,["robo-input-block"]:this.block,[`robo-input--type-${this.inputType}`]:this.inputType,["robo-input--error"]:this.error,["robo-input-changed"]:this.changed,[`robo-input--style-${this.view}`]:this.view,["robo-input--fitcontent"]:this.fitcontent,["robo-input--changed"]:this.tipchanged}},inputModel:{get(){if(!this.modelValue&&this.modelValue!="")console.warn("[robonomics-ui-vue3 warn]: `robo-input` component is missing required v-model directive");else return this.modelValue},set(t){this.$emit("update:modelValue",t)}},labelSize(){return this.focusedStatus?"small":"tiny"},inputwidth(){return this.modelValue?this.modelValue.length+"ch":"auto"}},methods:{focused(){this.focusedStatus=!0},blurred(){this.focusedStatus=!1},showPassword(){this.showPasswordPressed=!this.showPasswordPressed,this.$refs.input.type==="password"?this.$refs.input.type="text":this.$refs.input.type="password"},setfocus(){this.$refs.input.focus()}}}),ze=()=>{e.useCssVars(t=>({"02a77d98":t.inputwidth}))},je=he.setup;he.setup=je?(t,o)=>(ze(),je(t,o)):ze;const vn=he,fn=["type","aria-disabled","tabindex","disabled","placeholder"],bn=["disabled","placeholder"],gn={key:3,for:"fileupload"},wn=["innerHTML"];function yn(t,o,n,r,a,s){var m;const l=e.resolveComponent("robo-text"),i=e.resolveComponent("robo-icon"),c=e.resolveComponent("robo-button"),d=e.resolveComponent("robo-details"),u=e.resolveComponent("robo-loader");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(t.classes)},[t.label?(e.openBlock(),e.createBlock(l,{key:0,class:"robo-input-label",size:t.labelSize,weight:"bold"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.label),1)]),_:1},8,["size"])):e.createCommentVNode("",!0),e.withDirectives(e.createElementVNode("input",e.mergeProps(t.$attrs,{onFocus:o[0]||(o[0]=(...w)=>t.focused&&t.focused(...w)),onBlur:o[1]||(o[1]=(...w)=>t.blurred&&t.blurred(...w)),"onUpdate:modelValue":o[2]||(o[2]=w=>t.inputModel=w),type:(m=t.$attrs.type)!=null?m:"text",ref:"input","aria-disabled":t.disabled?!0:null,tabindex:t.disabled?-1:0,disabled:t.disabled,placeholder:t.placeholder?t.placeholder:null}),null,16,fn),[[e.vModelDynamic,t.inputModel]]),t.inputType==="color"?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:1,"onUpdate:modelValue":o[3]||(o[3]=w=>t.inputModel=w),class:"robo-input-color",disabled:t.disabled,placeholder:t.placeholder?t.placeholder:null,type:"text"},null,8,bn)),[[e.vModelText,t.inputModel]]):e.createCommentVNode("",!0),t.view==="text-edit"?(e.openBlock(),e.createBlock(c,{key:2,class:"text-edit",clean:"",onClick:e.withModifiers(t.setfocus,["prevent"])},{default:e.withCtx(()=>[e.createVNode(i,{icon:"pencil"})]),_:1},8,["onClick"])):e.createCommentVNode("",!0),t.inputType==="file"?(e.openBlock(),e.createElementBlock("label",gn,"file upload")):e.createCommentVNode("",!0),t.inputType==="password"&&!t.disabled?(e.openBlock(),e.createBlock(c,{key:4,onClick:e.withModifiers(t.showPassword,["prevent"]),class:"showPasswordButton",clean:"",role:"switch","aria-pressed":t.showPasswordPressed,"aria-label":t.showPasswordPressed?"Hide":"Show"},{default:e.withCtx(()=>[e.createVNode(i,{icon:t.showPasswordPressed?"eye-slash":"eye"},null,8,["icon"])]),_:1},8,["onClick","aria-pressed","aria-label"])):e.createCommentVNode("",!0),t.tip?(e.openBlock(),e.createBlock(d,{key:5,type:"tooltip","tooltip-placement":"bottom-end"},{summary:e.withCtx(()=>[e.createVNode(c,{size:"small"},{default:e.withCtx(()=>o[4]||(o[4]=[e.createTextVNode("i")])),_:1})]),default:e.withCtx(()=>[e.createElementVNode("div",{innerHTML:t.tip},null,8,wn)]),_:1})):e.createCommentVNode("",!0),t.tipchanged?(e.openBlock(),e.createBlock(l,{key:6,highlightLabel:"warning",size:"tiny",class:"tip-changed",weight:"bold"},{default:e.withCtx(()=>o[5]||(o[5]=[e.createTextVNode("not saved")])),_:1})):e.createCommentVNode("",!0),t.loading?(e.openBlock(),e.createBlock(u,{key:7})):e.createCommentVNode("",!0)],2)}var kn=L(vn,[["render",yn],["__scopeId","data-v-45692972"]]);const xn=["disabled"],Cn=["type"],Nn={name:"RoboInputNew",inheritAttrs:!1},_n=Object.assign(Nn,{props:e.mergeModels({edit:{type:Boolean,default:!1},label:{type:String,default:null},modellabel:{type:String},statuscode:{type:String},statusmsg:{type:String},view:{type:String,default:"initial",validator:function(t){return["initial","line"].indexOf(t)!==-1}},width:{type:String,default:"initial",validator:function(t){return["initial","wide","fit"].indexOf(t)!==-1}}},{modelValue:{},modelModifiers:{}}),emits:e.mergeModels(["onEdit"],["update:modelValue"]),setup(t,{emit:o}){e.useCssVars(x=>({17353220:d.value}));const n=e.useAttrs(),r=e.useModel(t,"modelValue"),a=e.ref(null),s=e.ref(null),l=t,i=e.ref(n.type),c=e.computed(()=>({["robo-input"]:!0,["robo-input-labeled"]:l.label,[`robo-input-width-${l.width}`]:l.width&&l.width!=="initial",[`robo-input-view-${l.view}`]:l.view&&l.view!=="initial",["robo-input-edit"]:l.edit,["robo-input-labeled"]:l.label,["robo-input-focused"]:u.value,["robo-input-disabled"]:n==null?void 0:n.disabled})),d=e.computed(()=>l.width==="fit"?r!=null&&r.value?`${r==null?void 0:r.value.length}ch`:n.hasOwnProperty("placeholder")?`${n.placeholder.length}ch`:"auto":l.width==="wide"?"100%":"auto"),u=e.ref(!!n.hasOwnProperty("autofocus")),m=()=>{u.value=!0},w=()=>{u.value=!1},g=o,b=e.ref("init"),k=e.ref(!1),f=e.ref(null),y=e.ref(!1),p=()=>{var x,h,B;b.value="init",f.value=null,y.value?(s.value!==((x=a.value)==null?void 0:x.value)&&(k.value=!0),s.value=(h=a.value)==null?void 0:h.value,y.value=!1):s.value!==((B=a.value)==null?void 0:B.value)?k.value=!0:k.value=!1},v=()=>{!k.value&&!u.value?(u.value=!0,setTimeout(()=>{a.value.focus()},10)):(b.value="loading",g("onEdit",(x,h)=>V(x,h)))},V=(x,h)=>{b.value=x,f.value=h||null,x==="ok"&&(k.value=!1,y.value=!0,s.value=a.value.value),x==="error"&&a.value.focus()},_=e.ref(!1),I=()=>{_.value=!_.value,i.value==="password"?i.value="text":i.value="password"};return e.onMounted(()=>{e.watch(()=>l.statuscode,x=>{b.value=x,x==="ok"&&(k.value=!1,y.value=!0,s.value=a.value.value)},{immediate:!0}),e.watch(()=>l.statusmsg,x=>{f.value=x},{immediate:!0})}),(x,h)=>{const B=e.resolveComponent("robo-text"),M=e.resolveComponent("robo-icon"),C=e.resolveComponent("robo-button"),S=e.resolveComponent("robo-details"),T=e.resolveComponent("robo-grid");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(c.value),disabled:b.value==="loading"},[t.label?(e.openBlock(),e.createBlock(B,{key:0,size:u.value?"small":"tiny",weight:"bold",class:"robo-input-label"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.label),1)]),_:1},8,["size"])):e.createCommentVNode("",!0),e.createVNode(T,{class:"robo-input-inside",type:"flex",gap:"x05",valign:"center"},{default:e.withCtx(()=>[t.modellabel?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass(["modelalbel",u.value||k.value?"hide":null])},e.toDisplayString(t.modellabel),3)):e.createCommentVNode("",!0),e.withDirectives(e.createElementVNode("input",e.mergeProps({ref_key:"input",ref:a},x.$attrs,{onFocus:m,onBlur:w,onInput:p,"onUpdate:modelValue":h[0]||(h[0]=D=>r.value=D),type:i.value,class:t.modellabel&&!u.value&&!k.value?"hide":null}),null,16,Cn),[[e.vModelDynamic,r.value]]),e.unref(n).type==="password"&&!e.unref(n).disabled?(e.openBlock(),e.createBlock(C,{key:1,onClick:e.withModifiers(I,["prevent"]),class:"showPasswordButton",clean:"",role:"switch","aria-pressed":_.value,"aria-label":_.value?"Hide":"Show"},{default:e.withCtx(()=>[e.createVNode(M,{icon:_.value?"eye-slash":"eye"},null,8,["icon"])]),_:1},8,["aria-pressed","aria-label"])):e.createCommentVNode("",!0),l.edit?(e.openBlock(),e.createBlock(C,{key:2,onClick:v,loading:b.value==="loading",disabled:e.unref(n).disabled,clean:""},{default:e.withCtx(()=>[b.value!=="loading"?(e.openBlock(),e.createBlock(M,{key:0,icon:!k.value&&!u.value?"pencil":"save"},null,8,["icon"])):e.createCommentVNode("",!0)]),_:1},8,["loading","disabled"])):e.createCommentVNode("",!0),b.value==="ok"||b.value==="error"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[f.value?(e.openBlock(),e.createBlock(S,{key:0},{summary:e.withCtx(()=>[e.createVNode(M,{icon:b.value==="ok"?"circle-check":"circle-exclamation",color:b.value==="ok"?"var(--robo-color-green)":"var(--robo-color-orange)"},null,8,["icon","color"])]),default:e.withCtx(()=>[e.createTextVNode(" "+e.toDisplayString(f.value),1)]),_:1})):(e.openBlock(),e.createBlock(M,{key:1,icon:b.value==="ok"?"circle-check":"circle-exclamation",color:b.value==="ok"?"var(--robo-color-green)":"var(--robo-color-orange)"},null,8,["icon","color"]))],64)):e.createCommentVNode("",!0)]),_:1})],10,xn)}}});var hn=L(_n,[["__scopeId","data-v-ee12fd6c"]]);const Mn={name:"RoboLayout"},In={class:"robo-layout"};function Vn(t,o,n,r,a,s){return e.openBlock(),e.createElementBlock("div",In,[e.renderSlot(t.$slots,"default",{},void 0,!0)])}var Bn=L(Mn,[["render",Vn],["__scopeId","data-v-2b4d6e00"]]);const Sn=["href"],Dn=["src"],Tn=Object.assign({name:"RoboLayoutHeader"},{__name:"Header",props:{logoIcon:{type:String},navigation:{type:Array},sticky:{type:Boolean,default:!0}},setup(t){const o=Z.useStore(),n=t,r=e.computed(()=>({["robo-layout-header"]:!0,["robo-layout-header--sticky"]:n.sticky})),a=e.computed(()=>window.location.origin||"/");return e.watch(()=>o.state.robonomicsUIvue.rws.list,s=>{o.dispatch("polkadot/detectNetwork"),(s==null?void 0:s.length)>0&&(o.dispatch("rws/checkNetworkRws"),o.dispatch("rws/getActiveSetup"))},{immediate:!0}),(s,l)=>{const i=e.resolveComponent("robo-grid"),c=e.resolveComponent("robo-rws-setup-active"),d=e.resolveComponent("robo-account-polkadot"),u=e.resolveComponent("RoboRwsUserKeys"),m=e.resolveComponent("robo-icon"),w=e.resolveComponent("robo-details"),g=e.resolveComponent("robo-text"),b=e.resolveComponent("robo-app-status");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("header",{class:e.normalizeClass(r.value)},[e.createVNode(i,{type:"flex",gap:"x05",valign:"center",galign:"stretch",class:"robo-layout-header-grid"},{default:e.withCtx(()=>[e.createVNode(i,{type:"flex",gap:"x05",valign:"center"},{default:e.withCtx(()=>[t.logoIcon?(e.openBlock(),e.createElementBlock("a",{key:0,href:a.value,class:"robo-layout-header-logo"},[e.createElementVNode("img",{src:t.logoIcon},null,8,Dn)],8,Sn)):e.createCommentVNode("",!0)]),_:1}),e.createVNode(g,{size:"small",class:"robo-header-subselect"},{default:e.withCtx(()=>[e.createVNode(i,{type:"flex",gap:"x05",galign:"end",valign:"center",class:"robo-layout-header-toolbar"},{default:e.withCtx(()=>[e.createVNode(c,{type:"popup",selectable:"",show:["date","owner","link"]}),e.createVNode(d,{extensionAllowShift:"",extensionShowIcon:"",selectable:"",showAccountsAs:"connected"}),e.createVNode(u),e.createVNode(w,{type:"tooltip",tooltipRatio:"none",class:"navigation",fitContent:""},{summary:e.withCtx(()=>[e.createVNode(m,{icon:"bars"})]),default:e.withCtx(()=>[e.renderSlot(s.$slots,"nav",{},void 0,!0)]),_:3})]),_:3})]),_:3})]),_:3})],2),e.createVNode(b)],64)}}});var zn=L(Tn,[["__scopeId","data-v-b65847a2"]]);const jn=e.defineComponent({name:"RoboLayoutSection",props:{selfcenter:{type:Boolean,default:!0},vcenter:{type:Boolean,default:!1},gcenter:{type:Boolean,default:!1},rwsrecover:{type:Boolean,default:!1},rwssave:{type:Boolean,default:!1},width:{type:String,default:"wide",validator(t){return["wide","middle-wide","middle","narrow"].includes(t)}}},computed:{classList(){return{["robo-layout-section"]:!0,["robo-layout-section--vcenter"]:this.vcenter,["robo-layout-section--gcenter"]:this.gcenter,[`robo-layout-section--${this.width}`]:this.width,["robo-layout-section--selfcenter"]:this.selfcenter}}}});function Ln(t,o,n,r,a,s){const l=e.resolveComponent("robo-template-rws-setup-backup");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(t.classList)},[e.renderSlot(t.$slots,"default",{},void 0,!0),t.rwsrecover?(e.openBlock(),e.createBlock(l,{key:0,recoverRedirect:"",save:t.rwssave},null,8,["save"])):e.createCommentVNode("",!0)],2)}var An=L(jn,[["render",Ln],["__scopeId","data-v-64baa063"]]);const En=e.defineComponent({name:"RoboLink",props:{disabled:{type:Boolean,default:!1},href:{type:String,default:null},router:{type:Object,default:null}},computed:{classList(){return{["robo-link"]:!0,["robo-link--disabled"]:this.disabled||!this.href&&!this.router}}},methods:{external(){if(this.href){let t=document.createElement("a");if(t.to=this.href,t.host!==window.location.host)return!0}}}}),Un=["href","target","rel"];function On(t,o,n,r,a,s){const l=e.resolveComponent("router-link");return e.openBlock(),e.createElementBlock(e.Fragment,null,[t.href?(e.openBlock(),e.createElementBlock("a",{key:0,class:e.normalizeClass(t.classList),href:t.href,target:t.external()?"_blank":null,rel:t.external()?"noopener":null},[e.renderSlot(t.$slots,"default",{},void 0,!0)],10,Un)):e.createCommentVNode("",!0),t.router?(e.openBlock(),e.createBlock(l,{key:1,class:e.normalizeClass(t.classList),to:t.router},{default:e.withCtx(()=>[e.renderSlot(t.$slots,"default",{},void 0,!0)]),_:3},8,["class","to"])):e.createCommentVNode("",!0)],64)}var Rn=L(En,[["render",On],["__scopeId","data-v-4374a44c"]]);const Zn={class:"robo-loader"},Pn={key:0,class:"robo-loader-1",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 100 100","xml:space":"preserve"},Gn={name:"RoboLoader"},$n=Object.assign(Gn,{props:{type:{type:String,default:"default",validator:function(t){return["default"].indexOf(t)!==-1}},color:{type:String,default:null},size:{type:Number,default:1}},setup(t){e.useCssVars(a=>({"7e339b57":n.value,"6732258d":r.value}));const o=t,n=e.computed(()=>o.color?o.color:"currentColor"),r=e.computed(()=>o.size?`${1*o.size}rem`:"1rem");return(a,s)=>(e.openBlock(),e.createElementBlock("div",Zn,[t.type==="default"?(e.openBlock(),e.createElementBlock("svg",Pn,s[0]||(s[0]=[e.createStaticVNode('<path class="robo-loader--fill" d="M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z" data-v-5f75cfac><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="2s" from="0 50 50" to="360 50 50" repeatCount="indefinite" data-v-5f75cfac></animateTransform></path><path class="robo-loader--fill" d="M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z" data-v-5f75cfac><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="-360 50 50" repeatCount="indefinite" data-v-5f75cfac></animateTransform></path><path class="robo-loader--fill" d="M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5L82,35.7z" data-v-5f75cfac><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="2s" from="0 50 50" to="360 50 50" repeatCount="indefinite" data-v-5f75cfac></animateTransform></path>',3)]))):e.createCommentVNode("",!0)]))}});var Fn=L($n,[["__scopeId","data-v-5f75cfac"]]);const Qn=e.defineComponent({name:"RoboProgress",props:{progress:{type:Number,default:null}},computed:{classList(){return{["robo-progress"]:!0,["robo-progress-loading"]:!this.progress,["robo-progress-number"]:this.progress}}}});function Wn(t,o,n,r,a,s){return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(t.classList)},[e.createElementVNode("span",{style:e.normalizeStyle("width: "+this.progress+"%")},null,4)],2)}var Hn=L(Qn,[["render",Wn],["__scopeId","data-v-40b6deda"]]);const Jn={name:"RoboSection"},Yn=Object.assign(Jn,{props:{card:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},gcenter:{type:Boolean,default:!1},offset:{type:String,default:"x0",validator(t){return["x0","x05","x1","x2","x3","x4"].includes(t)}},shadow:{type:Boolean,default:!1},width:{type:String,default:"wide",validator(t){return["wide","middle","narrow"].includes(t)}}},setup(t){e.useCssVars(i=>({e72a2162:a.value,"1b23ab9c":l.value}));const o=t,n=e.computed(()=>({["robo-section"]:!0,["robo-section-card"]:o.card,["robo-section-disabled"]:o.disabled,["robo-section-gcenter"]:o.gcenter,["robo-section-shadow"]:o.shadow})),r=i=>{var c;return(c={x0:"0",x025:"calc(var(--gap-layout) * 0.25)",x05:"calc(var(--gap-layout) * 0.5)",x1:"var(--gap-layout)",x2:"calc(var(--gap-layout) * 2)",x3:"calc(var(--gap-layout) * 3)",x4:"calc(var(--gap-layout) * 4)"}[i])!=null?c:"none"},a=e.computed(()=>r(o.offset)),s=i=>{var c;return(c={wide:"100%",middle:"1000px",narrow:"600px"}[i])!=null?c:"auto"},l=e.computed(()=>s(o.width));return(i,c)=>(e.openBlock(),e.createElementBlock("section",e.mergeProps(i.$attrs,{class:n.value}),[e.renderSlot(i.$slots,"default",{},void 0,!0)],16))}});var Xn=L(Yn,[["__scopeId","data-v-79ade200"]]);const Kn=["name","disabled"],qn=["value"],el=Object.assign({name:"RoboSelect",inheritAttrs:!1},{__name:"Select",props:e.mergeModels({block:{type:Boolean,default:!1},clean:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},label:{type:String},name:{type:String},offset:{type:String,default:"x0",validator(t){return["x0","x05","x1","x2","x4"].includes(t)}},options:{type:[Array,Object],default:null,required:!0},size:{type:String,default:"medium",validator(t){return["small","medium","large"].includes(t)}},values:{type:[Array,Object],default:null}},{modelValue:{},modelModifiers:{}}),emits:e.mergeModels(["update:modelValue"],["update:modelValue"]),setup(t,{emit:o}){e.useCssVars(i=>({"553faa9f":l.value}));const n=e.useModel(t,"modelValue"),r=t,a=e.computed(()=>({["robo-select"]:!0,["robo-select--clean"]:r.clean,["robo-select--block"]:r.block,["robo-select--disabled"]:r.disabled,[`robo-select--size-${r.size}`]:r.size,["robo-select--labeled"]:r.label})),s=i=>{var c;return(c={x0:"none",x025:"calc(var(--gap-layout) * 0.25)",x05:"calc(var(--gap-layout) * 0.5)",x1:"var(--gap-layout)",x2:"calc(var(--gap-layout) * 2)",x3:"calc(var(--gap-layout) * 3)",x4:"calc(var(--gap-layout) * 4)"}[i])!=null?c:"none"},l=e.computed(()=>s(r.offset));return(i,c)=>{const d=e.resolveComponent("robo-text"),u=e.resolveComponent("robo-icon");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(a.value),tabindex:"0"},[e.withDirectives(e.createElementVNode("select",e.mergeProps({name:t.name},i.$attrs,{"onUpdate:modelValue":c[0]||(c[0]=m=>n.value=m),onChange:c[1]||(c[1]=(...m)=>i.setWidth&&i.setWidth(...m)),disabled:t.disabled?!0:null}),[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.options,(m,w)=>(e.openBlock(),e.createElementBlock("option",{key:w,value:t.values?t.values[w]:m},e.toDisplayString(m),9,qn))),128))],16,Kn),[[e.vModelSelect,n.value]]),t.label?(e.openBlock(),e.createBlock(d,{key:0,size:"tiny",weight:"bold",class:"robo-select-label"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.label),1)]),_:1})):e.createCommentVNode("",!0),e.createVNode(u,{icon:"select-arrow"})],2)}}});var tl=L(el,[["__scopeId","data-v-54698756"]]);const ol={key:0,class:"robo-status-text"},nl={key:1,class:"robo-status-text"},ll={name:"RoboStatus"},rl=Object.assign(ll,{props:{close:{type:Boolean,default:!1},offset:{type:String,default:"x0",validator(t){return["x0","x025","x05","x1","x2","x4"].includes(t)}},solid:{type:Boolean,default:!1},timeout:{type:Number,default:null},type:{type:String,default:null,required:!0,validator:function(t){return["ok","info","warning","error","none"].indexOf(t)!==-1}}},setup(t){e.useCssVars(u=>({"22c63f07":l.value}));const o=e.useSlots(),n=t,r=e.computed(()=>({["robo-status"]:!0,["robo-status--solid"]:n.solid,[`robo-status--${n.type}`]:n.type})),a=e.computed(()=>{var u;return(u={ok:"circle-check",info:"circle-info",warning:"circle-exclamation",error:"circle-xmark"}[n.type])!=null?u:null});let s=u=>{var m;return(m={x0:"none",x025:"calc(var(--gap-layout) * 0.25)",x05:"calc(var(--gap-layout) * 0.5)",x1:"var(--gap-layout)",x2:"calc(var(--gap-layout) * 2)",x4:"calc(var(--gap-layout) * 4)"}[u])!=null?m:"none"};const l=e.computed(()=>s(n.offset)),i=e.ref(!1),c=e.ref(!1),d=()=>{c.value=!0};return e.onMounted(()=>{n.timeout&&setTimeout(()=>{i.value=!0},n.timeout)}),(u,m)=>{const w=e.resolveComponent("robo-icon"),g=e.resolveComponent("robo-button");return!i.value&&!c.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(r.value)},[e.unref(o).left?(e.openBlock(),e.createElementBlock("span",ol,[e.renderSlot(u.$slots,"left",{},void 0,!0)])):e.createCommentVNode("",!0),e.createVNode(w,{icon:a.value,color:"var(--color-accent)"},null,8,["icon"]),e.unref(o).default?(e.openBlock(),e.createElementBlock("span",nl,[e.renderSlot(u.$slots,"default",{},void 0,!0)])):e.createCommentVNode("",!0),t.close?(e.openBlock(),e.createBlock(g,{key:2,onClick:d,clean:"",class:"robo-status-close"},{default:e.withCtx(()=>[e.createVNode(w,{icon:"xmark"})]),_:1})):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0)}}});var al=L(rl,[["__scopeId","data-v-3f4f5a92"]]);const sl=e.defineComponent({name:"RoboTab",props:{label:{type:String,default:""},labelnumber:{type:Number}},computed:{classList(){return{["robo-tab"]:!0}}},setup(t){const o=e.inject("tabs"),n=e.inject("addTab");let r=e.ref(!1);return e.onBeforeMount(()=>{n({label:t.label,labelnumber:t.labelnumber})}),e.watch(o,()=>{o.forEach(a=>{a.label===t.label&&(r.value=a.active)})}),{...e.toRefs(o),isActive:r}}}),il=["aria-hidden"];function cl(t,o,n,r,a,s){return e.withDirectives((e.openBlock(),e.createElementBlock("div",{ref:"tab",class:e.normalizeClass(t.classList),"aria-hidden":!t.isActive,role:"tabpanel"},[e.renderSlot(t.$slots,"default")],10,il)),[[e.vShow,t.isActive]])}var ul=L(sl,[["render",cl]]);const dl=e.defineComponent({name:"RoboTable",props:{columns:{type:Object},rows:{type:Object},layout:{type:String,default:"auto",validator(t){return["auto","fixed"].includes(t)}}},setup(t){return{classes:e.computed(()=>({["robo-table"]:!0,[`robo-table--layout-${t.layout}`]:t.layout}))}}});function pl(t,o,n,r,a,s){return e.openBlock(),e.createElementBlock("table",{class:e.normalizeClass(t.classes)},[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columns,(l,i)=>(e.openBlock(),e.createElementBlock("th",{key:i,style:e.normalizeStyle(l.align?"text-align:"+l.align:null)},[e.createTextVNode(e.toDisplayString(l.label)+" ",1),e.renderSlot(t.$slots,"row("+l.key+")",{},void 0,!0)],4))),128))])]),e.createElementVNode("tbody",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.rows,(l,i)=>(e.openBlock(),e.createElementBlock("tr",{key:i},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columns,(c,d)=>(e.openBlock(),e.createElementBlock("td",{key:d,style:e.normalizeStyle(c.align?"text-align:"+c.align:null)},[e.createTextVNode(e.toDisplayString(l[c.key])+" ",1),e.renderSlot(t.$slots,"cell("+c.key+")",{row:l,i},void 0,!0)],4))),128))]))),128))])],2)}var ml=L(dl,[["render",pl],["__scopeId","data-v-27b462e7"]]);const vl=e.defineComponent({name:"RoboTabs",computed:{classList(){return{["robo-tabs"]:!0}}},setup(){const t=e.reactive({tabs:[]});e.provide("tabs",t.tabs),e.provide("addTab",n=>{n.active||(n.active=!1),t.tabs.push(n)});const o=n=>{t.tabs.forEach(r=>{r.active=!1}),t.tabs[n].active=!0};return e.onMounted(()=>{!t.tabs.length||t.tabs.findIndex(n=>n.active===!0)<0&&(t.tabs[0].active=!0)}),{...e.toRefs(t),selectTab:o}}}),fl={key:0,class:"tablist",role:"tablist","aria-labelledby":"tablist"},bl={key:0,class:"tablabel"};function gl(t,o,n,r,a,s){const l=e.resolveComponent("robo-button");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(t.classList)},[t.tabs?(e.openBlock(),e.createElementBlock("div",fl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.tabs,(i,c)=>(e.openBlock(),e.createBlock(l,{key:c,onClick:d=>t.selectTab(c),clean:"",type:i.active?"ok":"dark",size:"small",class:"tab",role:"tab","aria-selected":i.active,"aria-controls":`tabpanel-${c}`},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(i.label)+" ",1),i.labelnumber?(e.openBlock(),e.createElementBlock("span",bl,e.toDisplayString(i.labelnumber),1)):e.createCommentVNode("",!0)]),_:2},1032,["onClick","type","aria-selected","aria-controls"]))),128))])):e.createCommentVNode("",!0),e.renderSlot(t.$slots,"default",{},void 0,!0)],2)}var wl=L(vl,[["render",gl],["__scopeId","data-v-2db2d822"]]);const yl=Object.assign({name:"RoboText"},{__name:"Text",props:{align:{type:String,default:null,validator:t=>["left","center","right","hyphen"].includes(t)},break:{type:Boolean,default:!1},copy:{type:Boolean,default:!1},galign:{type:String,default:null,validator:t=>["left","center","right","hyphen"].includes(t)},gap:{type:Boolean,default:!1},color:{type:String,default:null,validator:t=>["ok","error","link","warning"].includes(t)},highlight:{type:String,default:null,validator:t=>["ok","error","link","warning"].includes(t)},highlightLabel:{type:String,default:null,validator:t=>["ok","error","link","warning"].includes(t)},highlightLabelClose:{type:Boolean,default:!1},highlightLabelCloseReopen:{type:Boolean,default:!1},hyphen:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},lines:{type:String,default:null,validator:t=>["dotted","dashed","solid"].includes(t)},linemiddle:{type:Boolean,default:!1},nowrap:{type:[Boolean,Number],default:!1},offset:{type:String,default:"x0",validator:t=>["x0","x025","x05","x1","x2","x4"].includes(t)},paragraphs:{type:Boolean,default:!1},size:{type:String,default:null,validator:t=>["tiny","small","medium","large"].includes(t)},title:{type:String,default:null,validator:t=>["1","2","3","4","5"].includes(t)},uppercase:{type:Boolean,default:!1},weight:{type:String,default:null,validator:t=>["bold","normal","light","normal-italic","bold-italic"].includes(t)},mark:{type:String,default:null}},emits:["onClose"],setup(t,{emit:o}){const n=t,r=o,a=e.ref(!1),s=e.ref(0),l=e.ref(null),i=e.computed(()=>n.title&&!n.offset?"x1":n.offset||"x0"),c=e.computed(()=>typeof n.nowrap=="number"?s.value<=n.nowrap:n.nowrap===!0),d=e.computed(()=>({"robo-text":!0,[`robo-text--align-${n.align}`]:n.align,[`robo-text--galign-${n.galign}`]:n.galign,[`robo-text--${n.size}`]:n.size,"robo-text--break":n.break,[`robo-text--style-${n.weight}`]:n.weight,"robo-text--inline":n.inline,"robo-text--gap":n.gap,[`robo-text--color-${n.color}`]:n.color,[`robo-text--highlight-${n.highlight}`]:n.highlight,[`robo-text--highlight-label-${n.highlightLabel}`]:n.highlightLabel,"robo-text--highlight-label-closable":n.highlightLabelClose,"robo-text--hyphen":n.hyphen,[`robo-text--offset-${i.value}`]:!0,"robo-text--nowrap":c.value,open:n.highlightLabelCloseReopen,"robo-text--uppercase":n.uppercase,[`robo-text--title-${n.title}`]:n.title,"robo-text--paragraphs":n.paragraphs,[`robo-text--lines-${n.lines}`]:n.lines,"robo-text--linemiddle":n.linemiddle})),u=()=>{l.value.classList.remove("open"),l.value.classList.add("hide"),r("onClose")},m=()=>{navigator.clipboard.writeText(l.value.innerText),a.value=!0,setTimeout(()=>{a.value=!1},1500)},w=()=>{l.value&&(s.value=l.value.textContent.trim().length)};return e.onMounted(()=>{e.nextTick(w)}),e.onUpdated(()=>{e.nextTick(w)}),(g,b)=>{const k=e.resolveComponent("robo-icon"),f=e.resolveComponent("robo-button");return e.openBlock(),e.createElementBlock("div",e.mergeProps({class:d.value,ref_key:"text",ref:l},g.$attrs),[e.renderSlot(g.$slots,"default",{},void 0,!0),t.highlightLabelClose&&t.highlightLabel?(e.openBlock(),e.createBlock(k,{key:0,onClick:u,class:"robo-text-close",icon:"xmark"})):e.createCommentVNode("",!0),t.copy?(e.openBlock(),e.createBlock(f,{key:1,onClick:m,class:"robo-text-copy",clean:"",iconLeft:a.value?"check":"copy"},null,8,["iconLeft"])):e.createCommentVNode("",!0)],16)}}});var kl=L(yl,[["__scopeId","data-v-ee744da0"]]);const xl=e.defineComponent({name:"RoboTextarea",props:{disabled:{type:Boolean,default:!1},label:{type:String,default:null},offset:{type:String,default:"x0",validator(t){return["x0","x05","x1","x2","x4"].includes(t)}},modelValue:{type:String,required:!0},tip:{type:String,default:null}},data(){return{focusedStatus:!1}},emits:["update:modelValue"],computed:{classes(){return{["robo-textarea"]:!0,["robo-textarea--block"]:this.block,["robo-textarea--disabled"]:this.disabled,["robo-textarea--focused"]:this.focusedStatus,["robo-textarea--labeled"]:this.label,[`robo-textarea-offset-${this.offset}`]:this.offset}},inputModel:{get(){if(!this.modelValue&&this.modelValue!="")console.warn("[robonomics-ui-vue3 warn]: `robo-textarea` component is missing required v-model directive");else return this.modelValue},set(t){this.$emit("update:modelValue",t)}},labelSize(){return this.focusedStatus?"small":"tiny"}},methods:{focused(){this.focusedStatus=!0},blurred(){this.focusedStatus=!1}}}),Cl=["disabled"],Nl=["innerHTML"];function _l(t,o,n,r,a,s){const l=e.resolveComponent("robo-text"),i=e.resolveComponent("robo-details");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(t.classes)},[t.label?(e.openBlock(),e.createBlock(l,{key:0,class:"robo-input-label",size:t.labelSize,weight:"bold"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.label),1)]),_:1},8,["size"])):e.createCommentVNode("",!0),e.withDirectives(e.createElementVNode("textarea",e.mergeProps({onFocus:o[0]||(o[0]=(...c)=>t.focused&&t.focused(...c)),onBlur:o[1]||(o[1]=(...c)=>t.blurred&&t.blurred(...c))},t.$attrs,{"onUpdate:modelValue":o[2]||(o[2]=c=>t.inputModel=c),ref:"textarea",disabled:t.disabled}),null,16,Cl),[[e.vModelText,t.inputModel,void 0,{trim:!0}]]),t.tip?(e.openBlock(),e.createBlock(i,{key:1,summaryButton:"",summaryButtonSize:"small",summaryText:"i",tooltip:"",tooltipPlacement:"bottom-end"},{default:e.withCtx(()=>[e.createElementVNode("div",{innerHTML:t.tip},null,8,Nl)]),_:1})):e.createCommentVNode("",!0)],2)}var hl=L(xl,[["render",_l],["__scopeId","data-v-4a479866"]]);const Ml={class:"robo-toggle"},Il=["id","disabled"],Vl=["for"],Bl=Object.assign({name:"RoboToggle",inheritAttrs:!1},{__name:"Toggle",props:e.mergeModels({status:{type:String,default:null,validator:t=>["init","waiting","ok","error","warning"].includes(t)},statusComment:{type:String,default:""}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const o=e.useModel(t,"modelValue"),n=t,r=e.computed(()=>([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,l=>(l^crypto.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16))),a=e.computed(()=>{var l;return(l={waiting:"clock",ok:"circle-check",warning:"circle-exclamation",error:"circle-xmark"}[n.status])!=null?l:null}),s=e.computed(()=>{var l;return(l={waiting:"var(--robo-color-orange)",ok:"var(--robo-color-green)",warning:"var(--robo-color-orange)",error:"var(--robo-color-red)"}[n.status])!=null?l:null});return(l,i)=>{var u;const c=e.resolveComponent("robo-icon"),d=e.resolveComponent("robo-details");return e.openBlock(),e.createElementBlock("div",Ml,[e.withDirectives(e.createElementVNode("input",e.mergeProps({type:"checkbox",id:r.value},l.$attrs,{"onUpdate:modelValue":i[0]||(i[0]=m=>o.value=m),disabled:t.status==="waiting"||((u=l.$attrs)==null?void 0:u.disabled)}),null,16,Il),[[e.vModelCheckbox,o.value]]),e.createElementVNode("label",{for:r.value,"aria-hidden":"true"},"Toggle",8,Vl),t.status?(e.openBlock(),e.createBlock(d,{key:0,class:"robo-toggle-status"},{summary:e.withCtx(()=>[e.createVNode(c,{icon:a.value,color:s.value},null,8,["icon","color"])]),default:e.withCtx(()=>[t.statusComment?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(t.statusComment),1)],64)):e.createCommentVNode("",!0)]),_:1})):e.createCommentVNode("",!0)])}}});var Sl=L(Bl,[["__scopeId","data-v-7efa5792"]]),xe={RoboTemplateRwsBuy:lt,RoboRwsGenerateSetup:at,RoboRwsHaPass:dt,RoboRwsSetup:bt,RoboRwsSetupActive:yt,RoboRwsSetupActiveInfo:_t,RoboRwsSetupActiveSelect:Mt,RoboTemplateRwsSetupForm:St,RoboRwsSetupNew:Tt,RoboRwsUser:Lt,RoboRwsUserAdd:Ut,RoboRwsUserKeys:Gt,RoboRwsUserSignin:Qt,RoboSmarthomeDashboard:Ht,RoboSmarthomeEntities:qt,RoboSmarthomeControls:ao,RoboSmarthomeEntity:io,RoboSmarthomeEntityDefault:vo,AccountPolkadotGenerate:go,RoboAccountPolkadot:Co,RoboAccountPolkadotChain:_o,RoboAccountPolkadotExtension:Vo,RoboPolkadotNetworkSelect:So,RoboAppStatus:zo,RoboButton:Eo,RoboButtonApprove:Ro,RoboCopy:Po,RoboDetails:Ho,RoboFileUpload:qo,RoboGrid:on,RoboGridItem:pn,RoboIcon:mn,RoboInput:kn,RoboInputNew:hn,RoboLayout:Bn,RoboLayoutHeader:zn,RoboLayoutSection:An,RoboLink:Rn,RoboLoader:Fn,RoboProgress:Hn,RoboSection:Xn,RoboSelect:tl,RoboStatus:al,RoboTab:ul,RoboTable:ml,RoboTabs:wl,RoboText:kl,RoboTextarea:hl,RoboToggle:Sl};const Dl={install(t,o){if(!o.store)throw new Error("Please initialise plugin with a Vuex store.");o.store.registerModule("robonomicsUIvue",nt);for(const n in xe)if(xe.hasOwnProperty(n)){const r=xe[n];t.component(r.name,r)}Ae.default.loadAll({ss58Format:32,type:"ed25519"})}};exports.robonomicsUI=Dl;
